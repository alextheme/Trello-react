(this["webpackJsonpmy-app-trello"]=this["webpackJsonpmy-app-trello"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(31),c=a.n(s),i=a(6),o=a(112),d=a(2),l=a(22),u=a(13),p=a(51),b=a(26),j=(a(64),a(65),a(66),a(7)),h=a(8),O=a(10),v=a(9),f=(a(67),a(3)),m=a.n(f),x=a(4),C=a(15),g=(a(69),a(36)),A=function(){return sessionStorage.getItem("token")},y=function(){sessionStorage.removeItem("token")},w=a.n(g).a.create({baseURL:"https://trello-back.shpp.me/aborimsky/api/v1",headers:{"Content-Type":"application/json"}});w.interceptors.request.use((function(e){var t=A()||"";return Object(d.a)(Object(d.a)({},e),{},{headers:Object(d.a)(Object(d.a)({},e.headers),{},{Authorization:"Bearer ".concat(t)})})})),w.interceptors.response.use((function(e){return e.data}));var I,N,k=w;!function(e){e.UPDATE_BOARDS="UPDATE_BOARDS",e.CLEAR_BOARDS="CLEAR_BOARDS"}(I||(I={})),function(e){e.LOADING="LOADING",e.LOADING_END="LOADING_END",e.LOGGING="LOGGING",e.LOGGING_END="LOGGING_END"}(N||(N={}));var D,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,logging:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.LOADING:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case N.LOADING_END:return Object(d.a)(Object(d.a)({},e),{},{loading:!1});case N.LOGGING:return Object(d.a)(Object(d.a)({},e),{},{logging:!0});case N.LOGGING_END:return Object(d.a)(Object(d.a)({},e),{},{logging:!1});default:return Object(d.a)({},e)}};!function(e){e.ERROR="ERROR",e.ERROR_CLEAR="ERROR_CLEAR"}(D||(D={}));var B,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errorMessages:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.ERROR:return{errorMessages:t.payload};case D.ERROR_CLEAR:return{errorMessages:[]};default:return Object(d.a)({},e)}},L=function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/board");case 3:a=e.sent,t({type:I.UPDATE_BOARDS,payload:a.boards}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.message,t({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0434\u043e\u0441\u043a\u0430\u0445.",r]});case 11:return e.prev=11,t({type:N.LOADING_END}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(t){return e.apply(this,arguments)}}()},R=function(e,t){var a=t||/[^\u0430-\u044f.\w\s\-\d]+/gi;if(""===e)return{status:!1,res:"empty",errSymbols:""};var r=e.match(a);return r?{status:!1,res:"forbidden",errSymbols:r.join(" ")}:{status:!0,res:"",errSymbols:""}},T=function(e){var t=document.getElementById(e);t&&setTimeout((function(){t.focus(),t.select()}),10)},_=function(e,t){var a;return!!(a="string"===typeof e?document.querySelector(e):e)&&(a.classList.contains(t)?(a.classList.remove(t),!0):(a.classList.add(t),!1))},M=function(e,t,a){var r=document.getElementById(e);r&&(r.style.display="block",r.innerText=a,setTimeout((function(){r.style.display="none"}),t))},P=function(e){document.body.classList.contains(e)?document.body.classList.remove(e):document.body.classList.add(e)},G=a(0),Q=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).globalValue={mounted:!1,isOpenPopap:!1,clickedContainerPopap:!1},r.inputOnChangeHandler=function(e){r.setState({nameNewBoard:e.target.value})},r.closedPopap=function(){r.globalValue.isOpenPopap=_(".add-board__popapp","display-none"),P("overflowHidden")},r.openPopap=function(){r.globalValue.isOpenPopap=_(".add-board__popapp","display-none"),P("overflowHidden"),T("addNewBoardInpt")},r.checkInputData=function(){var e=r.state.nameNewBoard,t=R(e),a=t.status,n=t.res,s=t.errSymbols;if(!a){if("empty"===n)return M("add-board-error-text",2e3,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c."),!1;if("forbidden"===n)return T("addNewBoardInpt"),M("add-board-error-text",2e3,"\u042d\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043d\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b: \n".concat(s)),!1}return!0},r.addNewBoard=function(){r.createNewBoard()},r.createNewBoard=Object(x.a)(m.a.mark((function e(){var t,a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.checkInputData()){e.next=2;break}return e.abrupt("return");case 2:if(r.closedPopap(),t=r.state.nameNewBoard,a=r.props,n=a.addBrd,s=a.getBrds,!n||!s){e.next=11;break}return e.next=8,n(t);case 8:return e.next=10,s();case 10:r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{nameNewBoard:""})}));case 11:case"end":return e.stop()}}),e)}))),r.popapClick=function(){r.globalValue.clickedContainerPopap?r.globalValue.clickedContainerPopap=!1:r.closedPopap()},r.popapContainerClick=function(){r.globalValue.clickedContainerPopap=!0},r.state={nameNewBoard:"",clickContainerPopap:!1},r.closedPopap=r.closedPopap.bind(Object(C.a)(r)),r.openPopap=r.openPopap.bind(Object(C.a)(r)),r.addNewBoard=r.addNewBoard.bind(Object(C.a)(r)),r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.globalValue.mounted=!0,document.addEventListener("keypress",(function(t){e.globalValue.isOpenPopap&&"Enter"===t.key&&(t.preventDefault(),e.createNewBoard())}))}},{key:"componentWillUnmount",value:function(){var e=this;this.globalValue.mounted=!1,document.removeEventListener("keypress",(function(t){e.globalValue.isOpenPopap&&"Enter"===t.key&&(t.preventDefault(),e.createNewBoard())}))}},{key:"render",value:function(){var e=this.state.nameNewBoard;return Object(G.jsxs)("div",{className:"add-board",children:[Object(G.jsx)("div",{className:"add-board__popapp display-none",onClick:this.popapClick,children:Object(G.jsxs)("div",{className:"add-board__container",onClick:this.popapContainerClick,children:[Object(G.jsx)("button",{className:"add-board__close-btn",onClick:this.closedPopap}),Object(G.jsxs)("div",{className:"add-board__input-container",children:[Object(G.jsx)("div",{id:"add-board-error-text",className:"add-board__errorHint"}),Object(G.jsx)("input",{id:"addNewBoardInpt",type:"text",autoComplete:"off",value:e,onChange:this.inputOnChangeHandler})]}),Object(G.jsx)("button",{className:"add-board__create-new-board",onClick:this.addNewBoard,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443"})]})}),Object(G.jsx)("button",{className:"create-new-board-begin",onClick:this.openPopap,children:"+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443"})]})}}]),a}(n.a.Component),U=Object(i.b)(null,{getBrds:L,addBrd:function(e){return function(){var t=Object(x.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N.LOADING}),a({type:D.ERROR_CLEAR}),t.prev=2,t.next=5,k.post("/board",{title:e});case 5:if("Created"===t.sent.result){t.next=8;break}throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443.");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443.",t.t0.message]});case 13:return t.prev=13,a({type:N.LOADING_END}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}})(Q),H=(a(89),Object(i.b)(null,{getBoards:L,deleteBoard:function(e){return function(){var t=Object(x.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N.LOADING}),a({type:D.ERROR_CLEAR}),t.prev=2,t.next=5,k.delete("/board/".concat(e));case 5:if("Deleted"===t.sent.result){t.next=8;break}throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0434\u043e\u0441\u043a\u0443.");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0434\u043e\u0441\u043a\u0443.",t.t0.message]});case 13:return t.prev=13,a({type:N.LOADING_END}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.boardId,a=e.title,n=e.deleteBoard,s=Object(r.useRef)(null);Object(r.useEffect)((function(){return s.current=!0,function(){return s.current=!1}}));var c=function(){var t=Object(x.a)(m.a.mark((function t(a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=a.target.getAttribute("data-id"),t.next=4,n(r);case 4:s.current&&e.getBoards();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:"board__container",children:[Object(G.jsx)("div",{className:"board__delete_btn","data-id":t,onClick:c}),Object(G.jsx)("div",{className:"board__title-box",children:Object(G.jsx)("span",{className:"board__title",children:a})})]})}))),F=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(j.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).fetchBoards=function(){(0,e.props.boardsGet)()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchBoards()}},{key:"render",value:function(){var e=this.props,t=e.match.url,a=e.boardsList;return Object(G.jsx)("div",{className:"home-boards",children:Object(G.jsx)("div",{className:"home-boards__wrapper",children:Object(G.jsxs)("ul",{className:"home-boards__list",children:[a&&a.map((function(e){return Object(G.jsx)("li",{className:"home-boards__list-element",children:Object(G.jsx)(l.b,{to:"".concat(t,"board/").concat(e.id),children:Object(G.jsx)(H,{boardId:e.id,title:e.title})})},e.id)})),Object(G.jsx)("li",{className:"home-boards__list-element btn",children:Object(G.jsx)(U,{})},"btn")]})})})}}]),a}(n.a.Component),J=Object(i.b)((function(e){return Object(d.a)({},e.boards)}),{boardsGet:L})(F),z=a(17),V=(a(93),a(5));!function(e){e.UPDATE_BOARD="UPDATE_BOARD",e.CLEAR_BOARD="CLEAR_BOARD"}(B||(B={}));var Y=function(e){return function(){var t=Object(x.a)(m.a.mark((function t(a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/board/".concat(e));case 3:r=t.sent,a({type:B.UPDATE_BOARD,payload:r}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error update data: ",t.t0),a({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043e\u0441\u043a\u0443",t.t0.message]});case 11:return t.prev=11,a({type:N.LOADING_END}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,7,11,14]])})));return function(e){return t.apply(this,arguments)}}()},q=function(e,t){return Object.entries(e.cards).sort((function(e,t){var a=Object(V.a)(e,2)[1],r=Object(V.a)(t,2)[1];return a.position-r.position})).filter((function(e){return Object(V.a)(e,2)[1].position>=t})).map((function(t){var a=Object(V.a)(t,2)[1];return{id:a.id,position:a.position+1,list_id:e.id}}))},K=function(e,t,a,r){return function(){var n=Object(x.a)(m.a.mark((function n(s){var c,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s({type:N.LOADING}),s({type:D.ERROR_CLEAR}),c=q(t,a),n.prev=3,n.next=6,k.put("/board/".concat(e,"/card"),c);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),s({type:D.ERROR,payload:["\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438.",n.t0.message]});case 11:return n.prev=11,s({type:N.LOADING_END}),n.finish(11);case 14:return n.prev=14,n.next=17,k.post("/board/".concat(e,"/card"),{title:r,list_id:t.id,position:a});case 17:return i=n.sent,n.abrupt("return","Created"===i.result?i.id:void 0);case 21:return n.prev=21,n.t1=n.catch(14),s({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443.",n.t1.message]}),n.abrupt("return",void 0);case 25:return n.prev=25,s({type:N.LOADING_END}),n.finish(25);case 28:case"end":return n.stop()}}),n,null,[[3,8,11,14],[14,21,25,28]])})));return function(e){return n.apply(this,arguments)}}()},X=function(e,t){var a=-1;return Object.entries(e.cards).sort((function(e,t){var a=Object(V.a)(e,2)[1],r=Object(V.a)(t,2)[1];return a.position-r.position})).filter((function(e){var r=Object(V.a)(e,2)[1];return r.id===+t&&(a=r.position),r.id!==+t})).filter((function(e){return Object(V.a)(e,2)[1].position>=a})).map((function(t,r){return{id:Object(V.a)(t,2)[1].id,position:a+r,list_id:e.id}}))},W=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var r=Object(x.a)(m.a.mark((function r(n){var s,c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n({type:N.LOADING}),n({type:D.ERROR_CLEAR}),s=a&&X(a,t),r.prev=3,!s){r.next=18;break}return r.next=7,k.delete("/board/".concat(e,"/card/").concat(t));case 7:return c=r.sent,r.prev=8,r.next=11,k.put("/board/".concat(e,"/card"),s);case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(8),n({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443. \u0421\u0431\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u0437\u0449\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a.",r.t0.message]}),r.abrupt("return",!1);case 17:return r.abrupt("return","Deleted"===c.result);case 18:return r.abrupt("return",!1);case 21:return r.prev=21,r.t1=r.catch(3),n({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443.",r.t1.message]}),r.abrupt("return",!1);case 25:return r.prev=25,n({type:N.LOADING_END}),r.finish(25);case 28:case"end":return r.stop()}}),r,null,[[3,21,25,28],[8,13]])})));return function(e){return r.apply(this,arguments)}}()},Z=function(e,t){return function(){var a=Object(x.a)(m.a.mark((function a(r){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:N.LOADING}),r({type:D.ERROR_CLEAR}),a.prev=2,a.next=5,k.put("/board/".concat(e,"/card"),t);case 5:return n=a.sent,a.abrupt("return","Updated"===n.result);case 9:return a.prev=9,a.t0=a.catch(2),r({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438.",a.t0.message]}),a.abrupt("return",!1);case 13:return a.prev=13,r({type:N.LOADING_END}),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[2,9,13,16]])})));return function(e){return a.apply(this,arguments)}}()},$=function(e,t,a,r,n){return function(){var s=Object(x.a)(m.a.mark((function s(c){var i,o;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c({type:N.LOADING}),c({type:D.ERROR_CLEAR}),i="title"===n?{title:r,list_id:t}:{description:r,list_id:t},s.prev=3,s.next=6,k.put("/board/".concat(e,"/card/").concat(a),i);case 6:return o=s.sent,s.abrupt("return","Updated"===o.result);case 10:return s.prev=10,s.t0=s.catch(3),console.log("edit card error: ",s.t0),c({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438.",s.t0.message]}),s.abrupt("return",!1);case 15:return s.prev=15,c({type:N.LOADING_END}),s.finish(15);case 18:case"end":return s.stop()}}),s,null,[[3,10,15,18]])})));return function(e){return s.apply(this,arguments)}}()},ee=a(14),te=(a(94),function(e){var t=e.statusErrorText,a=e.res,r=e.errSymbols,n=e.parentId,s=r.length>1,c=document.getElementById(n),i={top:0,left:0};if(c){var o=c.getBoundingClientRect(),l=o.top,u=o.left,p=o.height;i.top=l+p+8,i.left=u}return t?Object(G.jsxs)("div",{className:"pop-up-message",style:Object(d.a)({},i),children:[Object(G.jsx)("div",{className:"triangle"}),Object(G.jsx)("div",{className:"message",children:"empty"===a?Object(G.jsx)("p",{children:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("p",{children:"\u042d\u0442".concat(s?"\u0442\u0438":"\u043e\u0442"," \u0441\u0438\u043c\u0432\u043e\u043b").concat(s?"\u044b":""," \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d").concat(s?"\u044b":"",".")}),Object(G.jsx)("p",{children:r})]})})]}):null}),ae=function(e){var t=e.cardId,a=e.awesomeIcon,r=e.titleBtn,n=e.handlerOnClick;return Object(G.jsxs)("a",{href:"#",className:"editor-card__btn-item","data-id-card":t,onClick:n,children:[Object(G.jsx)("div",{className:"icon",children:Object(G.jsx)(ee.a,{icon:a})}),Object(G.jsx)("span",{className:"editor-card__btn-item-text",children:r})]})},re=function(e){var t=e.x,a=e.y,n=e.card,s=e.deleteCard,c=e.closeEditor,i=e.closeBGEditor,o=e.saveTitle,l=e.width,u=Object(r.useState)(n.title),p=Object(V.a)(u,2),b=p[0],j=p[1],h=Object(r.useState)({statusErrorText:!1,res:"",errSymbols:""}),O=Object(V.a)(h,2),v=O[0],f=O[1],C=Object(r.useRef)(null);Object(r.useEffect)((function(){var e;null===C||void 0===C||null===(e=C.current)||void 0===e||e.focus()}),[]);var g=function(){var e=Object(x.a)(m.a.mark((function e(){var t,a,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=R(b),a=t.status,r=t.res,s=t.errSymbols,!a){e.next=6;break}return e.next=4,o(b,n.id);case 4:e.next=8;break;case 6:f({statusErrorText:!0,res:r,errSymbols:s}),setTimeout((function(){f({statusErrorText:!1,res:r,errSymbols:s})}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:"quick-card-editor",children:[Object(G.jsx)("div",{className:"background_edit_card_abs",onClick:i,children:Object(G.jsx)("span",{className:"editor-card__close-icon",onClick:c,children:Object(G.jsx)(ee.a,{icon:"times"})})}),Object(G.jsxs)("div",{className:"editor-card",style:{top:"".concat(a,"px"),left:"".concat(t,"px")},children:[Object(G.jsx)("textarea",{id:"card-edit-text-area-".concat(n.id),className:"editor-card__title-edit",style:{width:l},dir:"auto",defaultValue:b,onInput:function(e){j(e.target.value)},ref:C,onFocus:function(e){var t=e.target;setTimeout((function(){t.selectionStart=0,t.selectionEnd=9e3}),0)}}),Object(G.jsx)("input",{className:"editor-card__title-edit-button",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:g}),Object(G.jsx)("div",{className:"editor-card__buttons",children:Object(G.jsx)(ae,{titleBtn:"delete card",awesomeIcon:["fas","trash-alt"],cardId:n.id,handlerOnClick:s})}),Object(G.jsx)(te,Object(d.a)(Object(d.a)({},v),{},{parentId:"card-edit-text-area-".concat(n.id)}))]})]})},ne=n.a.createContext({}),se=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).onClickOpenEditor=function(e,t){var a=t.target.closest(".card_item").getBoundingClientRect();r.setState({openEditCard:!0,width:a.width,x:a.left,y:a.top,card:e})},r.closeEditor=function(){r.setState({openEditCard:!1})},r.handlerClickClosedEditCard=function(e){var t=!0;[".editor-card__title",".editor-card__buttons"].forEach((function(a){e.target.closest(a)&&(t=!1)})),t&&r.closeEditor()},r.onClickDeleteCard=function(){var e=Object(x.a)(m.a.mark((function e(t){var a,n,s,c,i,o,d,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props.cardDelete,s=r.context,c=s.updateBoard,i=s.boardId,o=s.boardData,d=t.target.dataset.idCard||t.target.parentElement.dataset.idCard||t.target.parentElement.parentElement.dataset.idCard||t.target.parentElement.parentElement.parentElement.dataset.idCard,l=null===(a=Object.entries(o.lists).find((function(e){var t,a=Object(V.a)(e,2)[1];return null===(t=Object.entries(a.cards).find((function(e){var t=Object(V.a)(e,2)[1];return"".concat(t.id)===d})))||void 0===t?void 0:t[1]})))||void 0===a?void 0:a[1],e.next=6,n(i,d,l);case 6:return e.next=8,c();case 8:r.setState({openEditCard:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.saveTitleCard=function(){var e=Object(x.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.handlerCardTitleRename(t,a),r.closeEditor();case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.handlerCardTitleRename=function(){var e=Object(x.a)(m.a.mark((function e(t,a){var n,s,c,i,o,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,s=n.listId,c=n.cardEdit,i=r.context,o=i.updateBoard,d=i.boardId,e.next=4,c(d,s,a,t,"title");case 4:o();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.state={openEditCard:!1,card:{id:-1,position:-1,title:"",created_at:-1,description:"",users:[]},x:0,y:0,width:0},r}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.cards,r=t.onMouseDownForCard,n=t.listId,s=this.state,c=s.openEditCard,i=s.card,o=s.x,u=s.y,p=s.width,b=this.context,j=b.boardId,h=b.handlerOpenDetatisCard,O={openEditCard:c,card:i,x:o,y:u,width:p,closeEditor:this.closeEditor,closeBGEditor:this.handlerClickClosedEditCard,deleteCard:this.onClickDeleteCard,saveTitle:this.saveTitleCard};return Object(G.jsxs)(G.Fragment,{children:[Object.entries(a).sort((function(e,t){return e[1].position-t[1].position})).map((function(t,a){var s=Object(V.a)(t,2)[1];return Object(G.jsx)(l.b,{to:"/b/".concat(j,"/c/").concat(s.id),className:"card_item","data-card-id":s.id,"data-list-id":n,"data-card-ind-pos":a,onMouseDown:r,onClick:h,children:Object(G.jsxs)("div",{className:"card_cover",children:["(",s.id,") - pos: ",s.position,Object(G.jsx)("h4",{className:"title",children:s.title}),Object(G.jsx)("button",{className:"card__open-card-editor-btn",onClick:e.onClickOpenEditor.bind(e,s),children:Object(G.jsx)(ee.a,{icon:["fas","pencil-alt"]})})]})},s.id)})),c?Object(G.jsx)(re,Object(d.a)({},O)):null]})}}]),a}(n.a.Component),ce={cardDelete:W,cardEdit:$};se.contextType=ne;var ie=Object(i.b)(null,ce)(se),oe={listRenameTitle:function(e,t,a){return function(){var r=Object(x.a)(m.a.mark((function r(n){var s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:N.LOADING}),n({type:D.ERROR_CLEAR}),r.prev=2,r.next=5,k.put("/board/".concat(e,"/list/").concat(t),{title:a});case 5:return s=r.sent,r.abrupt("return","Updated"===s.result);case 9:return r.prev=9,r.t0=r.catch(2),n({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043f\u0438\u0441\u043e\u043a.",r.t0.message]}),r.abrupt("return",!1);case 13:return r.prev=13,n({type:N.LOADING_END}),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[2,9,13,16]])})));return function(e){return r.apply(this,arguments)}}()}},de=Object(i.b)(null,oe)((function(e){var t=e.titleList,a=e.listId,n=e.processMovingList,s=e.listRenameTitle,c=Object(r.useState)(t),i=Object(V.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(t),p=Object(V.a)(u,2),b=p[0],j=p[1],h=Object(r.useState)(!1),O=Object(V.a)(h,2),v=O[0],f=O[1],C=Object(r.useState)({statusErrorText:!1,res:"",errSymbols:""}),g=Object(V.a)(C,2),A=g[0],y=g[1],w=Object(r.useState)(0),I=Object(V.a)(w,2),N=I[0],k=I[1],D=Object(r.useContext)(ne),E=D.updateBoard,B=D.boardId,S=function(){var e=Object(x.a)(m.a.mark((function e(t){var r,n,c,i,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(o),n=r.status,c=r.res,i=r.errSymbols,!(n&&B&&E)){e.next=9;break}return d=t.value,e.next=5,s(B,a,d||o);case 5:e.sent?(l(d||o),j(d||o),t.classList.remove("focus"),f(!1)):(l(b),f(!1)),e.next=12;break;case 9:y({statusErrorText:!0,res:c,errSymbols:i}),t.focus(),t.select();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:"editable-list-title",children:[Object(G.jsx)("h2",{className:"list-title",style:{display:v?"none":"block",position:"relative"},onClick:function(e){if(!n){var t=e.currentTarget,a=t.getBoundingClientRect().height;k(a),f(!0),y({statusErrorText:!0,res:"",errSymbols:""}),setTimeout((function(){t.nextSibling.focus(),t.nextSibling.select(),t.nextSibling.classList.add("focus")}),10)}},children:o}),Object(G.jsx)("textarea",{id:"input-title-list-".concat(a),className:"editable-list-textarea",defaultValue:o,onInput:function(e){A.statusErrorText&&y({statusErrorText:!1,res:"",errSymbols:""});var t=e.target.value;l(t)},onBlur:function(e){S(e.currentTarget)},onKeyPress:function(e){"Enter"===e.code&&S(e.currentTarget)},autoComplete:"off",style:{display:v?"block":"none",position:"relative",height:N}}),v&&""!==A.res&&Object(G.jsx)(te,Object(d.a)(Object(d.a)({},A),{},{parentId:"input-title-list-".concat(a)}))]})})),le=a(24),ue=["listAdd"],pe=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).globalValue={mounted:void 0,nameRunButton:void 0,bgRunButton:void 0,timeOut:void 0},r.inputRef=void 0,r.onInputHandler=function(e){e.preventDefault();var t=e.target.value,a=R(t),n=a.status,s=a.errSymbols;n?r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{nameList:t})})):r.errorHandling(1,s)},r.errorHandling=function(e,t){1===e&&r.showMessageInBottom(e,t)},r.showMessageInBottom=function(e,t){var a=document.querySelector(".add-list__add-btn-run");a&&(a.innerText=0===e?"The input field is empty":"character ' ".concat(t," ' is not allowed"),a.style.background="red",r.globalValue.timeOut&&clearTimeout(r.globalValue.timeOut),r.globalValue.timeOut=setTimeout((function(){a.innerText=r.globalValue.nameRunButton||"",a.style.background=r.globalValue.bgRunButton||""}),2e3))},r.buttonHandlerOpenFieldInput=function(){var e=r.inputRef.current;e&&(e.focus(),e.select()),r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{openInput:!0})}))},r.closeFieldInputHandler=function(){r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{openInput:!1})}))},r.handlerAddNewList=function(){var e=r.state.nameList;""!==e?setTimeout(Object(x.a)(m.a.mark((function t(){var a,n,s,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.props,n=a.listAdd,s=Object(le.a)(a,ue),t.next=3,n(s.boardId,e,s.position);case 3:return r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{nameList:""})})),c=r.context,i=c.updateBoard,t.next=7,i();case 7:r.closeFieldInputHandler();case 8:case"end":return t.stop()}}),t)}))),10):r.showMessageInBottom(0,"")},r.state={nameList:"",openInput:!1},r.inputRef=n.a.createRef(),r.handlerAddNewList=r.handlerAddNewList.bind(Object(C.a)(r)),r.onInputHandler=r.onInputHandler.bind(Object(C.a)(r)),r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.globalValue.mounted=!0;var t=document.querySelector(".add-list__add-btn-run");t&&(this.globalValue.nameRunButton=t.innerText,this.globalValue.bgRunButton=t.style.background),document.addEventListener("keypress",(function(t){var a=document.getElementById("add-list__input-field1");e.globalValue.mounted&&a===document.activeElement&&"Enter"===t.key&&e.handlerAddNewList()})),document.addEventListener("click",(function(t){e.globalValue.mounted&&function(e,t){for(var a=!0,r=0;r<e.length;r++){var n="."===e[r][0]?document.querySelector(e[r]):document.getElementById(e[r]);n&&n===t&&(a=!1)}return a}([".add-list__add-btn-start",".add-list__edit-container",".add-list__btn-box",".add-list__add-btn-run",".add-list__close-btn","add-list__input-field1"],t.target)&&e.closeFieldInputHandler()}))}},{key:"componentWillUnmount",value:function(){this.globalValue.mounted=!1}},{key:"render",value:function(){var e=this.state,t=e.openInput,a=e.nameList;return Object(G.jsx)("div",{className:"board__add-list-btn",children:Object(G.jsxs)("div",{className:"add-list",children:[Object(G.jsxs)("div",{className:"add-list__edit-container",style:{display:t?"block":"none"},children:[Object(G.jsx)("input",{ref:this.inputRef,id:"add-list__input-field1",type:"text",placeholder:"\u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u043f\u0438\u0441\u043a\u0430",autoComplete:"off",onInput:this.onInputHandler,value:a}),Object(G.jsxs)("div",{className:"add-list__btn-box",children:[Object(G.jsx)("button",{className:"add-list__add-btn-run",onClick:this.handlerAddNewList,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(G.jsx)("div",{className:"add-list__close-btn",onClick:this.closeFieldInputHandler})]})]}),Object(G.jsx)("button",{className:"add-list__add-btn-start",onClick:this.buttonHandlerOpenFieldInput,style:{display:t?"none":"inline-block"},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443"})]})})}}]),a}(n.a.Component),be={listAdd:function(e,t,a){return function(){var r=Object(x.a)(m.a.mark((function r(n){var s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:N.LOADING}),n({type:D.ERROR_CLEAR}),r.prev=2,r.next=5,k.post("/board/".concat(e,"/list"),{title:t,position:a});case 5:return s=r.sent,r.abrupt("return","Updated"===s.result);case 9:return r.prev=9,r.t0=r.catch(2),n({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u0430 \u0434\u043e\u0441\u043a\u0443.",r.t0.message]}),r.abrupt("return",!1);case 13:return r.prev=13,n({type:N.LOADING_END}),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[2,9,13,16]])})));return function(e){return r.apply(this,arguments)}}()}};pe.contextType=ne;var je=Object(i.b)(null,be)(pe),he=["cardCreate"],Oe=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).mounted=!1,r.textareaRef=void 0,r.inputOnChangeHandler=function(e){r.mounted&&(r.state.statusErrorText&&r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{statusErrorText:!1})})),r.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{nameCard:e.target.value})})))},r.onClickButtonCloseInputField=function(){(0,r.props.handlerClickCloseAddedCard)(),r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{statusErrorText:!1})}))},r.onKeyPressInputAddCard=function(e){if("Enter"===e.code&&13===e.charCode){var t=e.target.dataset,a=t.countcards,n=t.idlist;r.addNewCard(n,a)}},r.onClickButtonAddCard=function(e){var t=e.target.dataset,a=t.countcards,n=t.idlist;r.addNewCard(n,a)},r.addNewCard=function(){var e=Object(x.a)(m.a.mark((function e(t,a){var n,s,c,i,o,l,u,p,b,j,h,O;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.mounted){e.next=2;break}return e.abrupt("return");case 2:if(n=r.props,s=n.cardCreate,c=Object(le.a)(n,he),i=Object.assign({},r.state),o=r.context.boardId,l=R(i.nameCard),u=l.status,p=l.res,b=l.errSymbols,!u){e.next=15;break}return e.next=9,s(o,i.nameCard,+t,+a+1);case 9:return j=r.context.updateBoard,e.next=12,j();case 12:return r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{openInputAddCard:!1,nameCard:""})})),c.handlerClickCloseAddedCard(),e.abrupt("return");case 15:r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{statusErrorText:!0,res:p,errSymbols:b})})),setTimeout((function(){r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{statusErrorText:!1})}))}),2e3),h=r.props.addCardInputId,(O=document.getElementById(h))&&(O.focus(),O.select());case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.state={nameCard:"",statusErrorText:!1,res:"",errSymbols:"",positionFixed:!0},r.textareaRef=n.a.createRef(),r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.props.addCardInputId,t=document.getElementById(e);null===t||void 0===t||t.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.listId,a=e.countCards,r=e.addCardInputId,n=this.state.nameCard;return Object(G.jsx)("div",{id:"add-card-container-".concat(t),className:"add-card__container",style:{position:"relative"},children:Object(G.jsxs)("div",{className:"add-card__input-box",children:[Object(G.jsx)("div",{className:"textarea-wrapper",children:Object(G.jsx)("textarea",{ref:this.textareaRef,id:r,className:"add-card__input-field",placeholder:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",value:n,"data-idlist":t,"data-countcards":a,onChange:this.inputOnChangeHandler,onKeyPress:this.onKeyPressInputAddCard,autoComplete:"off",onFocus:function(e){return e.currentTarget.select()}})}),Object(G.jsxs)("div",{id:"btn-add-card-container-".concat(t),className:"add-card__btn-box",children:[Object(G.jsx)("button",{id:"btn-add-card-".concat(t),className:"add-card__add-btn-run","data-idlist":t,"data-countcards":a,onClick:this.onClickButtonAddCard,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 ".concat(a+1)}),Object(G.jsx)("div",{className:"add-card__close-btn",onClick:this.onClickButtonCloseInputField})]}),Object(G.jsx)(te,Object(d.a)(Object(d.a)({},this.state),{},{parentId:r}))]})})}}]),a}(n.a.Component),ve={cardCreate:function(e,t,a,r){return function(){var n=Object(x.a)(m.a.mark((function n(s){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s({type:N.LOADING}),s({type:D.ERROR_CLEAR}),n.prev=2,n.next=5,k.post("/board/".concat(e,"/card"),{title:t,list_id:a,position:r});case 5:return c=n.sent,n.abrupt("return","Created"===c.result?c.id:void 0);case 9:return n.prev=9,n.t0=n.catch(2),s({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443.",n.t0.message]}),n.abrupt("return",void 0);case 13:return n.prev=13,s({type:N.LOADING_END}),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,9,13,16]])})));return function(e){return n.apply(this,arguments)}}()}};Oe.contextType=ne;var fe=Object(i.b)(null,ve)(Oe),me=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).onClickOpenAddedCard=function(e){r.setState({openAddCard:e.target.dataset.btnAddCardListId})},r.onClickDeleteList=function(){var e=Object(x.a)(m.a.mark((function e(t){var a,n,s,c,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,n=a.dataset.listId||a.parentElement.dataset.listId,s=r.props.listDelete,c=r.context,i=c.boardId,o=c.updateBoard,e.next=6,s(+i,n);case 6:o();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handlerClickCloseAddedCard=function(){r.setState({openAddCard:""})},r.onClickColumn=function(e){e.target.classList.contains("list_wrapper")&&r.setState({openAddCard:""})},r.state={openAddCard:""},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.lists,r=t.heightContainer,n=t.onMouseDownForList,s=t.onMouseDownForCard,c=t.processMovingList,i=this.context.boardId,o=this.state.openAddCard;return Object(G.jsxs)(G.Fragment,{children:[Object.entries(a).sort((function(e,t){return e[1].position-t[1].position})).map((function(t){var a=Object(V.a)(t,2)[1],i=+o===a.id;return Object(G.jsx)("div",{className:"list_wrapper","data-list-id":a.id,onClick:e.onClickColumn,style:{height:r},onMouseDown:n,children:Object(G.jsxs)("div",{className:"list_detalis",style:{maxHeight:r},children:[Object(G.jsxs)("div",{children:[a.id,", pos: ",a.position]}),Object(G.jsxs)("div",{className:"list_header",children:[Object(G.jsx)(de,{titleList:a.title,listId:a.id,processMovingList:c}),Object(G.jsx)("span",{className:"list__delete-btn","data-list-id":a.id,onClick:e.onClickDeleteList,children:Object(G.jsx)(ee.a,{icon:["fas","ellipsis-h"]})})]}),Object(G.jsxs)("div",{className:"list_content","data-list-id":a.id,style:{maxHeight:r-125},children:[Object(G.jsx)(ie,{listId:a.id,cards:a.cards,onMouseDownForCard:s}),i?Object(G.jsx)(fe,{listId:"".concat(a.id),countCards:Object.keys(a.cards).length,addCardInputId:"add_card_textarea_".concat(a.id),handlerClickCloseAddedCard:e.handlerClickCloseAddedCard}):null]}),Object(G.jsx)("div",{className:"list_bottom",children:i?null:Object(G.jsx)("button",{id:"btn-list-add-card-".concat(a.id),"data-btn-add-card-list-id":a.id,className:"add-card__add-btn-start",onClick:e.onClickOpenAddedCard,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})})]})},a.id)})),Object(G.jsx)(je,{boardId:i,position:Object.entries(a).length+1})]})}}]),a}(n.a.Component);me.contextType=ne;var xe=Object(i.b)(null,{listDelete:function(e,t){return function(){var a=Object(x.a)(m.a.mark((function a(r){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:N.LOADING}),r({type:D.ERROR_CLEAR}),a.prev=2,a.next=5,k.delete("/board/".concat(e,"/list/").concat(t));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),r({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441 \u0434\u043e\u0441\u043a\u0438.",a.t0.message]});case 10:return a.prev=10,r({type:N.LOADING_END}),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[2,7,10,13]])})));return function(e){return a.apply(this,arguments)}}()}})(me),Ce=Object(i.b)(null,{changeBoardTitle:function(e,t){return function(){var a=Object(x.a)(m.a.mark((function a(r){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:N.LOADING}),r({type:D.ERROR_CLEAR}),a.prev=2,a.next=5,k.put("/board/".concat(e),{title:t});case 5:return n=a.sent,a.abrupt("return","Updated"===n.result);case 9:return a.prev=9,a.t0=a.catch(2),r({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443.",a.t0.message]}),a.abrupt("return",!1);case 13:return a.prev=13,r({type:N.LOADING_END}),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[2,9,13,16]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object.assign({},e),a=Object(r.useState)(!1),n=Object(V.a)(a,2),s=n[0],c=n[1],i=Object(r.useState)(t.title),o=Object(V.a)(i,2),l=o[0],u=o[1],p=Object(r.useState)(t.title),b=Object(V.a)(p,2),j=b[0],h=b[1],O=Object(r.useState)({statusErrorText:!1,res:"",errSymbols:""}),v=Object(V.a)(O,2),f=v[0],C=v[1],g=Object(r.useContext)(ne).boardId,A=function(){var e=Object(x.a)(m.a.mark((function e(a){var r,n,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(a),n=r.status,s=r.res,i=r.errSymbols,!n||""!==s||!g){e.next=12;break}return o=t.changeBoardTitle,e.next=5,o(g,a);case 5:if(!e.sent){e.next=12;break}return u(a),h(a),c(!1),C({statusErrorText:!0,res:"",errSymbols:""}),e.abrupt("return");case 12:u(j),c(!1),C({statusErrorText:!0,res:s,errSymbols:i});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:"editable-title",style:{position:"relative"},children:[Object(G.jsx)("h2",{className:"title",onClick:function(e){e.preventDefault();var t=e.currentTarget,a=t.clientWidth,r=t.innerText;t.nextSibling.style.width="".concat(a,"px"),setTimeout((function(){t.nextSibling.focus(),t.nextSibling.select()}),0),C({statusErrorText:!1,res:"",errSymbols:""}),u(r),c(!0)},style:{display:s?"none":"block"},children:l}),Object(G.jsx)("input",{id:"input-edit-board-title",className:"input-edit-board-title",type:"text",onInput:function(e){e.preventDefault();var t=e.target,a=t.style,r=t.innerText,n=t.value;a.width="".concat(12*n.length+20,"px"),u(r)},onBlur:function(e){e.preventDefault();var t=e.target.value;A(t)},onKeyPress:function(e){var t=e.code,a=e.target;"Enter"===t&&A(a.value)},defaultValue:l,style:{display:s?"block":"none"},autoComplete:"off"}),f.statusErrorText&&""!==f.res&&Object(G.jsx)(te,Object(d.a)(Object(d.a)({},f),{},{parentId:"input-edit-board-title"}))]})})),ge=(a(95),a(32)),Ae=(a(96),function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(j.a)(this,a),(r=t.call(this,e)).mount=!1,r.handlerChangeTextarea=function(e){e.preventDefault();var t=e.target.value;r.setState({title:t})},r.handlerOnBlurTextarea=function(){r.mount&&r.renameTitle()},r.renameTitle=Object(x.a)(m.a.mark((function e(){var t,a,n,s,c,i,o,d,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.mount){e.next=2;break}return e.abrupt("return");case 2:if(t=r.state,a=t.prevValueTitle,n=t.title,a!==n){e.next=5;break}return e.abrupt("return");case 5:return s=r.props,c=s.boardId,i=s.listId,o=s.cardId,d=s.cardEdit,e.next=8,d(c,i,o,n,"title");case 8:return e.sent?r.setState({prevValueTitle:n}):r.setState({title:a}),l=r.context.updateBoard,e.next=13,l();case 13:case"end":return e.stop()}}),e)})));var n=r.props.title;return r.state={prevValueTitle:n,title:n},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.mount=!0}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.setState=function(){},this.renameTitle()}},{key:"render",value:function(){var e=this.state.title;return Object(G.jsx)(ge.a,{className:"title-mod",style:{width:672},value:e,onBlur:this.handlerOnBlurTextarea,onInput:this.handlerChangeTextarea})}}]),a}(n.a.Component)),ye={cardEdit:$};Ae.contextType=ne;var we=Object(i.b)(null,ye)(Ae),Ie=(a(97),function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(j.a)(this,a),(r=t.call(this,e)).mount=!1,r.handlerChangeTextarea=function(e){e.preventDefault();var t=e.target.value;r.mount&&r.setState({description:t})},r.handlerOnBlurTextarea=function(){r.renameDescription()},r.renameDescription=Object(x.a)(m.a.mark((function e(){var t,a,n,s,c,i,o,d,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.mount){e.next=2;break}return e.abrupt("return");case 2:if(t=r.state,a=t.description,n=t.prevValueDescription,a!==n){e.next=5;break}return e.abrupt("return");case 5:return s=r.props,c=s.listId,i=s.cardId,o=s.cardEdit,d=r.context,l=d.updateBoard,u=d.boardId,e.next=9,o(u,c,i,a,"description");case 9:return e.sent?r.setState({prevValueDescription:a}):r.setState({description:n}),e.next=13,l();case 13:case"end":return e.stop()}}),e)})));var n=r.props.description;return r.state={prevValueDescription:n,description:n},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.mount=!0}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.renameDescription()}},{key:"render",value:function(){var e=this.state.description;return Object(G.jsx)(ge.a,{className:"description-card-mod",style:{width:496},value:e,onBlur:this.handlerOnBlurTextarea,onInput:this.handlerChangeTextarea})}}]),a}(n.a.Component)),Ne={cardEdit:$};Ie.contextType=ne;var ke=Object(i.b)(null,Ne)(Ie),De=a(23),Ee=a.n(De),Be=(a(98),function(e){var t=Object.assign({},e),a=t.title,r=t.classname;return Object(G.jsxs)("div",{className:Ee()("dialog-header",r),children:[Object(G.jsx)("span",{className:"title",children:a}),Object(G.jsx)("span",{className:"close-btn","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",children:Object(G.jsx)(ee.a,{icon:["fas","times"]})})]})}),Se=n.a.createContext({}),Le=function(e,t,a,r,n){return function(){var s=Object(x.a)(m.a.mark((function s(c){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c({type:N.LOADING}),c({type:D.ERROR_CLEAR}),s.prev=2,s.next=5,k.put("/board/".concat(e,"/card/").concat(t,"/users"),{add:r,remove:n});case 5:if("Updated"!==s.sent.result){s.next=9;break}return a(),s.abrupt("return",!0);case 9:s.next=16;break;case 11:return s.prev=11,s.t0=s.catch(2),console.log("edit card error: ",s.t0),c({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438.",s.t0.message]}),s.abrupt("return",!1);case 16:return s.prev=16,c({type:N.LOADING_END}),s.finish(16);case 19:return s.abrupt("return",!1);case 20:case"end":return s.stop()}}),s,null,[[2,11,16,19]])})));return function(e){return s.apply(this,arguments)}}()},Re=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).handlerInputOnChange=function(){var e=Object(x.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,r.setState({inputValue:a}),!a){e.next=9;break}return e.next=5,k.get("/user",{params:{emailOrUsername:a}});case 5:n=e.sent,r.setState({usersCard:n}),e.next=10;break;case 9:r.setState({usersCard:[]});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addMemberToCard=function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.addOrRemoveMemberToCard(t,!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeMemberToCard=function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.addOrRemoveMemberToCard(t,!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addOrRemoveMemberToCard=function(){var e=Object(x.a)(m.a.mark((function e(t,a){var n,s,c,i,o,d,l,u,p,b,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target,s=n.dataset,c=s.idMember,i=r.props,o=i.boardId,d=i.cardId,l=i.userAssignOrRemove,u=r.context,p=u.updateBoard,b=a?[+c]:[],j=a?[]:[+c],c&&l(o,d,p,b,j);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.state={inputValue:"",usersCard:[]},r}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props.title,a=this.state,r=a.inputValue,n=a.usersCard,s=this.context.usersCard;return Object(G.jsxs)("div",{className:"dialog-add-members",children:[Object(G.jsx)(Be,{title:t,classname:"add-members-dialog"}),Object(G.jsxs)("div",{className:"dg-pop-over-content",children:[Object(G.jsx)("input",{className:"dg-pop-over-input-search-members",type:"text",placeholder:"\u041d\u0430\u0439\u0442\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u044d\u043b.\u0430\u0434\u0440\u0435\u0441\u0443",value:r,onChange:this.handlerInputOnChange}),Object(G.jsxs)("div",{className:"dg-pop-over-section dg-board-members",children:[Object(G.jsx)("h4",{className:"title",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"}),Object(G.jsx)("div",{className:"loading",children:Object(G.jsx)("ul",{className:"member-list",children:n.map((function(t){return Object(G.jsx)("li",{className:"member-item",children:Object(G.jsxs)("a",{href:"#",title:t.username,onClick:s&&s.includes(t.id)?e.removeMemberToCard:e.addMemberToCard,children:[Object(G.jsx)("span",{className:"hiden-data","data-id-member":t.id}),Object(G.jsxs)("span",{className:"name",children:[t.username," "]}),Object(G.jsxs)("span",{className:"id",children:["(",t.id,")"]}),s&&s.includes(t.id)&&Object(G.jsx)("span",{className:"checked-icon","aria-label":"\u042d\u0442\u043e\u0442 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435",children:Object(G.jsx)(ee.a,{icon:["fas","check"]})})]})},t.id)}))})})]})]})]})}}]),a}(n.a.Component);Re.contextType=Se;var Te=Object(i.b)(null,{userAssignOrRemove:Le})(Re),_e=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).handlerJoinMemberOnClick=Object(x.a)(m.a.mark((function e(){var t,a,n,s,c,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.context,a=t.updateBoard,n=r.props,s=n.boardId,c=n.cardId,i=n.userAssignOrRemove,o=A(),s&&c&&o&&a&&+o&&(console.log("adfasdf"),i(s,c,a,[+o],[]));case 4:case"end":return e.stop()}}),e)}))),r.removeUserFromCard=function(){var e=Object(x.a)(m.a.mark((function e(t){var a,n,s,c,i,o,d,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.props,n=a.boardId,s=a.cardId,c=a.userAssignOrRemove,i=t.target,o=i.dataset,d=o.userId,l=r.context.updateBoard,n&&s&&d&&l&&c(n,s,l,[],[+d]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.email,r=e.typeButton,n=e.boardId,s=e.cardId,c=e.id,i=e.confirmationId,o=e.show,d=e.hide,l=i===c;return"add"===r?Object(G.jsxs)("div",{className:"member add",children:[Object(G.jsx)("span",{className:"member-button","data-member-id":c,onClick:o,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",children:"+"}),l&&Object(G.jsx)(Te,{title:"Hello To Add Members",boardId:n,cardId:s})]}):"join"===r?Object(G.jsx)("div",{className:"member join",children:Object(G.jsx)("span",{className:"member-button","data-member-id":c,onClick:this.handlerJoinMemberOnClick,title:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f",children:"join"})}):Object(G.jsxs)("div",{className:"member",children:[Object(G.jsx)("span",{className:"member-button","data-member-id":c,onClick:o,title:t||c&&"".concat(c)||"",children:t||c}),Object(G.jsxs)("div",{className:"detalis_member ".concat(l?"isShow":""),children:[Object(G.jsx)("button",{className:"close-button",onClick:d,children:"x"}),Object(G.jsxs)("div",{className:"info_member",children:[Object(G.jsxs)("div",{className:"info",children:[Object(G.jsx)("div",{className:"img_info"}),Object(G.jsxs)("div",{className:"contact_info",children:[Object(G.jsx)("span",{className:"i_name",children:t||c}),a&&Object(G.jsx)("span",{className:"i_email",children:a})]})]}),Object(G.jsx)("ul",{children:Object(G.jsx)("li",{className:"action_with_member_card","data-user-id":c,onClick:this.removeUserFromCard,children:"Remove from card"})})]})]})]})}}]),a}(n.a.Component);_e.contextType=ne;var Me=Object(i.b)(null,{userAssignOrRemove:Le})(_e),Pe=(a(99),-0x3f28cb71571c7),Ge=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).handlerOnClickWindow=function(e){var t,a,n,s,c,i=null===(t=e.target)||void 0===t?void 0:t.closest(".member-button"),o=null===(a=e.target)||void 0===a?void 0:a.closest(".detalis_member .close-button"),d=null===(n=e.target)||void 0===n?void 0:n.closest(".detalis_member"),l=null===(s=e.target)||void 0===s?void 0:s.closest(".dialog-add-members"),u=null===(c=e.target)||void 0===c?void 0:c.closest(".add-members-dialog .close-btn");(!i&&!d&&!l||o||u)&&r.infoMemberHide()},r.infoMemberShow=function(e){var t=e.target.dataset.memberId;r.setState({isShowInfoMemberId:+t})},r.infoMemberHide=function(){r.setState({isShowInfoMemberId:Pe})},r.state={isShowInfoMemberId:Pe,token:A()},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handlerOnClickWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handlerOnClickWindow)}},{key:"render",value:function(){var e=this,t=this.props,a=t.boardId,r=t.card,n=this.state,s=n.isShowInfoMemberId,c=n.token,i=this.context.updateBoard,o=!(!c||!+c)&&r.users.includes(+c),d=r.users.length?r.users:[];return Object(G.jsx)(Se.Provider,{value:{usersCard:d,updateBoard:i},children:Object(G.jsxs)("div",{className:"members-container",children:[r.users.map((function(t){return Object(G.jsx)(Me,{typeButton:"member",boardId:+a,cardId:r.id,id:t,confirmationId:s,hide:e.infoMemberHide,show:e.infoMemberShow},t)})),Object(G.jsx)(Me,{typeButton:"add",boardId:+a,cardId:r.id,id:-1,confirmationId:s,hide:this.infoMemberHide,show:this.infoMemberShow}),!o&&Object(G.jsx)(Me,{typeButton:"join",boardId:+a,cardId:r.id,id:-2,confirmationId:s,hide:this.infoMemberHide,show:this.infoMemberShow})]})})}}]),a}(n.a.Component);Ge.contextType=ne;var Qe=Ge,Ue=Object(r.createContext)({}),He=(a(100),a(101),["data","children","className"]),Fe=function(e){var t=e.data,a=(e.children,e.className),r=Object(le.a)(e,He),n=t.src,s="(\u0442\u0435\u043a\u0443\u0449\u0438\u0439)";if("boards"===t.key){var c,i=null===(c=t.value.boards.find((function(e){return e.id===t.valueId})))||void 0===c?void 0:c.title;return Object(G.jsx)("div",Object(d.a)(Object(d.a)({className:Ee()(a,"selection-wrapper")},r),{},{children:Object(G.jsxs)("div",{className:"button",children:[Object(G.jsx)("span",{className:"label",children:"\u0414\u043e\u0441\u043a\u0430"}),Object(G.jsx)("span",{className:"value",children:i}),t.value.boards.length&&Object(G.jsx)("select",{className:"select",defaultValue:t.valueId,children:t.value.boards.map((function(e){return Object(G.jsxs)("option",{value:e.id,children:[e.title," ",e.id," ",n.boardId===e.id?s:""]},e.id)}))})]})}))}if("lists"===t.key){var o,l=null===(o=Object.entries(t.value.lists).find((function(e){return Object(V.a)(e,2)[1].id===t.valueId})))||void 0===o?void 0:o[1];if(l)return Object(G.jsx)("div",Object(d.a)(Object(d.a)({className:Ee()(a,"selection-wrapper")},r),{},{children:Object(G.jsxs)("div",{className:"button",children:[Object(G.jsx)("span",{className:"label",children:"\u0421\u043f\u0438\u0441\u043e\u043a"}),Object(G.jsx)("span",{className:"value",children:l.title}),Object(G.jsx)("select",{className:"select",value:t.valueId,onChange:function(){},children:Object.entries(t.value.lists).sort((function(e,t){var a=Object(V.a)(e,2)[1],r=Object(V.a)(t,2)[1];return a.position-r.position})).map((function(e){var t=Object(V.a)(e,2)[1];return Object(G.jsxs)("option",{value:t.id,children:[t.title," *** ",t.id," ",t.id===n.listId&&s]},t.id)}))})]})}))}if("cards"===t.key){var u=t.boardId,p=t.listId,b=t.positionCard,j=t.numberCards,h=n.boardId===u&&n.listId===p,O=new Array(j).fill(1).map((function(e,t){return t+1}));return h||O.push(j+1),Object(G.jsx)("div",Object(d.a)(Object(d.a)({className:Ee()(a,"selection-wrapper")},r),{},{children:Object(G.jsxs)("div",{className:"button",children:[Object(G.jsx)("span",{className:"label",children:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"}),Object(G.jsx)("span",{className:"value",children:b}),Object(G.jsx)("select",{className:"select",value:b,onChange:function(){},children:O.map((function(e){return Object(G.jsxs)("option",{value:e,children:[e," ",e===b&&h&&s]},e)}))})]})}))}return Object(G.jsx)("div",{})},Je=a(25),ze=a.n(Je),Ve=["appearance","circle","simpleButton","awesomeIconProp","children","className"],Ye=function(e){var t,a=e.appearance,r=void 0===a?"grey":a,n=e.circle,s=e.simpleButton,c=e.awesomeIconProp,i=e.children,o=e.className,l=Object(le.a)(e,Ve);return Object(G.jsxs)("button",Object(d.a)(Object(d.a)({className:Ee()(ze.a.button,o,(t={},Object(z.a)(t,ze.a.simpleButton,s),Object(z.a)(t,ze.a.grey,"grey"===r),Object(z.a)(t,ze.a.blue,"blue"===r),Object(z.a)(t,ze.a.brown,"brown"===r),Object(z.a)(t,ze.a.circle,n),t))},l),{},{children:[c&&Object(G.jsx)("span",{className:Ee()(ze.a.icon),children:Object(G.jsx)(ee.a,{icon:c})}),i]}))},qe=function(e){var t=e.card,a=e.srcList,r=e.srcData,n=e.positionCard,s=[],c=Object(d.a)({},r.lists[a].cards),i=Object.entries(c).sort((function(e,t){return e[1].position-t[1].position})),o=i.splice(c[t].position-1,1);return i.splice(n-1,0,o[0]),i.forEach((function(e,t){var r=Object(V.a)(e,2)[1];r.position!==t+1&&s.push({id:r.id,position:t+1,list_id:a})})),s},Ke=function(e){var t=e.card,a=e.srcList,r=e.srcData,n=e.destList,s=e.positionCard,c=[],i=Object(d.a)({},r.lists[a].cards),o=Object.entries(i).sort((function(e,t){return e[1].position-t[1].position})).splice(i[t].position-1,1);delete i[t],Object.entries(i).sort((function(e,t){return e[1].position-t[1].position})).forEach((function(e,t){var r=Object(V.a)(e,2)[1];r.position!==t+1&&c.push({id:r.id,position:t+1,list_id:a})}));var l=Object(d.a)({},r.lists[n].cards),u=Object.entries(l).sort((function(e,t){return e[1].position-t[1].position}));u.splice(s-1,0,o[0]),u.forEach((function(e,t){var a=Object(V.a)(e,2)[1];(a.position!==t+1||a.position===t+1&&t+1===o[0][1].position)&&c.push({id:a.id,position:t+1,list_id:n})}));var p=Object.assign({},o[0][1]);return l[p.id]=p,c},Xe=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(j.a)(this,a),(r=t.call(this,e)).getBoardsList=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/board");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),r.getBoardData=function(){var e=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/board/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error update data: ",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),r.handlerOnChangeSelectBoard=function(){var e=Object(x.a)(m.a.mark((function e(t){var a,n,s,c,i,o,l,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=+t.target.value,e.next=3,r.getBoardData(a);case 3:if(!(n=e.sent)){e.next=13;break}if(i=r.props.src,o=null===(s=Object.entries(n.lists).find((function(e){return 1===Object(V.a)(e,2)[1].position})))||void 0===s?void 0:s[1]){e.next=9;break}return e.abrupt("return");case 9:l=Object.entries(o.cards).sort((function(e,t){var a=Object(V.a)(e,2)[1],r=Object(V.a)(t,2)[1];return a.position-r.position})),u=null===(c=l.find((function(e){return Object(V.a)(e,2)[1].id===i.cardId})))||void 0===c?void 0:c[1],p=u?i.positionCard:l.length+1,r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{boardId:a,listId:o.id,positionCard:p,boardData:n})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handlerOnChangeSelectList=function(e){var t,a=+e.target.value,n=r.props.src,s=r.state.boardData.lists[a],c=Object.entries(s.cards).sort((function(e,t){var a=Object(V.a)(e,2)[1],r=Object(V.a)(t,2)[1];return a.position-r.position})),i=(null===(t=c.find((function(e){return Object(V.a)(e,2)[1].id===n.cardId})))||void 0===t?void 0:t[1])?n.positionCard:c.length+1;r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{listId:a,positionCard:i})}))},r.handlerOnChangeSelectCard=function(e){var t=+e.target.value;r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{positionCard:t})}))},r.handlerMoveCard=Object(x.a)(m.a.mark((function e(){var t,a,n,s,c,i,o,l,u,p,b,j,h,O,v,f,x;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,a=t.src,n=t.closePopup,s=r.state,c=s.boardId,i=s.listId,o=s.boardData,l=s.positionCard,a.boardId!==c||a.listId!==i||a.positionCard!==l){e.next=4;break}return e.abrupt("return");case 4:if(u=r.props.moveCards,p=r.context.updateBoard,a.listId!==i){e.next=15;break}return b=qe({card:a.cardId,srcList:a.listId,srcData:a.boardData,positionCard:l}),e.next=10,u(a.boardId,b);case 10:return e.next=12,p();case 12:n(),e.next=33;break;case 15:if(a.boardId!==c){e.next=24;break}return j=Ke({card:a.cardId,srcList:a.listId,srcData:a.boardData,destList:i,positionCard:l}),e.next=19,u(a.boardId,j);case 19:return e.next=21,p();case 21:n(),e.next=33;break;case 24:return h=r.props,O=h.deleteCrd,v=h.createCrd,f=h.closeCardDialog,x=Object(d.a)({},a.boardData.lists[a.listId].cards[a.cardId]),e.next=28,O(a.boardId,a.cardId,a.boardData.lists[a.listId]);case 28:return e.next=30,v(c,o.lists[i],l,x.title);case 30:return e.next=32,p();case 32:f();case 33:case"end":return e.stop()}}),e)})));var n=r.props.src;return r.state={boardId:n.boardId,listId:n.listId,positionCard:n.positionCard,boardsList:null,boardData:n.boardData},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBoardsList();case 2:(t=e.sent)&&this.setState({boardsList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.src,t=this.state,a=t.boardId,r=t.listId,n=t.positionCard,s=t.boardsList,c=t.boardData;return s&&c?Object(G.jsxs)("div",{className:"popup-card-dialog",children:[Object(G.jsx)(Be,{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",classname:"moveCardInTitleCardBox"}),Object(G.jsx)("h5",{className:"label-selections-box",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0443"}),Object(G.jsx)(Fe,{onChange:this.handlerOnChangeSelectBoard,className:"section-select-board",data:{key:"boards",src:e,valueId:a,value:s}}),Object(G.jsxs)("div",{className:"box-sections-select-list-and-card",children:[Object(G.jsx)(Fe,{onChange:this.handlerOnChangeSelectList,className:"section-select-list",data:{key:"lists",src:e,valueId:r,value:c}}),Object(G.jsx)(Fe,{onChange:this.handlerOnChangeSelectCard,className:"section-select-card",data:{key:"cards",src:e,boardId:a,listId:r,positionCard:n,numberCards:Object.keys(c.lists[r].cards).length}})]}),Object(G.jsx)(Ye,{appearance:"blue",onClick:this.handlerMoveCard,className:"button-move-card",children:"Move"})]}):null}}]),a}(r.Component),We={deleteCrd:W,createCrd:K,editCrd:$,moveCards:Z,update:Y};Xe.contextType=ne;var Ze=Object(i.b)(null,We)(Xe),$e=(a(102),function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(j.a)(this,a),(r=t.call(this,e)).getBoardsList=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/board");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),r.getBoardData=function(){var e=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/board/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error update data: ",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),r.handlerOnChangeSelectBoard=function(){var e=Object(x.a)(m.a.mark((function e(t){var a,n,s,c,i,o,l,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=+t.target.value,e.next=3,r.getBoardData(a);case 3:if(!(n=e.sent)){e.next=13;break}if(i=r.props.src,o=null===(s=Object.entries(n.lists).find((function(e){return 1===Object(V.a)(e,2)[1].position})))||void 0===s?void 0:s[1]){e.next=9;break}return e.abrupt("return");case 9:l=Object.entries(o.cards).sort((function(e,t){var a=Object(V.a)(e,2)[1],r=Object(V.a)(t,2)[1];return a.position-r.position})),u=null===(c=l.find((function(e){return Object(V.a)(e,2)[1].id===i.cardId})))||void 0===c?void 0:c[1],p=u?i.positionCard:l.length+1,r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{boardId:a,listId:o.id,positionCard:p,boardData:n})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handlerOnChangeSelectList=function(e){var t,a=+e.target.value,n=r.props.src,s=r.state.boardData.lists[a],c=Object.entries(s.cards).sort((function(e,t){var a=Object(V.a)(e,2)[1],r=Object(V.a)(t,2)[1];return a.position-r.position})),i=(null===(t=c.find((function(e){return Object(V.a)(e,2)[1].id===n.cardId})))||void 0===t?void 0:t[1])?n.positionCard:c.length+1;r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{listId:a,positionCard:i})}))},r.handlerOnChangeSelectCard=function(e){var t=+e.target.value;r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{positionCard:t})}))},r.handlerCopyCard=function(){r.copyCard()},r.copyCard=Object(x.a)(m.a.mark((function e(){var t,a,n,s,c,i,o,d,l,u,p,b,j,h,O,v,f,x;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,a=t.src,n=t.createCrd,s=t.editCrd,c=t.copyMembersInCard,i=t.closePopup,o=r.state,d=o.boardId,l=o.listId,u=o.boardData,p=o.positionCard,b=o.titleCard,j=o.copyDescription,h=o.copyMembers,O=r.context.updateBoard,e.next=5,n(d,u.lists[l],p,b);case 5:if(!(v=e.sent)){e.next=20;break}if(f=!0,x=a.boardData.lists[a.listId].cards[a.cardId],O(),i(),!j){e.next=15;break}return e.next=14,s(d,l,v,x.description,"description");case 14:f=e.sent;case 15:if(!h){e.next=19;break}return e.next=18,c(d,v,O,x.users,[]);case 18:f=e.sent;case 19:f&&(O(),i());case 20:case"end":return e.stop()}}),e)})));var n=r.props.src;return r.state={boardId:n.boardId,listId:n.listId,positionCard:n.positionCard,boardsList:null,boardData:n.boardData,titleCard:n.boardData.lists[n.listId].cards[n.cardId].title,copyDescription:!0,copyMembers:!0},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBoardsList();case 2:(t=e.sent)&&this.setState({boardsList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.src,a=this.state,r=a.boardId,n=a.listId,s=a.positionCard,c=a.boardsList,i=a.boardData,o=a.titleCard,d=a.copyDescription,l=a.copyMembers;return c&&i?Object(G.jsxs)("div",{className:"popup-card-dialog",children:[Object(G.jsx)(Be,{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",classname:"moveCardInTitleCardBox"}),Object(G.jsx)("h5",{className:"label-selections-box",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(G.jsx)("textarea",{className:"copy-name-card-textarea",onChange:function(t){e.setState({titleCard:t.target.value})},defaultValue:o}),Object(G.jsx)("h5",{className:"label-selections-box",children:"\u0422\u0430\u043a\u0436\u0435 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c..."}),Object(G.jsxs)("div",{className:"check-div",children:[Object(G.jsx)("input",{type:"checkbox",id:"idKeepDescription",checked:d,onChange:function(){e.setState({copyDescription:!d})}}),Object(G.jsx)("label",{htmlFor:"idKeepDescription",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]}),Object(G.jsxs)("div",{className:"check-div",children:[Object(G.jsx)("input",{type:"checkbox",id:"idKeepMembers",checked:l,onChange:function(){e.setState({copyMembers:!l})}}),Object(G.jsx)("label",{htmlFor:"idKeepMembers",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"})]}),Object(G.jsx)("h5",{className:"label-selections-box",children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432..."}),Object(G.jsx)(Fe,{onChange:this.handlerOnChangeSelectBoard,className:"section-select-board",data:{key:"boards",src:t,valueId:r,value:c}}),Object(G.jsxs)("div",{className:"box-sections-select-list-and-card",children:[Object(G.jsx)(Fe,{onChange:this.handlerOnChangeSelectList,className:"section-select-list",data:{key:"lists",src:t,valueId:n,value:i}}),Object(G.jsx)(Fe,{onChange:this.handlerOnChangeSelectCard,className:"section-select-card",data:{key:"cards",src:t,boardId:r,listId:n,positionCard:s,numberCards:Object.keys(i.lists[n].cards).length}})]}),Object(G.jsx)(Ye,{appearance:"blue",onClick:this.handlerCopyCard,className:"button-move-card",children:"Copy"})]}):null}}]),a}(r.Component)),et={createCrd:K,editCrd:$,copyMembersInCard:Le};$e.contextType=ne;var tt=Object(i.b)(null,et)($e),at=(a(103),function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(j.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handlerDeleteCard=Object(x.a)(m.a.mark((function t(){var a,r,n,s,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.src,n=a.closePopup,s=a.deleteCrd,c=a.closeCardDialog,i=e.context.updateBoard,t.next=4,s(r.boardId,r.cardId,r.boardData.lists[r.listId]);case 4:t.sent&&(i(),n(),c());case 6:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"render",value:function(){return Object(G.jsxs)("div",{className:"popup-card-dialog",children:[Object(G.jsx)(Be,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",classname:"deleteCardInTitleCardBox"}),Object(G.jsx)("p",{className:"label-warning",children:"\u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 \u043b\u0435\u043d\u0442\u044b, \u0438 \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443. \u041e\u0442\u043c\u0435\u043d\u0430 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430."}),Object(G.jsx)(Ye,{appearance:"brown",onClick:this.handlerDeleteCard,className:"button-delete-card",children:"Delete card"})]})}}]),a}(r.Component)),rt={deleteCrd:W};at.contextType=ne;var nt=Object(i.b)(null,rt)(at),st=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).mount=!1,r.setLocation=function(e){var t=window,a=t.history,r=t.location;try{return void a.pushState(null,"",e)}catch(n){console.error(n)}r.hash="#".concat(e)},r.handlerOnClickClose=function(e){var t=e.target;t.closest(".card-dialog__wrapper")||r.closedCardDialog();var a=r.state,n=a.showDialogMoveCardInTitleBox,s=a.showDialogCopyCardInSidebar,c=a.showDialogMoveToCardInSidebar,i=a.showDialogArchiveCardInSidebar,o=!t.closest(".popup-card-dialog")||t.closest(".close-btn");n&&o&&r.closeDialogMoveCardInTitleBox(),s&&o&&r.closeDialogCopyCardInSidebar(),c&&o&&r.closeDialogMoveToCardInSidebar(),i&&o&&(r.closeDialogArchiveCardInSidebar(),r.setState({showDialogArchiveCardInSidebar:!1}))},r.closedCardDialog=function(){(0,r.props.closeDetalisCard)()},r.handlerTitleColumnName=function(){r.setState({showDialogMoveCardInTitleBox:!0})},r.closeDialogMoveCardInTitleBox=function(){r.setState({showDialogMoveCardInTitleBox:!1})},r.closeDialogCopyCardInSidebar=function(){r.setState({showDialogCopyCardInSidebar:!1})},r.closeDialogMoveToCardInSidebar=function(){r.setState({showDialogMoveToCardInSidebar:!1})},r.closeDialogArchiveCardInSidebar=function(){r.setState({showDialogArchiveCardInSidebar:!1})},r.handlerButtonSidebarActionToCard=function(e){var t,a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.id;"sdb-copy-card"===a&&r.setState({showDialogCopyCardInSidebar:!0}),"sdb-move-card"===a&&r.setState({showDialogMoveToCardInSidebar:!0}),"sdb-archive-card"===a&&r.setState({showDialogArchiveCardInSidebar:!0})},r.state={showDialogMoveCardInTitleBox:!1,showDialogCopyCardInSidebar:!1,showDialogMoveToCardInSidebar:!1,showDialogArchiveCardInSidebar:!1},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.mount=!0;var e=this.props.cardId,t=this.context.boardId;this.setLocation("/b/".concat(t,"/c/").concat(e))}},{key:"componentWillUnmount",value:function(){this.mount=!1;var e=this.context.boardId;this.setLocation("/board/".concat(e))}},{key:"render",value:function(){var e,t=this.props,a=t.cardId,r=t.board,n=this.state,s=n.showDialogMoveCardInTitleBox,c=n.showDialogCopyCardInSidebar,i=n.showDialogMoveToCardInSidebar,o=n.showDialogArchiveCardInSidebar,l=this.context.boardId,u=null===(e=Object.entries(r.lists).find((function(e){var t=Object(V.a)(e,2)[1];return a in t.cards})))||void 0===e?void 0:e[1];if(!u)return null;var p=u.cards[a],b={src:{cardId:a,positionCard:p.position,listId:u.id,boardId:l,boardData:r}};return Object(G.jsx)(Ue.Provider,{value:{updateBoard:function(){var e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},children:Object(G.jsx)("div",{className:"card-dialog",onClick:this.handlerOnClickClose,children:Object(G.jsxs)("div",{className:"card-dialog__wrapper",children:[Object(G.jsx)("button",{className:"card-dialog__close-dialog",onClick:this.closedCardDialog,children:Object(G.jsx)(ee.a,{icon:["fas","times"]})}),Object(G.jsxs)("div",{className:"card-dialog__header",children:[Object(G.jsxs)("div",{className:"title-box",children:[Object(G.jsx)("div",{className:"icon",children:Object(G.jsx)(ee.a,{icon:["fas","credit-card"]})}),Object(G.jsx)(we,{title:p.title,boardId:l,listId:u.id,cardId:a})]}),Object(G.jsx)("div",{className:"title-column-name-box",children:Object(G.jsxs)("div",{className:"tlt-col-name",children:["in the column"," ",Object(G.jsxs)("a",{href:"#",onClick:this.handlerTitleColumnName,children:[Object(G.jsx)("span",{className:"tlt-col-name-title",children:u.title}),s&&Object(G.jsx)(Ze,Object(d.a)(Object(d.a)({},b),{},{closeCardDialog:this.closedCardDialog,closePopup:this.closeDialogMoveCardInTitleBox}))]})]})})]}),Object(G.jsxs)("div",{className:"card-dialog__content",children:[Object(G.jsxs)("div",{className:"card-dialog__information",children:[Object(G.jsxs)("span",{className:"title-content information",children:[Object(G.jsx)("span",{className:"icon",children:Object(G.jsx)(ee.a,{icon:["fas","user"]})}),Object(G.jsx)("h3",{className:"title",children:"Members"})]}),Object(G.jsx)("div",{className:"card-dialog_members",children:Object(G.jsx)(Qe,{boardId:"".concat(l),card:p,boardUsers:r.users})}),Object(G.jsxs)("div",{className:"card-dialog_description",children:[Object(G.jsxs)("div",{className:"title-box",children:[Object(G.jsx)("div",{className:"icon",children:Object(G.jsx)(ee.a,{icon:["fas","bars"]})}),Object(G.jsx)("h3",{className:"title",children:"Description"})]}),Object(G.jsx)(ke,{listId:u.id,cardId:a,description:p.description})]})]}),Object(G.jsxs)("div",{className:"card-dialog__sidebar",children:[Object(G.jsxs)("span",{className:"title-content sidebar",children:[Object(G.jsx)("span",{className:"icon",children:Object(G.jsx)(ee.a,{icon:["fas","cogs"]})}),Object(G.jsx)("h3",{className:"title",children:"Action to card"})]}),Object(G.jsxs)("ul",{className:"list-actions-to-card",children:[Object(G.jsxs)("li",{className:"button-element",children:[Object(G.jsx)(Ye,{id:"sdb-copy-card",appearance:"grey",awesomeIconProp:["fas","copy"],className:"button",onClick:this.handlerButtonSidebarActionToCard,children:"Copy"}),c&&Object(G.jsx)(tt,Object(d.a)(Object(d.a)({},b),{},{closeCardDialog:this.closedCardDialog,closePopup:this.closeDialogCopyCardInSidebar}))]}),Object(G.jsxs)("li",{className:"button-element",children:[Object(G.jsx)(Ye,{id:"sdb-move-card",appearance:"grey",awesomeIconProp:["fas","exchange-alt"],className:"button",onClick:this.handlerButtonSidebarActionToCard,children:"Move to"}),i&&Object(G.jsx)(Ze,Object(d.a)(Object(d.a)({},b),{},{closeCardDialog:this.closedCardDialog,closePopup:this.closeDialogMoveToCardInSidebar}))]}),Object(G.jsxs)("li",{className:"button-element",children:[Object(G.jsx)(Ye,{id:"sdb-archive-card",appearance:"grey",awesomeIconProp:["fas","box"],className:"button",onClick:this.handlerButtonSidebarActionToCard,children:"Archive"}),o&&Object(G.jsx)(nt,Object(d.a)(Object(d.a)({},b),{},{closeCardDialog:this.closedCardDialog,closePopup:this.closeDialogArchiveCardInSidebar}))]})]})]})]})]})})})}}]),a}(n.a.Component);st.contextType=Ue,st.contextType=ne;var ct,it=Object(u.e)(st),ot=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).mount=!1,r.updateBoard=Object(x.a)(m.a.mark((function e(){var t,a,n,s,c,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.mount){e.next=2;break}return e.abrupt("return");case 2:return t=r.props,a=t.updBoard,n=t.match,s=n.params,c=s.boardId,e.next=7,a(c);case 7:if(i=r.props.boardContent){e.next=10;break}return e.abrupt("return");case 10:if(o=i.lists){e.next=13;break}return e.abrupt("return");case 13:r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{dataLists:o})}));case 14:case"end":return e.stop()}}),e)}))),r.onMouseDownForCard=function(e){var t;e.preventDefault();var a=e.clientX,n=e.clientY,s=e.currentTarget;s.ondragstart=function(){return!1};var c=a-s.getBoundingClientRect().left,i=n-s.getBoundingClientRect().top,o=document.createElement("A");o.classList.add("card_item"),o.classList.add("placeholder"),r.setState({movingCard:{indexSourceList:+(null===(t=s.parentElement)||void 0===t?void 0:t.getAttribute("data-list-id")),indexCard:+s.getAttribute("data-card-id")},shiftForCard:{x:c,y:i},cardActive:s,placeholder:o,doAddPlaceholder:!0}),document.addEventListener("mousemove",r.moveCard)},r.moveCard=function(e){var t,a;r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{processMovingCard:!0})}));var n=r.state,s=n.shiftForCard,c=n.cardActive,i=n.placeholder;if(c&&i){var o,l=e.pageX,u=e.pageY,p=e.clientX,b=e.clientY,j=c.clientWidth,h=c.clientHeight;if(c.style.width="".concat(j,"px"),c.style.height="".concat(h,"px"),c.style.left="".concat(l-s.x,"px"),c.style.top="".concat(u-s.y,"px"),c.classList.add("card_move"),i.style.width="".concat(j,"px"),i.style.height="".concat(h,"px"),r.state.doAddPlaceholder)null===(o=c.parentElement)||void 0===o||o.insertBefore(i,c),r.setState({doAddPlaceholder:!1});c.style.display="none";var O=null===(t=document.elementFromPoint(p,b))||void 0===t?void 0:t.closest(".list_wrapper"),v=null===O||void 0===O?void 0:O.getElementsByClassName("list_content")[0],f=null===(a=document.elementFromPoint(p,b))||void 0===a?void 0:a.closest(".card_item");c.style.display="block";var m=function(e){var t=[];[].forEach.call(e,(function(e){e.classList.contains("card_move")||t.push(e)}));for(var a=0;a<t.length;a++)t[a].classList.contains("placeholder")&&r.setState({indexNewPositionActiveElement:a})};if(O&&v){var x=v.getBoundingClientRect(),C=x.top,g=x.bottom;if(u<C&&(v.insertBefore(i,v.firstChild),m(v.children)),u>g&&(v.appendChild(i),m(v.children)),u>C&&u<g){if(!f)return;var A=f;if(!A)return;var y=f.getBoundingClientRect(),w=y.top;u<w+(y.bottom-w)/2?(v.insertBefore(i,A),m(v.children)):(v.insertBefore(i,A.nextSibling),m(v.children))}}}},r.mouseUpForCard=function(){var e,t=r.state,a=t.cardActive,n=t.placeholder,s=t.dataLists,c=t.movingCard,i=t.indexNewPositionActiveElement;if(a&&n&&s&&c){a.classList.remove("card_move"),a.style.top="0",a.style.left="0",a.style.width="auto",a.style.height="auto";var o=c.indexSourceList,l=c.indexCard;if(n.parentElement){var u=n.parentElement.getAttribute("data-list-id");if(u)if(+u){var p=[];if(o===+u){var b=function(e){var t=Object.assign({},e),a=t.idCard,r=t.indexSourceList,n=t.newPosition,s=t.dataLists,c=[],i=s[r],o=Object(d.a)({},i.cards),l=Object.entries(o).sort((function(e,t){return e[1].position-t[1].position})),u=l.splice(o[a].position-1,1);return l.splice(n,0,u[0]),l.forEach((function(e,t){var a=Object(V.a)(e,2)[1];a.position!==t+1&&(a.position=t+1,c.push({id:a.id,position:a.position,list_id:r}))})),{newCardPosition:c,dataForState:{sourceList:i,sourceCards:o,destinationList:i,destinationCards:o}}}({idCard:l,indexSourceList:o,newPosition:i,dataLists:s});p=b.newCardPosition;var j=b.dataForState,h=j.sourceList,O=j.sourceCards;r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{dataLists:Object(d.a)(Object(d.a)({},e.dataLists),{},Object(z.a)({},h.id,Object(d.a)(Object(d.a)({},h),{},{cards:O})))})}))}else{var v=function(e){var t=Object.assign({},e),a=t.idCard,r=t.indexSourceList,n=t.indexDestintaionList,s=t.newPosition,c=t.dataLists,i=[],o=c[r],l=Object(d.a)({},o.cards),u=l[a];delete l[a],Object.entries(l).sort((function(e,t){return e[1].position-t[1].position})).forEach((function(e,t){var a=Object(V.a)(e,2)[1];a.position!==t+1&&(a.position=t+1,i.push({id:a.id,position:a.position,list_id:r}))}));var p=c[+n],b=Object(d.a)({},p.cards),j=Object.entries(b).sort((function(e,t){return e[1].position-t[1].position}));return j.splice(s,0,["".concat(u.id),u]),j.forEach((function(e,t){var a=Object(V.a)(e,2)[1];(a.position!==t+1||a.position===t+1&&t+1===u.position)&&(a.position=t+1,i.push({id:a.id,position:a.position,list_id:+n}))})),b[u.id]=u,{newCardPosition:i,dataForState:{sourceList:o,sourceCards:l,destinationList:p,destinationCards:b}}}({idCard:l,indexSourceList:o,indexDestintaionList:+u,newPosition:i,dataLists:s});p=v.newCardPosition;var f=v.dataForState,m=f.sourceList,x=f.sourceCards,C=f.destinationList,g=f.destinationCards;r.setState((function(e){var t;return Object(d.a)(Object(d.a)({},e),{},{placeholder:null,dataLists:Object(d.a)(Object(d.a)({},e.dataLists),{},(t={},Object(z.a)(t,m.id,Object(d.a)(Object(d.a)({},m),{},{cards:x})),Object(z.a)(t,+u,Object(d.a)(Object(d.a)({},C),{},{cards:g})),t))})}))}null===(e=n.parentNode)||void 0===e||e.removeChild(n);var A=r.props,y=A.match;(0,A.cardsMoved)(+y.params.boardId,p)}}}},r.onMouseDownForList=function(e){var t=e.clientX,a=e.clientY,n=e.target,s=e.currentTarget,c=s.querySelector(".list_header");if(n.closest(".list_header")===c&&!s.querySelector(".editable-list-textarea").classList.contains("focus")){var i=t-s.getBoundingClientRect().left,o=a-s.getBoundingClientRect().top,d=document.createElement("DIV");d.classList.add("list_wrapper"),d.classList.add("placeholder_list"),r.setState({shiftForList:{x:i,y:o},listActive:s,placeholder:d,doAddPlaceholder:!0,movingListId:+s.getAttribute("data-list-id")}),document.addEventListener("mousemove",r.moveList)}},r.moveList=function(e){var t;r.setState({processMovingList:!0});var a=r.state,n=a.shiftForList,s=a.listActive,c=a.placeholder;if(s&&c){var i,o=e.pageX,d=e.pageY,l=e.clientX,u=e.clientY,p=s.clientWidth,b=s.clientHeight;if(s.style.width="".concat(p,"px"),s.style.height="".concat(b,"px"),s.style.left="".concat(o-n.x,"px"),s.style.top="".concat(d-n.y,"px"),s.classList.add("list_move"),s.style.height="auto",r.state.doAddPlaceholder)null===(i=s.parentElement)||void 0===i||i.insertBefore(c,s),r.setState({doAddPlaceholder:!1});s.style.display="none";var j=null===(t=document.elementFromPoint(l,u))||void 0===t?void 0:t.closest(".list_wrapper");if(s.style.display="block",j){var h=j.parentElement;if(h){var O=function(e){var t=[];[].forEach.call(e,(function(e){e.classList.contains("list_wrapper")&&!e.classList.contains("list_move")&&t.push(e)}));for(var a=0;a<t.length;a++)t[a].classList.contains("placeholder_list")&&r.setState({indexNewPositionActiveElement:a})},v=j.getBoundingClientRect(),f=v.left,m=v.right,x=f+(m-f)/2;o>x&&o<=m&&(h.insertBefore(c,j),O(h.children)),o<x&&o>=f&&(h.insertBefore(c,j.nextSibling),O(h.children))}}}},r.mouseUpForList=function(){var e,t=r.state,a=t.processMovingList,n=t.listActive,s=t.placeholder,c=t.dataLists,i=t.movingListId,o=t.indexNewPositionActiveElement;if(a&&n&&s&&c&&i){n.classList.remove("list_move"),null===(e=s.parentNode)||void 0===e||e.removeChild(s);var l=function(e){var t=Object.assign({},e),a=t.movingListId,r=t.indexNewPositionActiveElement,n=t.dataLists,s=[],c=Object(d.a)({},n),i=Object.entries(c).sort((function(e,t){return e[1].position-t[1].position})),o=i.splice(c[a].position-1,1);return i.splice(r,0,o[0]),i.forEach((function(e,t){var a=Object(V.a)(e,2)[1];a.position!==t+1&&(a.position=t+1,s.push({id:a.id,position:a.position}))})),{newListsPosition:s,dataForState:{lists:c}}}({movingListId:i,indexNewPositionActiveElement:o,dataLists:c}),u=l.newListsPosition,p=l.dataForState.lists;r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{dataLists:p,listActive:null,placeholder:null})})),setTimeout((function(){r.setState({processMovingList:!1})}),100);var b=r.props,j=b.match;(0,b.listsMoved)(+j.params.boardId,u)}},r.handlerOpenDetatisCard=function(e){if(r.state.processMovingCard)r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{processMovingCard:!1})}));else if(!e.target.closest(".card__open-card-editor-btn")){var t=e.currentTarget.dataset.cardId;r.showDetalisCard(+t)}},r.showDetalisCard=function(e){r.props.boardContent&&r.setState({openDetailEditCard:!0,dataDetailEditCard:{cardId:e}})},r.closeDetalisCard=function(){r.setState({openDetailEditCard:!1,dataDetailEditCard:{cardId:-1}})},r.state={processMovingList:!1,processMovingCard:!1,heightContainer:0,shiftForCard:{x:0,y:0},shiftForList:{x:0,y:0},cardActive:null,listActive:null,placeholder:null,dataLists:null,doAddPlaceholder:!1,indexNewPositionActiveElement:0,movingCard:null,movingListId:-1,openDetailEditCard:!1,dataDetailEditCard:{cardId:-1}},r.onMouseDownForCard=r.onMouseDownForCard.bind(Object(C.a)(r)),r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(m.a.mark((function e(){var t,a,r,n,s,c,i,o,l,u=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mount=!0,e.next=3,this.updateBoard();case 3:a=window.innerHeight,r=null===(t=document.getElementById("dnd_container"))||void 0===t?void 0:t.getBoundingClientRect().top,n=a-(r||0),this.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{heightContainer:n})})),s=this.props.match,i=(c=s).params,o=c.path,"/b/:"===o.slice(0,4)&&(l=i.cardId,this.showDetalisCard(+l)),document.addEventListener("keyup",(function(e){var t=e.key,a=e.keyCode;u.state.openDetailEditCard&&"Escape"===t&&27===a&&u.closeDetalisCard()})),document.addEventListener("mouseup",(function(){var e=u.state,t=e.cardActive,a=e.listActive;t&&(document.removeEventListener("mousemove",u.moveCard),u.mouseUpForCard()),a&&(document.removeEventListener("mousemove",u.moveList),u.mouseUpForList())}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mount=!1}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.boardContent;if(!a)return null;var r=t.params.boardId,n=a.title,s=this.state,c=s.heightContainer,i=s.dataLists,o=s.processMovingList,d=s.openDetailEditCard,l=s.dataDetailEditCard;return i?Object(G.jsx)(ne.Provider,{value:{updateBoard:this.updateBoard,boardId:+r,boardUsers:a.users,handlerOpenDetatisCard:this.handlerOpenDetatisCard,boardData:a},children:Object(G.jsxs)("div",{className:"DnD",children:[d&&Object(G.jsx)(it,{board:a,cardId:l.cardId,closeDetalisCard:this.closeDetalisCard}),Object(G.jsx)("div",{className:"board-header",children:Object(G.jsxs)("h2",{className:"title-board",children:["(",r,")",Object(G.jsx)(Ce,{title:n})]})}),Object(G.jsx)("div",{id:"dnd_container",children:Object(G.jsx)(xe,{lists:i,heightContainer:c,onMouseDownForCard:this.onMouseDownForCard,onMouseDownForList:this.onMouseDownForList,processMovingList:o})})]})}):null}}]),a}(n.a.Component),dt={updBoard:Y,listsMoved:function(e,t){return function(){var a=Object(x.a)(m.a.mark((function a(r){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:N.LOADING}),r({type:D.ERROR_CLEAR}),a.prev=2,a.next=5,k.put("/board/".concat(e,"/list"),t);case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),r({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043a\u0438.",a.t0.message]});case 10:return a.prev=10,r({type:N.LOADING_END}),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[2,7,10,13]])})));return function(e){return a.apply(this,arguments)}}()},cardsMoved:Z},lt=Object(i.b)((function(e){return Object(d.a)({},e.board)}),dt)(Object(u.e)(ot)),ut=a(49),pt=function(e){var t=Object.assign({},e);return Object(G.jsxs)("svg",Object(d.a)(Object(d.a)({xmlns:"http://www.w3.org/2000/svg",version:"1.0",width:"64px",height:"64px",viewBox:"0 0 128 128",xmlSpace:"preserve"},t),{},{children:[Object(G.jsx)("script",{type:"text/ecmascript"}),Object(G.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%"}),Object(G.jsxs)("g",{children:[Object(G.jsx)("circle",{cx:"16",cy:"64",r:"16"}),Object(G.jsx)("circle",{cx:"16",cy:"64",r:"14.344",transform:"rotate(45 64 64)"}),Object(G.jsx)("circle",{cx:"16",cy:"64",r:"12.531",transform:"rotate(90 64 64)"}),Object(G.jsx)("circle",{cx:"16",cy:"64",r:"10.75",transform:"rotate(135 64 64)"}),Object(G.jsx)("circle",{cx:"16",cy:"64",r:"10.063",transform:"rotate(180 64 64)"}),Object(G.jsx)("circle",{cx:"16",cy:"64",r:"8.063",transform:"rotate(225 64 64)"}),Object(G.jsx)("circle",{cx:"16",cy:"64",r:"6.438",transform:"rotate(270 64 64)"}),Object(G.jsx)("circle",{cx:"16",cy:"64",r:"5.375",transform:"rotate(315 64 64)"}),Object(G.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0 64 64;315 64 64;270 64 64;225 64 64;180 64 64;135 64 64;90 64 64;45 64 64",calcMode:"discrete",dur:"720ms",repeatCount:"indefinite"})]})]}))},bt=(a(104),a(105),function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){Object(ut.loadProgressBar)({},k)}},{key:"render",value:function(){return this.props.loading?Object(G.jsxs)("div",{className:"loading-box",children:[Object(G.jsx)("span",{className:"loading-line"}),Object(G.jsx)(pt,{})]}):Object(G.jsx)("div",{})}}]),a}(n.a.Component)),jt=Object(i.b)((function(e){return Object(d.a)({},e.loading)}),null)(bt),ht=(a(106),function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(j.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleClosedErrorMessage=function(){var t=e.props.clearErrorMessages;t&&t()},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.error,t=e?e.errorMessages:[];return Object(G.jsxs)("div",{className:"error-box",style:{marginLeft:t.length?0:-300},children:[Object(G.jsx)("div",{className:"error-container",children:Object(G.jsx)("div",{className:"message",children:t.map((function(e){return Object(G.jsx)("p",{className:"error-description",children:e},e)}))})}),Object(G.jsx)("div",{className:"error__delete_btn",onClick:this.handleClosedErrorMessage})]})}}]),a}(n.a.Component)),Ot=Object(i.b)((function(e){return Object(d.a)({},e)}),(function(e){return{clearErrorMessages:function(){e({type:D.ERROR_CLEAR})}}}))(ht);!function(e){e.AUTORIZATION="AUTORIZATION",e.LOGOUT="LOGOUT"}(ct||(ct={}));a(107);var vt=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).handleLogOut=r.handleLogOut.bind(Object(C.a)(r)),r}return Object(h.a)(a,[{key:"handleLogOut",value:function(){(0,this.props.userOutLog)()}},{key:"render",value:function(){return this.props.userIsLogged?Object(G.jsx)("div",{className:"logout-box",children:Object(G.jsx)("button",{className:"logout-button",onClick:this.handleLogOut,children:"Log out"})}):null}}]),a}(n.a.Component),ft=Object(i.b)((function(e){return Object(d.a)({},e.user)}),{userOutLog:function(){return function(e){y(),e({type:ct.LOGOUT}),e({type:B.CLEAR_BOARD}),e({type:I.CLEAR_BOARDS})}}})(vt),mt=a(50),xt=a.n(mt),Ct=(a(108),function(){return Object(G.jsx)("div",{className:"Rainbow-loader",children:Object(G.jsxs)("div",{className:"loader-inner",children:[Object(G.jsx)("div",{className:"loader-line-wrap",children:Object(G.jsx)("div",{className:"loader-line"})}),Object(G.jsx)("div",{className:"loader-line-wrap",children:Object(G.jsx)("div",{className:"loader-line"})}),Object(G.jsx)("div",{className:"loader-line-wrap",children:Object(G.jsx)("div",{className:"loader-line"})}),Object(G.jsx)("div",{className:"loader-line-wrap",children:Object(G.jsx)("div",{className:"loader-line"})}),Object(G.jsx)("div",{className:"loader-line-wrap",children:Object(G.jsx)("div",{className:"loader-line"})})]})})}),gt=(a(109),function(e){var t=e.formAuthorization,a=e.handleUserLogIn,r=e.handleUserRegistration,n=e.titleForm,s=e.buttonActive;return Object(G.jsx)("input",{type:"submit",onClick:t?a:r,value:t?"Sign in":"Register now",className:"".concat(n,"-submit ").concat(s?"active":"")})}),At=function(e){Object(O.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).validateEmail=function(e){r.setState({emailOk:/^[\w\-.]+@[\w-]+\.[a-z]{2,4}$/i.test(e)})},r.validateFirstPassword=function(e){r.setState({fPasswordOk:""!==e})},r.validateSecondPassword=function(e){var t=r.state.fPassword;r.setState({sPpasswordOk:e===t})},r.checkPasswordComplex=function(){var e=r.state,t=e.fPasswordOk,a=e.error,n="\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043f\u0440\u043e\u0441\u0442\u043e\u0439";return t?(r.setState({error:a.filter((function(e){return e!==n}))}),!0):(a.find((function(e){return e===n}))||a.push(n),r.setState({fPasswordOk:!1,error:a}),!1)},r.checkPasswordEquality=function(){var e=r.state,t=e.fPassword,a=e.sPassword,n=e.error,s="\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442";return t.length!==a.length&&t!==a?(n.find((function(e){return e===s}))||n.push(s),r.setState({sPpasswordOk:!1,error:n}),!1):(r.setState({sPpasswordOk:!0,error:n.filter((function(e){return e!==s}))}),!0)},r.callBackPasswordStrengBar=function(e){var t=r.state.fPasswordIsComplex;r.setState({fPasswordOk:e>=t})},r.formSwitcher=function(){r.setState((function(e){return{formAuthorization:!e.formAuthorization}}))},r.handleCloseInfoSuccessCreateUser=function(){r.setState({createUserSuccess:!1})},r.state={formAuthorization:!0,email:"",emailOk:!1,fPassword:"",fPasswordIsComplex:3,fPasswordOk:!1,sPassword:"",sPpasswordOk:!1,error:[],createUserSuccess:!1},r.formSwitcher=r.formSwitcher.bind(Object(C.a)(r)),r.handleUserLogIn=r.handleUserLogIn.bind(Object(C.a)(r)),r.handleUserRegistration=r.handleUserRegistration.bind(Object(C.a)(r)),r.callBackPasswordStrengBar=r.callBackPasswordStrengBar.bind(Object(C.a)(r)),r.handleInputOnChange=r.handleInputOnChange.bind(Object(C.a)(r)),r}return Object(h.a)(a,[{key:"handleInputOnChange",value:function(e){var t=e.target,a=t.id,r=t.value;this.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(z.a)({},a,r))})),"email"===a&&this.validateEmail(r),"fPassword"===a&&this.validateFirstPassword(r),"sPassword"===a&&this.validateSecondPassword(r)}},{key:"handleUserLogIn",value:function(){var e=Object(x.a)(m.a.mark((function e(t){var a,r,n,s,c,i,o,d,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.state,r=a.formAuthorization,n=a.emailOk,s=a.fPasswordOk,c=a.sPpasswordOk,(r?n&&s:n&&s&&c)&&(i=this.props.authorizationUser,o=this.state,d=o.email,l=o.fPassword,i(d,l));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleUserRegistration",value:function(){var e=Object(x.a)(m.a.mark((function e(t){var a,r,n,s,c,i,o,d,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.state,r=a.formAuthorization,n=a.emailOk,s=a.fPasswordOk,c=a.sPpasswordOk,!(r?n&&s:n&&s&&c)){e.next=10;break}return i=this.props.registrationUser,o=this.state,d=o.email,l=o.fPassword,e.next=8,i(d,l);case 8:e.sent&&(this.setState({createUserSuccess:!0,email:"",fPassword:"",sPassword:""}),this.formSwitcher());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.formAuthorization,a=e.fPassword,r=e.fPasswordOk,n=e.email,s=e.emailOk,c=e.error,i=e.sPassword,o=e.sPpasswordOk,d=e.createUserSuccess,l=this.props.logging,u=t?"authorization":"registration";return Object(G.jsxs)("div",{className:"".concat(u,"-box"),children:[l&&Object(G.jsx)(Ct,{}),d&&Object(G.jsxs)("div",{className:"success-create-user",children:[Object(G.jsx)("span",{children:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c! \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0438 \u043d\u0430\u0441\u043b\u0430\u0436\u0434\u0430\u0439\u0442\u0435\u0441\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0439"}),Object(G.jsx)("span",{className:"button",onClick:this.handleCloseInfoSuccessCreateUser,children:"x"})]}),Object(G.jsxs)("div",{className:"".concat(u,"-container"),children:[Object(G.jsx)("h4",{className:"".concat(u,"-title"),children:u}),Object(G.jsxs)("form",{className:"".concat(u,"-form"),children:[Object(G.jsx)("label",{htmlFor:"email",children:"Email"}),Object(G.jsx)("input",{type:"email",id:"email",name:"email",defaultValue:n,onChange:this.handleInputOnChange,autoComplete:"section-email"}),Object(G.jsx)("label",{htmlFor:"fPassword",children:"Password"}),Object(G.jsx)("input",{type:"password",id:"fPassword",name:"fPassword",defaultValue:a,onChange:this.handleInputOnChange,autoComplete:"section-first-password"}),!t&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(xt.a,{password:a,className:r?"passwordStrengBar":"passwordStrengBar errorValue",onChangeScore:this.callBackPasswordStrengBar,scoreWords:["\u043f\u0443\u0441\u0442\u043e","\u0441\u043b\u0430\u0431\u043e\u0432\u0430\u0442\u043e","\u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0441\u043b\u043e\u0436\u043d\u0435\u0435","\u0441\u043e\u0439\u0434\u0435\u0442","\u043c\u043e\u043b\u043e\u0442\u043e\u043a!"],shortScoreWord:"\u044d\u0442\u043e \u0434\u044b\u0440\u0430"}),Object(G.jsx)("label",{htmlFor:"sPassword",children:"Repeat password"}),Object(G.jsx)("input",{type:"password",id:"sPassword",name:"sPassword",defaultValue:i,onChange:this.handleInputOnChange,autoComplete:"section-second-password"}),Object(G.jsx)("div",{className:"textError",children:c.map((function(e,t){return Object(G.jsx)("p",{children:e},t)}))})]}),Object(G.jsx)(gt,{formAuthorization:t,handleUserLogIn:this.handleUserLogIn,handleUserRegistration:this.handleUserRegistration,titleForm:u,buttonActive:t?s&&r:s&&r&&o}),Object(G.jsxs)("p",{className:"".concat(u,"-already"),children:[t?"First time with us?":"Already have an account?"," ",Object(G.jsx)("span",{onClick:this.formSwitcher,children:t?"Register now":"Sign in"})]})]})]})]})}}]),a}(n.a.Component),yt=Object(i.b)((function(e){return Object(d.a)({},e.load)}),{authorizationUser:function(e,t){return function(){var a=Object(x.a)(m.a.mark((function a(r){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:N.LOADING}),r({type:N.LOGGING}),a.prev=2,a.next=5,k.post("/login",{email:e,password:t});case 5:(n=a.sent)&&"Authorized"===n.result?(s=n.token,sessionStorage.setItem("token",s),r({type:ct.AUTORIZATION})):(y(),r({type:ct.LOGOUT})),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),r({type:D.ERROR,payload:[a.t0.message,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]});case 12:return a.prev=12,r({type:N.LOADING_END}),r({type:N.LOGGING_END}),a.finish(12);case 16:case"end":return a.stop()}var s}),a,null,[[2,9,12,16]])})));return function(e){return a.apply(this,arguments)}}()},registrationUser:function(e,t){return function(){var a=Object(x.a)(m.a.mark((function a(r){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:N.LOADING}),r({type:N.LOGGING}),a.prev=2,a.next=5,k.post("/user",{email:e,password:t});case 5:if(!(n=a.sent)||"Created"!==n.result){a.next=8;break}return a.abrupt("return",!0);case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),r({type:D.ERROR,payload:[a.t0.message,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"]}),a.abrupt("return",!1);case 14:return a.prev=14,r({type:N.LOADING_END}),r({type:N.LOGGING_END}),a.finish(14);case 18:return a.abrupt("return",!1);case 19:case"end":return a.stop()}}),a,null,[[2,10,14,18]])})));return function(e){return a.apply(this,arguments)}}()}})(At);b.b.add(p.a);var wt=Object(i.b)((function(e){return Object(d.a)({},e.user)}))((function(e){var t=e.userIsLogged;return Object(G.jsxs)(l.a,{children:[Object(G.jsx)(jt,{}),Object(G.jsx)(Ot,{}),Object(G.jsxs)("div",{id:"app-main-page",children:[Object(G.jsxs)("nav",{id:"app-main-nav",children:[Object(G.jsx)(l.b,{to:"/",children:Object(G.jsx)("div",{className:"logo-box",children:Object(G.jsx)("img",{style:{width:"100%",height:"auto"},className:"home-page-img",src:"data:image/png;base64,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",alt:"home"})})}),Object(G.jsx)(l.b,{to:"/",children:Object(G.jsx)(ft,{})})]}),Object(G.jsx)(u.a,{exact:!0,path:"/",component:t?J:yt}),Object(G.jsx)(u.a,{path:"/board/:boardId",component:lt}),Object(G.jsx)(u.a,{path:"/b/:boardId/c/:cardId",component:lt})]})]})})),It=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,113)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))},Nt=a(28),kt=a(52),Dt=function(e,t){switch(t.type){case B.UPDATE_BOARD:return Object(d.a)(Object(d.a)({},e),{},{boardContent:t.payload});case B.CLEAR_BOARD:return Object(d.a)(Object(d.a)({},e),{},{boardContent:null});default:return Object(d.a)({},e)}},Et={boardsList:[]},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.UPDATE_BOARDS:return{boardsList:t.payload};case I.CLEAR_BOARDS:return{boardsList:null};default:return e}},St=function(){return{userIsLogged:!!A()}},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.AUTORIZATION:return Object(d.a)(Object(d.a)({},e),{},{userIsLogged:!0});case ct.LOGOUT:return Object(d.a)(Object(d.a)({},e),{},{userIsLogged:!1});default:return e}},Rt=Object(Nt.b)({board:Dt,boards:Bt,user:Lt,load:E,error:S}),Tt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Nt.c,_t=Object(Nt.d)(Rt,Tt(Object(Nt.a)(kt.a)));c.a.render(Object(G.jsx)(n.a.StrictMode,{children:Object(G.jsx)(i.a,{store:_t,children:Object(G.jsx)(o.a,{children:Object(G.jsx)(wt,{})})})}),document.getElementById("root")),It()},25:function(e,t,a){e.exports={button:"Button_button__3Qveq",grey:"Button_grey__xRmu7",blue:"Button_blue__WXsIl",brown:"Button_brown__3u0wG",circle:"Button_circle__2OMbc",simpleButton:"Button_simpleButton__pmhhp",icon:"Button_icon__A90YG"}},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},89:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.28960abf.chunk.js.map