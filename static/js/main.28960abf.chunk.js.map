{"version":3,"sources":["store/modules/user/session-storage-actions.ts","api/request.ts","common/constants/api.ts","store/modules/boards/action-types.ts","store/modules/loading/reducer.ts","store/modules/error/reducer.ts","store/modules/board/action-types.ts","store/modules/boards/action-creators.ts","common/scripts/commonFunctions.ts","pages/Home/components/AddBoard/functionsAddBoard.tsx","pages/Home/components/AddBoard/AddBoard.tsx","pages/Home/components/Board/Board.tsx","pages/Home/Home.tsx","store/modules/board/action-creators.ts","pages/Board/components/PopUpMessage/PopUpMessage.tsx","pages/Board/components/List/EditableCard.tsx","pages/Board/boardContext.ts","pages/Board/components/List/Card.tsx","pages/Board/components/List/EditableTitleList.tsx","pages/Board/components/List/AddList.tsx","pages/Board/components/List/AddCard.tsx","pages/Board/components/List/List.tsx","pages/Board/components/EditableTitleBoard/EditableTitleBoard.tsx","pages/CardDetalis/components/TitleCard/Title.tsx","pages/CardDetalis/components/DescriptionCard/Description.tsx","pages/CardDetalis/components/HeaderPopupCardDialog/HeaderPopupCardDialog.tsx","pages/CardDetalis/components/MembersCard/MembersContext.ts","store/modules/user/assignOrRemoveUsersToFromCard.ts","pages/CardDetalis/components/DialogAddMembers.tsx","pages/CardDetalis/components/MembersCard/Member.tsx","pages/CardDetalis/components/MembersCard/Members.tsx","pages/CardDetalis/CardDetalisContext.ts","pages/CardDetalis/components/Selection/Selection.tsx","pages/CardDetalis/components/Button/Button.tsx","pages/CardDetalis/components/MoveCard/functionsMoveCard/funcMoveCard.ts","pages/CardDetalis/components/MoveCard/MoveCard.tsx","pages/CardDetalis/components/CopyCard/CopyCard.tsx","pages/CardDetalis/components/DeleteCard/DeleteCard.tsx","pages/CardDetalis/CardDetalis.tsx","store/modules/user/action-types.ts","pages/Board/Board.tsx","pages/Board/functionBoard/functionsForWorkingWithCards.ts","pages/Board/functionBoard/functionsForWorkingWithLists.ts","common/components/preloader/Preloader/PreloaderIcon.tsx","common/components/preloader/Preloader/Preloader.tsx","common/components/errorsMessagePopap/ErrorMessages.tsx","store/modules/user/action-creators.ts","common/components/login/logOut/Logout.tsx","common/components/preloader/Rainbow/Rainbow.tsx","common/components/login/logIn/ButtonFormLogin/ButtonFormLogin.tsx","common/components/login/logIn/FormLogIn.tsx","App.tsx","common/img/home-icon.png","reportWebVitals.ts","store/modules/board/reducer.ts","store/modules/boards/reducer.ts","store/modules/user/reducer.ts","store/reducer.ts","store/store.ts","index.tsx","pages/CardDetalis/components/Button/Button.module.scss"],"names":["getFromSessionStorageToken","sessionStorage","getItem","removeFromSessionStorageToken","removeItem","instance","axios","create","baseURL","process","headers","interceptors","request","use","config","token","Authorization","response","res","data","ActionType","reducer","state","loading","logging","action","type","LOADING","LOADING_END","LOGGING","LOGGING_END","errorMessages","ERROR","payload","ERROR_CLEAR","getBoards","dispatch","a","get","UPDATE_BOARDS","boards","message","ActionTypeError","ActionTypeLoading","checkInputText","text","checkedSymbols","regExp","status","errSymbols","match","join","setFocusToElement","element_id","element","document","getElementById","setTimeout","focus","select","toggleClassElement","classNameOrElementHtml","className","querySelector","classList","contains","remove","add","showErrText","elementId","timeOut","errText","elemHtmlError","style","display","innerText","toggleClassBody","body","AddBoard","props","globalValue","mounted","isOpenPopap","clickedContainerPopap","inputOnChangeHandler","e","setState","nameNewBoard","target","value","closedPopap","openPopap","checkInputData","statusErrorMessage","addNewBoard","createNewBoard","addBrd","getBrds","popapClick","popapContainerClick","clickContainerPopap","bind","this","addEventListener","key","preventDefault","removeEventListener","onClick","id","autoComplete","onChange","React","Component","connect","newTitleBoard","post","title","result","Error","deleteBoard","boardId","delete","delBoard","isMountedRef","useRef","useEffect","current","handleDeleteBoard","boardIdFromHtml","getAttribute","Home","fetchBoards","boardsGet","url","boardsList","map","board","to","getBoard","UPDATE_BOARD","console","log","getNewCardPositionsForCreate","list","position","Object","entries","cards","sort","b","filter","cd","list_id","createNewCardWithMovement","listContent","newCardPositions","put","undefined","getNewCardPositionsForDelete","cardId","c","i","deleteCard","moveCardsList","movedCards","editCard","board_id","card_id","textType","description","PopUpMessage","statusErrorText","parentId","plural","length","parent","stylePosition","top","left","getBoundingClientRect","height","ButtonLink","awesomeIcon","titleBtn","handlerOnClick","href","icon","EditableCard","x","y","card","closeEditor","closeBGEditor","saveTitle","width","useState","cardTitle","setCardTitle","setStatusErrorText","textArea","renameCardTitle","dir","defaultValue","onInput","ref","onFocus","selectionStart","selectionEnd","BoardContext","createContext","Card","onClickOpenEditor","event","closest","openEditCard","handlerClickClosedEditCard","canBeClosed","forEach","cls","onClickDeleteCard","cardDelete","context","updateBoard","boardData","idCard","dataset","parentElement","lists","find","crd","saveTitleCard","handlerCardTitleRename","listId","cardEdit","created_at","users","onMouseDownForCard","handlerOpenDetatisCard","settingsEditCard","index","cardItem","onMouseDown","mapDispatchToProps","contextType","listRenameTitle","titleList","processMovingList","setTitle","prevTitle","setPrevTitle","openInput","setOpenInput","errorMessage","setErrorMessage","heightTitle","setHeightTitle","useContext","renameTitle","textarea","editTitle","currentTarget","nextSibling","onBlur","onKeyPress","code","AddList","nameRunButton","bgRunButton","inputRef","onInputHandler","nameList","errorHandling","numberError","errorSymbols","showMessageInBottom","inputBtn","background","clearTimeout","buttonHandlerOpenFieldInput","node","closeFieldInputHandler","handlerAddNewList","listAdd","createRef","inputField","activeElement","listClassesOrIdHtmlElements","clickObj1","obj","isCloseInputField","placeholder","AddCard","textareaRef","nameCard","onClickButtonCloseInputField","handlerClickCloseAddedCard","onKeyPressInputAddCard","charCode","countcards","idlist","addNewCard","onClickButtonAddCard","cardCreate","st","openInputAddCard","addCardInputId","positionFixed","countCards","List","onClickOpenAddedCard","openAddCard","btnAddCardListId","onClickDeleteList","listDelete","onClickColumn","heightContainer","onMouseDownForList","openFieldForAddCard","maxHeight","keys","changeBoardTitle","openInputEditTitle","setOpenInputEditTitle","renameBoard","nameTitle","clientWidth","Title","mount","handlerChangeTextarea","handlerOnBlurTextarea","prevValueTitle","Description","renameDescription","prevValueDescription","HeaderPopupCardDialog","classname","cn","MembersContext","assignOrRemoveUsersToOrFromCard","DialogAddMembers","handlerInputOnChange","inputValue","params","emailOrUsername","resultSearchUsers","usersCard","addMemberToCard","addOrRemoveMemberToCard","removeMemberToCard","actionAddMember","idMember","userAssignOrRemove","addMembers","removeMembers","cardUsers","user","username","includes","Member","handlerJoinMemberOnClick","userToken","removeUserFromCard","idUser","userId","name","email","typeButton","confirmationId","show","hide","isShow","nonExistentID","Members","handlerOnClickWindow","memberNameButton","closeButton","cardDialog","dialogAddMembers","closeBtnAddMembersDialog","infoMemberHide","infoMemberShow","memberId","isShowInfoMemberId","window","isJoined","Provider","u","CardDetalisContext","Selection","children","src","boardTitle","valueId","l","positionCard","numberCards","isThisCardInThisList","optionsArray","Array","fill","ae","push","v","Button","appearance","circle","simpleButton","awesomeIconProp","styles","button","grey","blue","brown","moveCardOneList","srcList","srcData","newCardPosition","cardsSort","moveCard","splice","moveCardBetweenLists","destList","sourceCards","destinationCards","moveCardForDestination","MoveCard","getBoardsList","getBoardData","handlerOnChangeSelectBoard","currentValueSelectBoard","firstList","movableCard","handlerOnChangeSelectList","handlerOnChangeSelectCard","handlerMoveCard","closePopup","moveCards","deleteCrd","createCrd","closeCardDialog","editCrd","update","CopyCard","handlerCopyCard","copyCard","copyMembersInCard","titleCard","copyDescription","copyMembers","resultCreateCard","resultCopyCard","checked","htmlFor","DeleteCard","handlerDeleteCard","CardDetalis","setLocation","curLoc","history","location","pushState","error","hash","handlerOnClickClose","closedCardDialog","showDialogMoveCardInTitleBox","showDialogCopyCardInSidebar","showDialogMoveToCardInSidebar","showDialogArchiveCardInSidebar","clickedNoPopapOrBtnClose","closeDialogMoveCardInTitleBox","closeDialogCopyCardInSidebar","closeDialogMoveToCardInSidebar","closeDialogArchiveCardInSidebar","closeDetalisCard","handlerTitleColumnName","handlerButtonSidebarActionToCard","cardContent","startingValues","boardUsers","withRouter","Board","updBoard","boardContent","dataLists","clientX","clientY","ondragstart","shiftX","shiftY","createElement","movingCard","indexSourceList","indexCard","shiftForCard","cardActive","doAddPlaceholder","processMovingCard","pageX","pageY","clientHeight","insertBefore","elemBelowColumn","elementFromPoint","elemBelowListContent","getElementsByClassName","elemBelowCard","getIndexPositionPlaceholder","htmlCollection","collection","call","elem","indexNewPositionActiveElement","bottom","firstChild","appendChild","item","mouseUpForCard","newPosition","indexDestintaionList","delCard","dataForState","sourceList","destinationList","movingCardsInOneList","movingCardsBetweenDifferentList","parentNode","removeChild","cardsMoved","dragElement","shiftForList","listActive","movingListId","moveList","right","middle","mouseUpForList","newListsPosition","delList","movingList","listsMoved","showDetalisCard","openDetailEditCard","dataDetailEditCard","heightWindow","innerHeight","containerTop","path","slice","keyCode","PreloaderIcon","xmlns","version","viewBox","xmlSpace","cx","cy","r","transform","attributeName","values","calcMode","dur","repeatCount","PreloaderComponent","loadProgressBar","ErrorMessage","handleClosedErrorMessage","clearErrorMessages","marginLeft","m","LogOut","handleLogOut","userOutLog","userIsLogged","LOGOUT","ActionTypeBoard","CLEAR_BOARD","ActionTypeBoards","CLEAR_BOARDS","Rainbow","ButtonFormLogin","formAuthorization","handleUserLogIn","handleUserRegistration","titleForm","buttonActive","FormAuthorization","validateEmail","emailOk","test","validateFirstPassword","password","fPasswordOk","validateSecondPassword","fPassword","sPpasswordOk","checkPasswordComplex","passwordOk","checkPasswordEquality","password2","sPassword","callBackPasswordStrengBar","score","fPasswordIsComplex","formSwitcher","handleCloseInfoSuccessCreateUser","createUserSuccess","handleInputOnChange","authorizationUser","registrationUser","onChangeScore","scoreWords","shortScoreWord","load","setItem","AUTORIZATION","library","fas","Preloader","ErrorMessages","alt","exact","component","Form","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","getInitialState","combineReducers","boardReducer","boardsReducer","userReducer","loadingReducer","errorReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","StrictMode","CookiesProvider","module","exports"],"mappings":"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","file":"static/js/main.28960abf.chunk.js","sourcesContent":["// Session Storage action for Token\nexport const getFromSessionStorageToken = (): string | null => sessionStorage.getItem('token');\nexport const setInSessionStorageToken = (token: string): void => {\n  sessionStorage.setItem('token', token);\n};\nexport const removeFromSessionStorageToken = (): void => {\n  sessionStorage.removeItem('token');\n};\n","/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable no-console */\nimport axios from 'axios';\nimport { api } from '../common/constants';\nimport { getFromSessionStorageToken } from '../store/modules/user/session-storage-actions';\n\nconst instance = axios.create({\n  baseURL: api.baseURL,\n  headers: {\n    'Content-Type': 'application/json',\n    // Authorization: `Bearer 123`, // к этому мы ещё вернёмся как-нибудь потом\n  },\n});\n\ninstance.interceptors.request.use((config) => {\n  const token = getFromSessionStorageToken() || '';\n  return { ...config, headers: { ...config.headers, Authorization: `Bearer ${token}` } };\n});\n\ninstance.interceptors.response.use((res) => res.data);\n\nexport default instance;\n","export default {\n  baseURL: process.env.REACT_APP_API_URL || '',\n};\n","export enum ActionType {\n  UPDATE_BOARDS = 'UPDATE_BOARDS',\n  CLEAR_BOARDS = 'CLEAR_BOARDS',\n}\n","import { ILoadingReducer } from '../../../common/interfaces/Interfaces';\n\nexport enum ActionType {\n  LOADING = 'LOADING',\n  LOADING_END = 'LOADING_END',\n  LOGGING = 'LOGGING',\n  LOGGING_END = 'LOGGING_END',\n}\n\nexport type Action =\n  | { type: ActionType.LOADING }\n  | { type: ActionType.LOADING_END }\n  | { type: ActionType.LOGGING }\n  | { type: ActionType.LOGGING_END };\n\nconst reducer = (state: ILoadingReducer = { loading: false, logging: false }, action: Action): ILoadingReducer => {\n  switch (action.type) {\n    case ActionType.LOADING:\n      return { ...state, loading: true };\n    case ActionType.LOADING_END:\n      return { ...state, loading: false };\n    case ActionType.LOGGING:\n      return { ...state, logging: true };\n    case ActionType.LOGGING_END:\n      return { ...state, logging: false };\n    default: {\n      return { ...state };\n    }\n  }\n};\n\nexport default reducer;\n","import { IErrorReducer } from '../../../common/interfaces/Interfaces';\n\nexport enum ActionType {\n  ERROR = 'ERROR',\n  ERROR_CLEAR = 'ERROR_CLEAR',\n}\n\nexport interface Error {\n  type: ActionType.ERROR;\n  payload: string[];\n}\nexport interface ErrorClear {\n  type: ActionType.ERROR_CLEAR;\n}\n\ntype Action = Error | ErrorClear;\n\nexport const errorClear = (): { type: string } => ({ type: ActionType.ERROR_CLEAR });\n\nconst reducer = (state: IErrorReducer = { errorMessages: [] }, action: Action): IErrorReducer => {\n  switch (action.type) {\n    case ActionType.ERROR:\n      return { errorMessages: action.payload };\n    case ActionType.ERROR_CLEAR:\n      return { errorMessages: [] };\n    default: {\n      return { ...state };\n    }\n  }\n};\n\nexport default reducer;\n","export enum ActionType {\n  UPDATE_BOARD = 'UPDATE_BOARD',\n  CLEAR_BOARD = 'CLEAR_BOARD',\n}\n","import { Dispatch } from 'redux';\nimport instance from '../../../api/request';\nimport { ActionType } from './action-types';\nimport { ActionType as ActionTypeLoading } from '../loading/reducer';\nimport { ActionType as ActionTypeError } from '../error/reducer';\nimport { IBoardCover } from '../../../common/interfaces/Interfaces';\n\nexport const getBoards =\n  () =>\n  async (dispatch: Dispatch): Promise<void> => {\n    try {\n      const data = (await instance.get('/board')) as { boards: IBoardCover[] };\n      dispatch({ type: ActionType.UPDATE_BOARDS, payload: data.boards });\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      const { message } = error;\n\n      dispatch({\n        type: ActionTypeError.ERROR,\n        payload: ['Не удалось получить данные о досках.', message],\n      });\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nexport const addBoard =\n  (newTitleBoard: string) =>\n  async (dispatch: Dispatch): Promise<void> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      const response = (await instance.post('/board', {\n        title: newTitleBoard,\n      })) as { id: number; result: string };\n\n      if (response.result !== 'Created') {\n        throw new Error('Не удалось создать доску.');\n      }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось создать доску.', error.message] });\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nexport const deleteBoard =\n  (boardId: number) =>\n  async (dispatch: Dispatch): Promise<void> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      const response = (await instance.delete(`/board/${boardId}`)) as { result: string };\n\n      if (response.result !== 'Deleted') {\n        throw new Error('Не удалось удалить эту доску.');\n      }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось удалить эту доску.', error.message] });\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\ntype TypeCheckInputText = (\n  text: string,\n  checkedSymbols?: RegExp\n) => {\n  status: boolean;\n  res: '' | 'empty' | 'forbidden';\n  errSymbols: string;\n};\n\n/**\n * Validation of data entry in the input field\n * @param text from the input field\n * @param regExp a string of invalid characters. For example: everything except these\n * Result:\n *      0 is an empty string\n *      1 the string has invalid characters, errSymbols returns a list separated by a space\n *     -1 not errors\n */\nexport const checkInputText: TypeCheckInputText = (text, checkedSymbols) => {\n  const regExp = checkedSymbols || /[^а-я.\\w\\s\\-\\d]+/gi;\n\n  if (text === '') return { status: false, res: 'empty', errSymbols: '' };\n\n  const res = text.match(regExp);\n  if (res) return { status: false, res: 'forbidden', errSymbols: res.join(' ') };\n\n  return { status: true, res: '', errSymbols: '' };\n};\n\n/**\n * Sets autofocus to an element with this ID\n * @param element_id ID of the element for focus\n */\nexport const setFocusToElement = (element_id: string): void => {\n  const element = document.getElementById(element_id);\n  if (!element) return;\n\n  setTimeout(() => {\n    element.focus(); // @ts-ignore\n    element.select();\n  }, 10);\n};\n\n/**\n * If a certain class exists, then remove, otherwise, add to this element with that class.\n * @param classNameOrElementHtml Object class to change\n * @param className added / removed class\n */\nexport const toggleClassElement = (classNameOrElementHtml: string | HTMLElement, className: string): boolean => {\n  let element;\n  if (typeof classNameOrElementHtml === 'string') {\n    element = document.querySelector(classNameOrElementHtml);\n  } else {\n    element = classNameOrElementHtml;\n  }\n\n  if (!element) return false;\n\n  if (element.classList.contains(className)) {\n    element.classList.remove(className);\n    return true;\n  }\n  element.classList.add(className);\n  return false;\n};\n\nexport const toggleDisplayNoneToBlock = (element: HTMLElement | null): void => {\n  if (element) {\n    const { display } = getComputedStyle(element);\n    const displ = display !== 'none' ? display : 'block';\n\n    if (display === 'none') {\n      // eslint-disable-next-line no-param-reassign\n      element.style.display = displ;\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      element.style.display = 'none';\n    }\n  }\n};\n\n/**\n * checks the objects that were clicked and returns true if none of the passed objects was clicked.\n * True if the input window can be closed.\n * @param listClassesOrIdHtmlElements an array of classes or id which should not be closed by clicking on the input field\n * @param target object that was clicked\n */\nexport const isCloseInputField = (listClassesOrIdHtmlElements: string[], target: EventTarget | null): boolean => {\n  let clickObj1 = true;\n\n  for (let i = 0; i < listClassesOrIdHtmlElements.length; i++) {\n    const obj =\n      listClassesOrIdHtmlElements[i][0] === '.'\n        ? document.querySelector(listClassesOrIdHtmlElements[i])\n        : document.getElementById(listClassesOrIdHtmlElements[i]);\n\n    if (obj && obj === target) {\n      clickObj1 = false;\n    }\n  }\n\n  return clickObj1;\n};\n","/**\n * Show error message\n * @param elementId The ID of the element that displays the message.\n * @param timeOut display time\n * @param errText error message\n */\nexport const showErrText = (elementId: string, timeOut: number, errText: string): void => {\n  const elemHtmlError = document.getElementById(elementId);\n  if (elemHtmlError) {\n    elemHtmlError.style.display = 'block';\n    elemHtmlError.innerText = errText;\n\n    setTimeout(() => {\n      elemHtmlError.style.display = 'none';\n    }, timeOut);\n  }\n};\n\n/**\n * If this class exists, delete, otherwise add to the body element\n * @param className added / removed class\n */\nexport const toggleClassBody = (className: string): void => {\n  if (document.body.classList.contains(className)) {\n    document.body.classList.remove(className);\n  } else {\n    document.body.classList.add(className);\n  }\n};\n","import React from 'react';\nimport './addBoard.scss';\nimport { connect } from 'react-redux';\nimport { addBoard, getBoards } from '../../../../store/modules/boards/action-creators';\nimport { checkInputText, setFocusToElement, toggleClassElement } from '../../../../common/scripts/commonFunctions';\nimport { showErrText, toggleClassBody } from './functionsAddBoard';\n\ninterface PropsType {\n  getBrds?: () => Promise<void>;\n  addBrd?: (newTitleBoard: string) => Promise<void>;\n}\n\ninterface StateType {\n  nameNewBoard: string;\n  clickContainerPopap: boolean;\n}\n\ninterface GlobalValue {\n  mounted: boolean;\n  isOpenPopap: boolean;\n  clickedContainerPopap: boolean;\n}\n\nclass AddBoard extends React.Component<PropsType, StateType> {\n  globalValue: GlobalValue = {\n    mounted: false,\n    isOpenPopap: false,\n    clickedContainerPopap: false,\n  };\n\n  constructor(props: PropsType) {\n    super(props);\n    this.state = {\n      nameNewBoard: '',\n      clickContainerPopap: false,\n    };\n\n    this.closedPopap = this.closedPopap.bind(this);\n    this.openPopap = this.openPopap.bind(this);\n    this.addNewBoard = this.addNewBoard.bind(this);\n  }\n\n  componentDidMount(): void {\n    this.globalValue.mounted = true;\n\n    document.addEventListener('keypress', (e: KeyboardEvent) => {\n      if (this.globalValue.isOpenPopap && e.key === 'Enter') {\n        e.preventDefault();\n        this.createNewBoard();\n      }\n    });\n  }\n\n  componentWillUnmount(): void {\n    this.globalValue.mounted = false;\n    document.removeEventListener('keypress', (e: KeyboardEvent) => {\n      if (this.globalValue.isOpenPopap && e.key === 'Enter') {\n        e.preventDefault();\n        this.createNewBoard();\n      }\n    });\n  }\n\n  inputOnChangeHandler = (e: { target: { value: string } }): void => {\n    this.setState({ nameNewBoard: e.target.value });\n  };\n\n  closedPopap = (): void => {\n    this.globalValue.isOpenPopap = toggleClassElement('.add-board__popapp', 'display-none');\n    toggleClassBody('overflowHidden');\n  };\n\n  openPopap = (): void => {\n    this.globalValue.isOpenPopap = toggleClassElement('.add-board__popapp', 'display-none');\n    toggleClassBody('overflowHidden');\n    setFocusToElement('addNewBoardInpt');\n  };\n\n  // Check data input\n  checkInputData = (): boolean => {\n    const { nameNewBoard } = this.state;\n    const { status: statusErrorMessage, res, errSymbols } = checkInputText(nameNewBoard);\n\n    if (!statusErrorMessage) {\n      if (res === 'empty') {\n        showErrText('add-board-error-text', 2000, 'Поле не может быть пустым.');\n        return false;\n      }\n\n      if (res === 'forbidden') {\n        setFocusToElement('addNewBoardInpt');\n        showErrText('add-board-error-text', 2000, `Эти символы не допустимы: \\n${errSymbols}`);\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  addNewBoard = (): void => {\n    this.createNewBoard();\n  };\n\n  createNewBoard = async (): Promise<void> => {\n    if (!this.checkInputData()) return;\n    this.closedPopap();\n\n    const { nameNewBoard } = this.state;\n    const { addBrd, getBrds } = this.props;\n\n    if (addBrd && getBrds) {\n      await addBrd(nameNewBoard);\n      await getBrds();\n      this.setState((state) => ({ ...state, nameNewBoard: '' }));\n    }\n  };\n\n  // close element for click out element\n  popapClick = (): void => {\n    if (this.globalValue.clickedContainerPopap) this.globalValue.clickedContainerPopap = false;\n    else this.closedPopap();\n  };\n\n  popapContainerClick = (): void => {\n    this.globalValue.clickedContainerPopap = true;\n  };\n\n  render(): JSX.Element {\n    const { nameNewBoard } = this.state;\n\n    return (\n      <div className=\"add-board\">\n        <div className=\"add-board__popapp display-none\" onClick={this.popapClick}>\n          <div className=\"add-board__container\" onClick={this.popapContainerClick}>\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <button className=\"add-board__close-btn\" onClick={this.closedPopap} />\n            <div className=\"add-board__input-container\">\n              <div id=\"add-board-error-text\" className=\"add-board__errorHint\" />\n              <input\n                id=\"addNewBoardInpt\"\n                type=\"text\"\n                autoComplete=\"off\"\n                value={nameNewBoard}\n                onChange={this.inputOnChangeHandler}\n              />\n            </div>\n            <button className=\"add-board__create-new-board\" onClick={this.addNewBoard}>\n              Создать доску\n            </button>\n          </div>\n        </div>\n\n        <button className=\"create-new-board-begin\" onClick={this.openPopap}>\n          + Создать доску\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { getBrds: getBoards, addBrd: addBoard })(AddBoard);\n","import React, { useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport './board.scss';\nimport { getBoards, deleteBoard } from '../../../../store/modules/boards/action-creators';\n\ntype PropsType = {\n  boardId: number;\n  title: string;\n  getBoards: () => Promise<void>;\n  deleteBoard: (boardId: number) => Promise<void>;\n};\n\nconst Board = (props: PropsType): JSX.Element => {\n  const { boardId, title, deleteBoard: delBoard } = props;\n  const isMountedRef: React.MutableRefObject<boolean | null> = useRef(null);\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  useEffect(() => {\n    isMountedRef.current = true;\n    return (): boolean => (isMountedRef.current = false);\n  });\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const handleDeleteBoard = async (e: any): Promise<void> => {\n    e.preventDefault();\n    const boardIdFromHtml = e.target.getAttribute('data-id');\n    await delBoard(boardIdFromHtml);\n    if (isMountedRef.current) {\n      props.getBoards();\n    }\n  };\n\n  return (\n    <div className=\"board__container\">\n      <div className=\"board__delete_btn\" data-id={boardId} onClick={handleDeleteBoard} />\n      <div className=\"board__title-box\">\n        <span className=\"board__title\">{title}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default connect(null, { getBoards, deleteBoard })(Board);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport './home.scss';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { IBoardsListReducer, IBoardCover, IBoards } from '../../common/interfaces/Interfaces';\nimport AddBoard from './components/AddBoard/AddBoard';\nimport Board from './components/Board/Board';\nimport { getBoards } from '../../store/modules/boards/action-creators';\n\ninterface PropsType extends RouteComponentProps, IBoardsListReducer {\n  boardsGet: () => Promise<void>;\n}\n\nclass Home extends React.Component<PropsType> {\n  componentDidMount(): void {\n    this.fetchBoards();\n  }\n\n  fetchBoards = (): void => {\n    const { boardsGet } = this.props;\n    boardsGet();\n  };\n\n  render(): JSX.Element {\n    const {\n      match: { url },\n      boardsList,\n    } = this.props;\n\n    return (\n      <div className=\"home-boards\">\n        <div className=\"home-boards__wrapper\">\n          <ul className=\"home-boards__list\">\n            {boardsList &&\n              boardsList.map((board: IBoardCover) => (\n                <li className=\"home-boards__list-element\" key={board.id}>\n                  <Link to={`${url}board/${board.id}`}>\n                    <Board boardId={board.id} title={board.title} />\n                  </Link>\n                </li>\n              ))}\n            {/* Add a button for create a new board */}\n            <li className=\"home-boards__list-element btn\" key=\"btn\">\n              <AddBoard />\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect((state: IBoards) => ({ ...state.boards }), { boardsGet: getBoards })(Home);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Dispatch } from 'redux';\nimport instance from '../../../api/request';\nimport { IBoardContent, IListContent, IValuesNewCardPositions } from '../../../common/interfaces/Interfaces';\nimport { ActionType } from './action-types';\nimport { ActionType as ActionTypeLoading } from '../loading/reducer';\nimport { ActionType as ActionTypeError } from '../error/reducer';\n\nexport const getBoard =\n  (boardId: number) =>\n  async (dispatch: Dispatch): Promise<void> => {\n    try {\n      const data: IBoardContent = await instance.get(`/board/${boardId}`);\n\n      dispatch({ type: ActionType.UPDATE_BOARD, payload: data });\n    } catch (e: any) {\n      // eslint-disable-next-line no-console\n      console.log('Error update data: ', e);\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось обновить доску', e.message] });\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nexport const renameTitleBoard =\n  (boardId: number, title: string) =>\n  async (dispatch: Dispatch): Promise<boolean> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      const response = (await instance.put(`/board/${boardId}`, { title })) as { result: 'Updated' };\n      return response.result === 'Updated';\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось переименовать доску.', e.message] });\n      return false;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\n/**\n * LIST\n */\nexport const addList =\n  (boardId: number, title: string, position: number) =>\n  async (dispatch: Dispatch): Promise<boolean> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      const response = (await instance.post(`/board/${boardId}/list`, { title, position })) as { result: 'Updated' };\n      return response.result === 'Updated';\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось добавить список на доску.', e.message] });\n      return false;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nexport const deleteList =\n  (boardId: number, listId: number) =>\n  async (dispatch: Dispatch): Promise<void> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      await instance.delete(`/board/${boardId}/list/${listId}`);\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось удалить список с доски.', e.message] });\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nexport const renameTitleList =\n  (boardId: number, listId: number, title: string) =>\n  async (dispatch: Dispatch): Promise<boolean> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      const response = (await instance.put(`/board/${boardId}/list/${listId}`, { title })) as { result: 'Updated' };\n      return response.result === 'Updated';\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось переименовать этот список.', e.message] });\n      return !1;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nexport const movedLists =\n  (boardId: number, data: { id: number; position: number }[]) =>\n  async (dispatch: Dispatch): Promise<void> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      await instance.put(`/board/${boardId}/list`, data);\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось переместить списки.', e.message] });\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\n/**\n * CARD\n */\nexport const addCard =\n  (boardId: number, title: string, list_id: number, position: number) =>\n  async (dispatch: Dispatch): Promise<number | undefined> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      const response = (await instance.post(`/board/${boardId}/card`, { title, list_id, position })) as {\n        result: string;\n        id: number;\n      };\n      return response.result === 'Created' ? response.id : undefined;\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось создать новую карточку.', e.message] });\n      return undefined;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nconst getNewCardPositionsForCreate = (list: IListContent, position: number): IValuesNewCardPositions[] =>\n  Object.entries(list.cards)\n    .sort(([, a], [, b]) => a.position - b.position)\n    .filter(([, c]) => c.position >= position)\n    .map(([, cd]) => ({ id: cd.id, position: cd.position + 1, list_id: list.id }));\n\n// create a new card with the movement of the previous ones\nexport const createNewCardWithMovement =\n  (boardId: number, listContent: IListContent, position: number, title: string) =>\n  async (dispatch: Dispatch): Promise<number | undefined> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    const newCardPositions = getNewCardPositionsForCreate(listContent, position);\n    try {\n      await instance.put(`/board/${boardId}/card`, newCardPositions);\n    } catch (e: any) {\n      dispatch({\n        type: ActionTypeError.ERROR,\n        payload: ['При создании карточки не удалось переместить предыдущие карточки.', e.message],\n      });\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n\n    try {\n      const response = (await instance.post(`/board/${boardId}/card`, {\n        title,\n        list_id: listContent.id,\n        position,\n      })) as { result: string; id: number };\n      return response.result === 'Created' ? response.id : undefined;\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось создать новую карточку.', e.message] });\n      return undefined;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nconst getNewCardPositionsForDelete = (list: IListContent, cardId: number): IValuesNewCardPositions[] => {\n  let position = -1;\n  return Object.entries(list.cards)\n    .sort(([, a], [, b]) => a.position - b.position)\n    .filter(([, c]) => {\n      if (c.id === +cardId) {\n        position = c.position;\n      }\n      return c.id !== +cardId;\n    })\n    .filter(([, c]) => c.position >= position)\n    .map(([, cd], i) => ({ id: cd.id, position: position + i, list_id: list.id }));\n};\n\nexport const deleteCard =\n  (boardId: number, cardId: number, listContent: IListContent | null = null) =>\n  async (dispatch: Dispatch): Promise<boolean> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    // get value new card positions\n    const moveCardsList = listContent && getNewCardPositionsForDelete(listContent, cardId);\n\n    // delete card & move cards\n    try {\n      if (moveCardsList) {\n        const response = (await instance.delete(`/board/${boardId}/card/${cardId}`)) as { result: string };\n        try {\n          (await instance.put(`/board/${boardId}/card`, moveCardsList)) as { result: string };\n        } catch (e: any) {\n          dispatch({\n            type: ActionTypeError.ERROR,\n            payload: ['Не удалось удалить карточку. Сбой перемезщения карточек.', e.message],\n          });\n          return false;\n        }\n        return response.result === 'Deleted';\n      }\n      return !1;\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось удалить карточку.', e.message] });\n      return false;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\nexport const movedCards =\n  (boardId: number, data: { id: number; position: number; list_id: number }[]) =>\n  async (dispatch: Dispatch): Promise<boolean> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      const response = (await instance.put(`/board/${boardId}/card`, data)) as { result: string };\n      return response.result === 'Updated';\n    } catch (e: any) {\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось переместить карточки.', e.message] });\n      return false;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n\n// To move the card to the desired list, and/or rename the name or description\n// You can only or rename the title or description.\nexport const editCard =\n  (board_id: number, list_id: number, card_id: number, text: string, textType: 'title' | 'description') =>\n  async (dispatch: Dispatch): Promise<boolean> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    const data = textType === 'title' ? { title: text, list_id } : { description: text, list_id };\n\n    try {\n      const response = (await instance.put(`/board/${board_id}/card/${card_id}`, data)) as { result: string };\n\n      return response.result === 'Updated';\n    } catch (e: any) {\n      // eslint-disable-next-line no-console\n      console.log('edit card error: ', e);\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось изменить описание карточки.', e.message] });\n      return false;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n  };\n","import React from 'react';\nimport './popUpMessage.scss';\n\ntype TypeProps = {\n  statusErrorText: boolean;\n  res: string;\n  errSymbols: string;\n  parentId: string;\n};\n\nconst PopUpMessage: React.FC<TypeProps> = ({ statusErrorText, res, errSymbols, parentId }) => {\n  const plural = errSymbols.length > 1;\n  const parent = document.getElementById(parentId);\n  const stylePosition: { top: number; left: number } = { top: 0, left: 0 };\n  if (parent) {\n    const { top, left, height } = parent.getBoundingClientRect();\n    stylePosition.top = top + height + 8;\n    stylePosition.left = left;\n  }\n\n  if (statusErrorText) {\n    return (\n      <div className=\"pop-up-message\" style={{ ...stylePosition }}>\n        <div className=\"triangle\" />\n        <div className=\"message\">\n          {res === 'empty' ? (\n            <p>Поле не может быть пустым</p>\n          ) : (\n            <>\n              <p>{`Эт${plural ? 'ти' : 'от'} символ${plural ? 'ы' : ''} не разрешен${plural ? 'ы' : ''}.`}</p>\n              <p>{errSymbols}</p>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default PopUpMessage;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PopUpMessage from '../PopUpMessage/PopUpMessage';\nimport { checkInputText } from '../../../../common/scripts/commonFunctions';\nimport { IButtonLinkForEditableCard, IEditableCardProps } from '../../../../common/interfaces/Interfaces';\n\nconst ButtonLink = (props: IButtonLinkForEditableCard): JSX.Element => {\n  const { cardId, awesomeIcon, titleBtn, handlerOnClick } = props;\n  return (\n    <a href=\"#\" className=\"editor-card__btn-item\" data-id-card={cardId} onClick={handlerOnClick}>\n      <div className=\"icon\">\n        <FontAwesomeIcon icon={awesomeIcon} />\n      </div>\n      <span className=\"editor-card__btn-item-text\">{titleBtn}</span>\n    </a>\n  );\n};\n\nconst EditableCard = (props: IEditableCardProps): JSX.Element => {\n  const { x, y, card, deleteCard, closeEditor, closeBGEditor, saveTitle, width } = props;\n  const [cardTitle, setCardTitle] = useState(card.title);\n  const [statusErrorText, setStatusErrorText] = useState({ statusErrorText: false, res: '', errSymbols: '' });\n  const textArea: React.LegacyRef<HTMLTextAreaElement> | undefined = useRef(null);\n\n  useEffect(() => {\n    // this.textArea?.focus(); // class component\n    textArea?.current?.focus(); // function component\n  }, []);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const handleFocus = (e: { target: any }): void => {\n    const { target } = e;\n\n    setTimeout(() => {\n      target.selectionStart = 0;\n      target.selectionEnd = 9000;\n    }, 0);\n  };\n\n  const renameCardTitle = async (): Promise<void> => {\n    const { status, res, errSymbols } = checkInputText(cardTitle);\n\n    if (status) {\n      await saveTitle(cardTitle, card.id);\n    } else {\n      setStatusErrorText({ statusErrorText: true, res, errSymbols });\n      setTimeout(() => {\n        setStatusErrorText({ statusErrorText: false, res, errSymbols });\n      }, 2000);\n    }\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const onInputcardTitle = (e: any): void => {\n    setCardTitle(e.target.value);\n  };\n\n  return (\n    <div className=\"quick-card-editor\">\n      <div className=\"background_edit_card_abs\" onClick={closeBGEditor}>\n        <span className=\"editor-card__close-icon\" onClick={closeEditor}>\n          <FontAwesomeIcon icon=\"times\" />\n        </span>\n      </div>\n      <div className=\"editor-card\" style={{ top: `${y}px`, left: `${x}px` }}>\n        <textarea\n          id={`card-edit-text-area-${card.id}`}\n          className=\"editor-card__title-edit\"\n          style={{ width }}\n          dir=\"auto\"\n          defaultValue={cardTitle}\n          onInput={onInputcardTitle}\n          // ref={(node) => (this.textArea = node)} // class component\n          ref={textArea} // function component\n          onFocus={handleFocus}\n        />\n        <input className=\"editor-card__title-edit-button\" type=\"submit\" value=\"Сохранить\" onClick={renameCardTitle} />\n\n        <div className=\"editor-card__buttons\">\n          <ButtonLink\n            titleBtn=\"delete card\"\n            awesomeIcon={['fas', 'trash-alt']}\n            cardId={card.id}\n            handlerOnClick={deleteCard}\n          />\n        </div>\n\n        <PopUpMessage {...statusErrorText} parentId={`card-edit-text-area-${card.id}`} />\n      </div>\n    </div>\n  );\n};\n\nexport default EditableCard;\n","import React from 'react';\nimport { IBoardContent } from '../../common/interfaces/Interfaces';\n\nexport interface IBoardContext {\n  updateBoard: () => Promise<void>;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerOpenDetatisCard: (evetn: any) => void;\n  boardId: number;\n  boardUsers: number[];\n  boardData: IBoardContent;\n}\n\nexport const BoardContext = React.createContext<Partial<IBoardContext>>({});\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { connect } from 'react-redux';\nimport { ICardContent, IEditableCardProps, IListContent } from '../../../../common/interfaces/Interfaces';\nimport EditableCard from './EditableCard';\nimport { deleteCard, editCard } from '../../../../store/modules/board/action-creators';\nimport { BoardContext, IBoardContext } from '../../boardContext';\n\ninterface TypeProps {\n  cards: { [id: number]: ICardContent };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onMouseDownForCard: (event: any) => void;\n  listId: number;\n  cardDelete: (boardId: number, cardId: number, listContent?: IListContent | null) => Promise<boolean>;\n  cardEdit: (\n    board_id: number,\n    list_id: number,\n    card_id: number,\n    text: string,\n    textType: 'title' | 'description'\n  ) => Promise<boolean>;\n}\n\ninterface TypeState {\n  openEditCard: boolean;\n  card: ICardContent;\n  x: number;\n  y: number;\n  width: number;\n}\n\nclass Card extends React.Component<TypeProps, TypeState> {\n  constructor(props: TypeProps) {\n    super(props);\n    this.state = {\n      openEditCard: false,\n      card: { id: -1, position: -1, title: '', created_at: -1, description: '', users: [] },\n      x: 0,\n      y: 0,\n      width: 0,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onClickOpenEditor = (card: ICardContent, event: any): void => {\n    const c = event.target.closest('.card_item').getBoundingClientRect();\n    this.setState({ openEditCard: true, width: c.width, x: c.left, y: c.top, card });\n  };\n\n  closeEditor = (): void => {\n    this.setState({ openEditCard: false });\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerClickClosedEditCard = (event: any): void => {\n    let canBeClosed = true;\n    ['.editor-card__title', '.editor-card__buttons'].forEach((cls) => {\n      if (event.target.closest(cls)) canBeClosed = false;\n    });\n    if (canBeClosed) this.closeEditor();\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onClickDeleteCard = async (event: any): Promise<void> => {\n    const { cardDelete } = this.props;\n    const { updateBoard, boardId, boardData } = this.context as IBoardContext;\n    const idCard =\n      event.target.dataset.idCard ||\n      event.target.parentElement.dataset.idCard ||\n      event.target.parentElement.parentElement.dataset.idCard ||\n      event.target.parentElement.parentElement.parentElement.dataset.idCard;\n\n    const listContent = Object.entries(boardData.lists).find(\n      ([, list]: [key: string, list: IListContent]) =>\n        Object.entries(list.cards).find(([, crd]) => `${crd.id}` === idCard)?.[1]\n    )?.[1];\n\n    await cardDelete(boardId, idCard, listContent);\n    await updateBoard();\n    this.setState({ openEditCard: false });\n  };\n\n  saveTitleCard = async (title: string, idCard: number): Promise<void> => {\n    this.handlerCardTitleRename(title, idCard);\n    this.closeEditor();\n  };\n\n  handlerCardTitleRename = async (title: string, idCard: number): Promise<void> => {\n    const { listId, cardEdit } = this.props;\n    const { updateBoard, boardId } = this.context;\n    await cardEdit(boardId, listId, idCard, title, 'title');\n    updateBoard();\n  };\n\n  render(): JSX.Element | null {\n    const { cards, onMouseDownForCard, listId } = this.props;\n    const { openEditCard, card, x, y, width } = this.state;\n    const { boardId, handlerOpenDetatisCard } = this.context;\n    const settingsEditCard: IEditableCardProps = {\n      openEditCard,\n      card,\n      x,\n      y,\n      width,\n      closeEditor: this.closeEditor,\n      closeBGEditor: this.handlerClickClosedEditCard,\n      deleteCard: this.onClickDeleteCard,\n      saveTitle: this.saveTitleCard,\n    };\n\n    return (\n      <>\n        {Object.entries(cards)\n          .sort((a, b) => a[1].position - b[1].position)\n          .map(([, cardItem], index) => (\n            <Link\n              to={`/b/${boardId}/c/${cardItem.id}`}\n              key={cardItem.id}\n              className=\"card_item\"\n              data-card-id={cardItem.id}\n              data-list-id={listId}\n              data-card-ind-pos={index}\n              onMouseDown={onMouseDownForCard}\n              onClick={handlerOpenDetatisCard}\n            >\n              <div className=\"card_cover\">\n                ({cardItem.id}) - pos: {cardItem.position}\n                <h4 className=\"title\">{cardItem.title}</h4>\n                <button className=\"card__open-card-editor-btn\" onClick={this.onClickOpenEditor.bind(this, cardItem)}>\n                  <FontAwesomeIcon icon={['fas', 'pencil-alt']} />\n                </button>\n              </div>\n            </Link>\n          ))}\n        {openEditCard ? <EditableCard {...settingsEditCard} /> : null}\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  cardDelete: deleteCard,\n  cardEdit: editCard,\n};\n\nCard.contextType = BoardContext;\n\nexport default connect(null, mapDispatchToProps)(Card);\n","import React, { useContext, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { renameTitleList } from '../../../../store/modules/board/action-creators';\nimport { checkInputText } from '../../../../common/scripts/commonFunctions';\nimport PopUpMessage from '../PopUpMessage/PopUpMessage';\nimport { BoardContext } from '../../boardContext';\n\ntype TypeProps = {\n  titleList: string;\n  listId: number;\n  processMovingList: boolean;\n  listRenameTitle: (boardId: number, listId: number, title: string) => Promise<boolean>;\n};\n\nconst EditableTitleList = ({ titleList, listId, processMovingList, listRenameTitle }: TypeProps): JSX.Element => {\n  const [title, setTitle] = useState(titleList);\n  const [prevTitle, setPrevTitle] = useState(titleList);\n  const [openInput, setOpenInput] = useState(false);\n  const [errorMessage, setErrorMessage] = useState({ statusErrorText: false, res: '', errSymbols: '' });\n  const [heightTitle, setHeightTitle] = useState(0);\n  const { updateBoard, boardId } = useContext(BoardContext);\n\n  /** Input text in textarea */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const handlerInputTextarea = (event: any): void => {\n    if (errorMessage.statusErrorText) {\n      setErrorMessage({ statusErrorText: false, res: '', errSymbols: '' });\n    }\n    const { value } = event.target;\n    setTitle(value);\n  };\n\n  /** Open Editor List Title */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const handlerPressTitle = (event: any): void => {\n    if (!processMovingList) {\n      const { currentTarget } = event;\n      const { height } = currentTarget.getBoundingClientRect();\n      setHeightTitle(height);\n\n      setOpenInput(true);\n      setErrorMessage({ statusErrorText: true, res: '', errSymbols: '' });\n\n      setTimeout(() => {\n        currentTarget.nextSibling.focus();\n        currentTarget.nextSibling.select();\n        currentTarget.nextSibling.classList.add('focus');\n      }, 10);\n    }\n  };\n\n  /** Asyng request on Rename Title */\n  const renameTitle = async (textarea: HTMLElement): Promise<void> => {\n    const { status, res, errSymbols } = checkInputText(title);\n\n    if (status && boardId && updateBoard) {\n      const { value: editTitle } = textarea as { value?: string };\n      const response = await listRenameTitle(boardId, listId, editTitle || title);\n      if (response) {\n        setTitle(editTitle || title);\n        setPrevTitle(editTitle || title);\n        textarea.classList.remove('focus');\n        setOpenInput(false);\n      } else {\n        setTitle(prevTitle);\n        setOpenInput(false);\n      }\n    } else {\n      setErrorMessage({ statusErrorText: true, res, errSymbols });\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      textarea.focus(); // @ts-ignore\n      textarea.select();\n    }\n  };\n\n  /** Reneme Titne on blur Textarea */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const onBlurEditTitleHandeler = (event: any): void => {\n    renameTitle(event.currentTarget);\n  };\n\n  /** Key Press */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const onKeyPressEditTitleHandler = (event: any): void => {\n    if (event.code === 'Enter') {\n      renameTitle(event.currentTarget);\n    }\n  };\n\n  //\n  return (\n    <div className=\"editable-list-title\">\n      <h2\n        className=\"list-title\"\n        style={{ display: openInput ? 'none' : 'block', position: 'relative' }}\n        onClick={handlerPressTitle}\n      >\n        {title}\n      </h2>\n      <textarea\n        id={`input-title-list-${listId}`}\n        className=\"editable-list-textarea\"\n        defaultValue={title}\n        onInput={handlerInputTextarea}\n        onBlur={onBlurEditTitleHandeler}\n        onKeyPress={onKeyPressEditTitleHandler}\n        autoComplete=\"off\"\n        style={{ display: openInput ? 'block' : 'none', position: 'relative', height: heightTitle }}\n      />\n      {openInput && errorMessage.res !== '' && (\n        <PopUpMessage {...errorMessage} parentId={`input-title-list-${listId}`} />\n      )}\n    </div>\n  );\n};\n\nconst mapDispatchToProps = { listRenameTitle: renameTitleList };\n\nexport default connect(null, mapDispatchToProps)(EditableTitleList);\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { addList } from '../../../../store/modules/board/action-creators';\nimport { checkInputText, isCloseInputField } from '../../../../common/scripts/commonFunctions';\nimport { BoardContext, IBoardContext } from '../../boardContext';\n\ninterface TypeState {\n  nameList: string;\n  openInput: boolean;\n}\n\ninterface TypeProps {\n  boardId: number;\n  position: number;\n  listAdd: (boardId: number, title: string, position: number) => void;\n}\n\nclass AddList extends React.Component<TypeProps, TypeState> {\n  globalValue: {\n    mounted: boolean | undefined;\n    nameRunButton: string | undefined;\n    bgRunButton: string | undefined;\n    timeOut: NodeJS.Timeout | null | undefined;\n  } = {\n    mounted: undefined,\n    nameRunButton: undefined,\n    bgRunButton: undefined,\n    timeOut: undefined,\n  };\n\n  inputRef: React.RefObject<HTMLInputElement>;\n\n  constructor(props: TypeProps) {\n    super(props);\n    this.state = {\n      nameList: '',\n      openInput: false,\n    };\n\n    this.inputRef = React.createRef();\n\n    this.handlerAddNewList = this.handlerAddNewList.bind(this);\n    this.onInputHandler = this.onInputHandler.bind(this);\n  }\n\n  componentDidMount(): void {\n    this.globalValue.mounted = true;\n\n    const inputBtn: HTMLElement | null = document.querySelector('.add-list__add-btn-run');\n\n    if (inputBtn) {\n      this.globalValue.nameRunButton = inputBtn.innerText;\n      this.globalValue.bgRunButton = inputBtn.style.background;\n    }\n\n    document.addEventListener('keypress', (e) => {\n      const inputField = document.getElementById('add-list__input-field1');\n      if (this.globalValue.mounted) {\n        if (inputField === document.activeElement && e.key === 'Enter') {\n          this.handlerAddNewList();\n        }\n      }\n    });\n\n    document.addEventListener('click', (e) => {\n      const classes = [\n        '.add-list__add-btn-start',\n        '.add-list__edit-container',\n        '.add-list__btn-box',\n        '.add-list__add-btn-run',\n        '.add-list__close-btn',\n        'add-list__input-field1', // id\n      ];\n\n      if (this.globalValue.mounted) {\n        if (isCloseInputField(classes, e.target)) {\n          this.closeFieldInputHandler();\n        }\n      }\n    });\n  }\n\n  componentWillUnmount(): void {\n    this.globalValue.mounted = false;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onInputHandler = (e: any): void => {\n    e.preventDefault();\n    const { value } = e.target;\n    const { status, errSymbols } = checkInputText(value);\n    if (status) {\n      this.setState((state: TypeState) => ({ ...state, nameList: value }));\n    } else {\n      this.errorHandling(1, errSymbols);\n    }\n  };\n\n  errorHandling = (numberError: number, errorSymbols?: string): void => {\n    if (numberError === 1) {\n      this.showMessageInBottom(numberError, errorSymbols);\n    }\n  };\n\n  showMessageInBottom = (numberError: number, errorSymbols?: string): void => {\n    const inputBtn: HTMLElement | null = document.querySelector('.add-list__add-btn-run');\n\n    if (inputBtn) {\n      inputBtn.innerText =\n        numberError === 0 ? 'The input field is empty' : `character ' ${errorSymbols} ' is not allowed`;\n      inputBtn.style.background = 'red';\n\n      if (this.globalValue.timeOut) {\n        clearTimeout(this.globalValue.timeOut);\n      }\n      this.globalValue.timeOut = setTimeout(() => {\n        inputBtn.innerText = this.globalValue.nameRunButton || '';\n        inputBtn.style.background = this.globalValue.bgRunButton || '';\n      }, 2000);\n    }\n  };\n\n  buttonHandlerOpenFieldInput = (): void => {\n    const node = this.inputRef.current;\n    if (node) {\n      node.focus();\n      node.select();\n    }\n\n    this.setState((state: TypeState) => ({ ...state, openInput: true }));\n  };\n\n  closeFieldInputHandler = (): void => {\n    this.setState((state: TypeState) => ({ ...state, openInput: false }));\n  };\n\n  handlerAddNewList = (): void => {\n    const { nameList } = this.state;\n    if (nameList === '') {\n      this.showMessageInBottom(0, '');\n      return;\n    }\n\n    setTimeout(async () => {\n      const { listAdd, ...a } = this.props;\n      await listAdd(a.boardId, nameList, a.position);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.setState((state: any) => ({ ...state, nameList: '' }));\n      const { updateBoard } = this.context as IBoardContext;\n      await updateBoard();\n      this.closeFieldInputHandler();\n    }, 10);\n  };\n\n  render(): JSX.Element {\n    const { openInput, nameList } = this.state;\n    return (\n      <div className=\"board__add-list-btn\">\n        <div className=\"add-list\">\n          <div className=\"add-list__edit-container\" style={{ display: openInput ? 'block' : 'none' }}>\n            <input\n              ref={this.inputRef}\n              id=\"add-list__input-field1\"\n              type=\"text\"\n              placeholder=\"ввести заголовок списка\"\n              autoComplete=\"off\"\n              onInput={this.onInputHandler}\n              value={nameList}\n            />\n            <div className=\"add-list__btn-box\">\n              <button className=\"add-list__add-btn-run\" onClick={this.handlerAddNewList}>\n                Добавить список\n              </button>\n              <div className=\"add-list__close-btn\" onClick={this.closeFieldInputHandler} />\n            </div>\n          </div>\n\n          <button\n            className=\"add-list__add-btn-start\"\n            onClick={this.buttonHandlerOpenFieldInput}\n            style={{ display: openInput ? 'none' : 'inline-block' }}\n          >\n            + Добавить еще одну колонку\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapDispatchToProps = { listAdd: addList };\n\nAddList.contextType = BoardContext;\n\nexport default connect(null, mapDispatchToProps)(AddList);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { checkInputText } from '../../../../common/scripts/commonFunctions';\nimport { addCard } from '../../../../store/modules/board/action-creators';\nimport { BoardContext } from '../../boardContext';\nimport PopUpMessage from '../PopUpMessage/PopUpMessage';\n\ninterface TypeProps {\n  listId: string;\n  countCards: number;\n  addCardInputId: string;\n  handlerClickCloseAddedCard: () => void;\n  cardCreate: (boardId: number, title: string, list_id: number, position: number) => void;\n}\n\ninterface TypeState {\n  nameCard: string;\n  statusErrorText: boolean;\n  res: string;\n  errSymbols: string;\n  positionFixed: boolean;\n}\n\nclass AddCard extends React.Component<TypeProps, TypeState> {\n  mounted = false;\n\n  textareaRef: React.RefObject<HTMLTextAreaElement>;\n\n  constructor(props: TypeProps) {\n    super(props);\n    this.state = {\n      nameCard: '',\n      statusErrorText: false,\n      res: '',\n      errSymbols: '',\n      positionFixed: true,\n    };\n\n    this.textareaRef = React.createRef();\n  }\n\n  componentDidMount(): void {\n    this.mounted = true;\n    const { addCardInputId } = this.props;\n    const textarea: HTMLElement | null = document.getElementById(addCardInputId);\n    textarea?.focus();\n  }\n\n  componentWillUnmount(): void {\n    this.mounted = false;\n  }\n\n  /** set value in title, tracked component */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  inputOnChangeHandler = (e: any): void => {\n    if (this.mounted) {\n      const { statusErrorText } = this.state;\n      if (statusErrorText) {\n        this.setState((state: TypeState) => ({ ...state, statusErrorText: false }));\n      }\n      this.setState((state: TypeState) => ({ ...state, nameCard: e.target.value }));\n    }\n  };\n\n  onClickButtonCloseInputField = (): void => {\n    const { handlerClickCloseAddedCard } = this.props;\n    handlerClickCloseAddedCard();\n    this.setState((state) => ({ ...state, statusErrorText: false }));\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onKeyPressInputAddCard = (e: any): void => {\n    if (e.code === 'Enter' && e.charCode === 13) {\n      const { dataset } = e.target;\n      const { countcards, idlist } = dataset;\n\n      this.addNewCard(idlist, countcards);\n    }\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onClickButtonAddCard = (e: any): void => {\n    const { dataset } = e.target;\n    const { countcards, idlist } = dataset;\n\n    this.addNewCard(idlist, countcards);\n  };\n\n  /** Add New Card */\n  addNewCard = async (listId: string, countcards: string): Promise<void> => {\n    if (!this.mounted) return;\n\n    const { cardCreate, ...props } = this.props;\n    const { ...state } = this.state;\n    const { boardId } = this.context;\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { status, res, errSymbols } = checkInputText(state.nameCard);\n\n    if (status) {\n      await cardCreate(boardId, state.nameCard, +listId, +countcards + 1);\n      const { updateBoard } = this.context;\n      await updateBoard();\n      this.setState((st) => ({ ...st, openInputAddCard: false, nameCard: '' }));\n      props.handlerClickCloseAddedCard();\n      return;\n    }\n\n    this.setState((st) => ({ ...st, statusErrorText: true, res, errSymbols }));\n    setTimeout(() => {\n      this.setState((st) => ({ ...st, statusErrorText: false }));\n    }, 2000);\n\n    const { addCardInputId } = this.props;\n    const node = document.getElementById(addCardInputId);\n\n    // const node = this.textareaRef.current;\n\n    if (node) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      node.focus(); // @ts-ignore\n      node.select();\n    }\n  };\n\n  // Render\n  render(): JSX.Element {\n    const { listId, countCards, addCardInputId } = this.props;\n    const { nameCard } = this.state;\n\n    //\n    return (\n      <div id={`add-card-container-${listId}`} className=\"add-card__container\" style={{ position: 'relative' }}>\n        <div className=\"add-card__input-box\">\n          <div className=\"textarea-wrapper\">\n            <textarea\n              ref={this.textareaRef}\n              id={addCardInputId}\n              className=\"add-card__input-field\"\n              placeholder=\"Ввести заголовок для этой карточки\"\n              value={nameCard}\n              data-idlist={listId}\n              data-countcards={countCards}\n              onChange={this.inputOnChangeHandler}\n              onKeyPress={this.onKeyPressInputAddCard}\n              autoComplete=\"off\"\n              onFocus={(e): void => e.currentTarget.select()}\n            />\n          </div>\n\n          <div id={`btn-add-card-container-${listId}`} className=\"add-card__btn-box\">\n            <button\n              id={`btn-add-card-${listId}`}\n              className=\"add-card__add-btn-run\"\n              data-idlist={listId}\n              data-countcards={countCards}\n              onClick={this.onClickButtonAddCard}\n            >\n              {`Добавить карточку ${countCards + 1}`}\n            </button>\n            <div className=\"add-card__close-btn\" onClick={this.onClickButtonCloseInputField} />\n          </div>\n          <PopUpMessage {...this.state} parentId={addCardInputId} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { cardCreate: addCard };\n\nAddCard.contextType = BoardContext;\n\nexport default connect(null, mapDispatchToProps)(AddCard);\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { connect } from 'react-redux';\nimport { IListContent } from '../../../../common/interfaces/Interfaces';\nimport Card from './Card';\nimport EditableTitleList from './EditableTitleList';\nimport AddList from './AddList';\nimport AddCard from './AddCard';\nimport { deleteList } from '../../../../store/modules/board/action-creators';\nimport { BoardContext, IBoardContext } from '../../boardContext';\n\ninterface TypeProps {\n  lists: { [id: number]: IListContent };\n  heightContainer: number;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onMouseDownForList: (event: any) => void;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onMouseDownForCard: (event: any) => void;\n  processMovingList: boolean;\n  listDelete: (boardId: number, listId: number) => void;\n}\n\ninterface TypeState {\n  openAddCard: string;\n}\n\nclass List extends React.Component<TypeProps, TypeState> {\n  constructor(props: TypeProps) {\n    super(props);\n    this.state = {\n      openAddCard: '',\n    };\n  }\n\n  componentDidMount(): void {}\n\n  componentWillUnmount(): void {}\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onClickOpenAddedCard = (event: any): void => {\n    this.setState({ openAddCard: event.target.dataset.btnAddCardListId });\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onClickDeleteList = async (event: any): Promise<void> => {\n    const { target } = event;\n    const listId = target.dataset.listId || target.parentElement.dataset.listId;\n\n    const { listDelete } = this.props;\n    const { boardId, updateBoard } = this.context as IBoardContext;\n    await listDelete(+boardId, listId);\n    updateBoard();\n  };\n\n  handlerClickCloseAddedCard = (): void => {\n    this.setState({ openAddCard: '' });\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onClickColumn = (event: any): void => {\n    const { target } = event;\n    if (target.classList.contains('list_wrapper')) {\n      this.setState({ openAddCard: '' });\n    }\n  };\n\n  render(): JSX.Element | null {\n    const { lists, heightContainer, onMouseDownForList, onMouseDownForCard, processMovingList } = this.props;\n    const { boardId } = this.context;\n    const { openAddCard } = this.state;\n\n    return (\n      <>\n        {Object.entries(lists)\n          .sort((a, b) => a[1].position - b[1].position)\n          .map(([, list]) => {\n            const openFieldForAddCard = +openAddCard === list.id;\n            return (\n              <div\n                key={list.id}\n                className=\"list_wrapper\"\n                data-list-id={list.id}\n                onClick={this.onClickColumn}\n                style={{ height: heightContainer }}\n                onMouseDown={onMouseDownForList}\n              >\n                <div className=\"list_detalis\" style={{ maxHeight: heightContainer }}>\n                  <div>\n                    {list.id}, pos: {list.position}\n                  </div>\n                  {/* Header */}\n                  <div className=\"list_header\">\n                    <EditableTitleList titleList={list.title} listId={list.id} processMovingList={processMovingList} />\n                    <span className=\"list__delete-btn\" data-list-id={list.id} onClick={this.onClickDeleteList}>\n                      <FontAwesomeIcon icon={['fas', 'ellipsis-h']} />\n                    </span>\n                  </div>\n                  <div className=\"list_content\" data-list-id={list.id} style={{ maxHeight: heightContainer - 125 }}>\n                    {/* Cards */}\n                    <Card listId={list.id} cards={list.cards} onMouseDownForCard={onMouseDownForCard} />\n                    {openFieldForAddCard ? (\n                      <AddCard\n                        listId={`${list.id}`}\n                        countCards={Object.keys(list.cards).length}\n                        addCardInputId={`add_card_textarea_${list.id}`}\n                        handlerClickCloseAddedCard={this.handlerClickCloseAddedCard}\n                      />\n                    ) : null}\n                  </div>\n\n                  <div className=\"list_bottom\">\n                    {!openFieldForAddCard ? (\n                      <button\n                        id={`btn-list-add-card-${list.id}`}\n                        data-btn-add-card-list-id={list.id}\n                        className=\"add-card__add-btn-start\"\n                        onClick={this.onClickOpenAddedCard}\n                      >\n                        + Добавить карточку\n                      </button>\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        <AddList boardId={boardId} position={Object.entries(lists).length + 1} />\n      </>\n    );\n  }\n}\n\nList.contextType = BoardContext;\n\nexport default connect(null, { listDelete: deleteList })(List);\n","/* eslint-disable no-console */\nimport React, { useContext, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { checkInputText } from '../../../../common/scripts/commonFunctions';\nimport { renameTitleBoard } from '../../../../store/modules/board/action-creators';\nimport { BoardContext } from '../../boardContext';\nimport PopUpMessage from '../PopUpMessage/PopUpMessage';\n\ninterface TypeProps {\n  title: string;\n  changeBoardTitle: (boardId: number, title: string) => Promise<boolean>;\n}\n\nconst EditableTitleBoard = ({ ...props }: TypeProps): JSX.Element => {\n  const [openInputEditTitle, setOpenInputEditTitle] = useState(false);\n  const [title, setTitle] = useState(props.title);\n  const [prevTitle, setPrevTitle] = useState(props.title);\n  const [errorMessage, setErrorMessage] = useState({ statusErrorText: false, res: '', errSymbols: '' });\n  const { boardId } = useContext(BoardContext);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const handleTitleOnClick = (event: any): void => {\n    event.preventDefault();\n    const { currentTarget } = event;\n    const { clientWidth, innerText } = currentTarget;\n\n    currentTarget.nextSibling.style.width = `${clientWidth}px`;\n\n    setTimeout(() => {\n      currentTarget.nextSibling.focus();\n      currentTarget.nextSibling.select();\n    }, 0);\n\n    setErrorMessage({ statusErrorText: false, res: '', errSymbols: '' });\n    setTitle(innerText);\n    setOpenInputEditTitle(true);\n  };\n\n  /** Print new name board */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const inputOnInputEditTitleHandler = (e: any): void => {\n    e.preventDefault();\n    const { target } = e;\n    const { style, innerText, value } = target;\n    style.width = `${value.length * 12 + 20}px`;\n    setTitle(innerText);\n  };\n\n  /** Rename Board, ajax request */\n  const renameBoard = async (nameTitle: string): Promise<void> => {\n    const { status, res, errSymbols } = checkInputText(nameTitle);\n\n    if (status && res === '' && boardId) {\n      const { changeBoardTitle } = props;\n\n      const response = await changeBoardTitle(boardId, nameTitle);\n\n      if (response) {\n        setTitle(nameTitle);\n        setPrevTitle(nameTitle);\n        setOpenInputEditTitle(false);\n        setErrorMessage({ statusErrorText: true, res: '', errSymbols: '' });\n        return;\n      }\n    }\n\n    setTitle(prevTitle);\n    setOpenInputEditTitle(false);\n    setErrorMessage({ statusErrorText: true, res, errSymbols });\n  };\n\n  /** Focus out */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const inputOnBlurHandler = (e: any): void => {\n    e.preventDefault();\n    const {\n      target: { value: nameTitle },\n    } = e as { target: { value: string } };\n    renameBoard(nameTitle);\n  };\n\n  /** Press Enter on input */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const inputOnKeyPressHandler = (e: any): void => {\n    const { code, target } = e;\n    if (code === 'Enter') renameBoard(target.value);\n  };\n\n  //\n  return (\n    <div className=\"editable-title\" style={{ position: 'relative' }}>\n      <h2 className=\"title\" onClick={handleTitleOnClick} style={{ display: openInputEditTitle ? 'none' : 'block' }}>\n        {title}\n      </h2>\n      <input\n        id=\"input-edit-board-title\"\n        className=\"input-edit-board-title\"\n        type=\"text\"\n        onInput={inputOnInputEditTitleHandler}\n        onBlur={inputOnBlurHandler}\n        onKeyPress={inputOnKeyPressHandler}\n        defaultValue={title}\n        style={{ display: openInputEditTitle ? 'block' : 'none' }}\n        autoComplete=\"off\"\n      />\n      {errorMessage.statusErrorText && errorMessage.res !== '' && (\n        <PopUpMessage {...errorMessage} parentId=\"input-edit-board-title\" />\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { changeBoardTitle: renameTitleBoard })(EditableTitleBoard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { editCard } from '../../../../store/modules/board/action-creators';\nimport { BoardContext } from '../../../Board/boardContext';\nimport './Title.scss';\n\ninterface TypeProps {\n  boardId: number;\n  listId: number;\n  cardId: number;\n  title: string;\n  cardEdit: (\n    board_id: number,\n    list_id: number,\n    card_id: number,\n    text: string,\n    textType: 'title' | 'description'\n  ) => Promise<boolean>;\n}\n\ninterface TypeState {\n  prevValueTitle: string;\n  title: string;\n}\n\nclass Title extends React.Component<TypeProps, TypeState> {\n  mount = false;\n\n  constructor(props: TypeProps) {\n    super(props);\n    const { title } = this.props;\n    this.state = {\n      prevValueTitle: title,\n      title,\n    };\n  }\n\n  componentDidMount(): void {\n    this.mount = true;\n  }\n\n  componentWillUnmount(): void {\n    this.mount = false;\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (): void => {};\n\n    this.renameTitle();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerChangeTextarea = (event: any): void => {\n    event.preventDefault();\n    const { target } = event;\n    const { value } = target;\n    this.setState({ title: value });\n  };\n\n  handlerOnBlurTextarea = (): void => {\n    if (!this.mount) return;\n    this.renameTitle();\n  };\n\n  renameTitle = async (): Promise<void> => {\n    if (!this.mount) return;\n    const { prevValueTitle, title } = this.state;\n    if (prevValueTitle === title) return;\n\n    const { boardId, listId, cardId, cardEdit } = this.props;\n\n    const response = await cardEdit(boardId, listId, cardId, title, 'title');\n\n    if (response) {\n      this.setState({ prevValueTitle: title });\n    } else {\n      this.setState({ title: prevValueTitle });\n    }\n\n    const { updateBoard } = this.context;\n    await updateBoard();\n  };\n\n  render(): JSX.Element {\n    const { title } = this.state;\n    return (\n      <TextareaAutosize\n        className=\"title-mod\"\n        style={{ width: 672 }}\n        value={title}\n        onBlur={this.handlerOnBlurTextarea}\n        onInput={this.handlerChangeTextarea}\n      />\n    );\n  }\n}\n\nconst mapDispatchToProps = { cardEdit: editCard };\n\nTitle.contextType = BoardContext;\n\nexport default connect(null, mapDispatchToProps)(Title);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { editCard } from '../../../../store/modules/board/action-creators';\nimport { BoardContext, IBoardContext } from '../../../Board/boardContext';\nimport './Description.scss';\n\ninterface TypeProps {\n  listId: number;\n  cardId: number;\n  description: string;\n  cardEdit: (\n    board_id: number,\n    list_id: number,\n    card_id: number,\n    text: string,\n    textType: 'title' | 'description'\n  ) => Promise<boolean>;\n}\n\ninterface TypeState {\n  prevValueDescription: string;\n  description: string;\n}\n\nclass Description extends React.Component<TypeProps, TypeState> {\n  mount = false;\n\n  constructor(props: TypeProps) {\n    super(props);\n    const { description } = this.props;\n    this.state = {\n      prevValueDescription: description,\n      description,\n    };\n  }\n\n  componentDidMount(): void {\n    this.mount = true;\n  }\n\n  componentWillUnmount(): void {\n    this.mount = false;\n    this.renameDescription();\n    // fix Warning: Can't perform a React state update on an unmounted component\n    // this.setState = (state, callback): void => {}; // TODO: ?\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerChangeTextarea = (event: any): void => {\n    event.preventDefault();\n    const { target } = event;\n    const { value } = target;\n    if (this.mount) this.setState({ description: value });\n  };\n\n  handlerOnBlurTextarea = (): void => {\n    this.renameDescription();\n  };\n\n  renameDescription = async (): Promise<void> => {\n    if (!this.mount) return;\n\n    const { description, prevValueDescription } = this.state;\n\n    if (description === prevValueDescription) return;\n\n    const { listId, cardId, cardEdit } = this.props;\n    const { updateBoard, boardId } = this.context as IBoardContext;\n    const response = await cardEdit(boardId, listId, cardId, description, 'description');\n\n    if (response) {\n      this.setState({ prevValueDescription: description });\n    } else {\n      this.setState({ description: prevValueDescription });\n    }\n\n    await updateBoard();\n  };\n\n  render(): JSX.Element {\n    const { description } = this.state;\n    return (\n      <TextareaAutosize\n        className=\"description-card-mod\"\n        style={{ width: 496 }}\n        value={description}\n        onBlur={this.handlerOnBlurTextarea}\n        onInput={this.handlerChangeTextarea}\n      />\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  cardEdit: editCard,\n};\n\nDescription.contextType = BoardContext;\n\nexport default connect(null, mapDispatchToProps)(Description);\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport cn from 'classnames';\nimport './HeaderPopupCardDialog.modules.scss';\nimport { HeaderPopupCardDialogProps } from './HeaderPopupCardDialog.props';\n\nconst HeaderPopupCardDialog: React.FC<HeaderPopupCardDialogProps> = ({ ...props }) => {\n  const { title, classname } = props;\n  return (\n    <div className={cn('dialog-header', classname)}>\n      <span className=\"title\">{title}</span>\n      <span className=\"close-btn\" aria-label=\"Закрыть диалог добавления участников\">\n        <FontAwesomeIcon icon={['fas', 'times']} />\n      </span>\n    </div>\n  );\n};\n\nexport default HeaderPopupCardDialog;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\n\nexport interface IMembersContext {\n  usersCard: number[];\n  updateBoard: () => Promise<void>;\n}\n\nexport const MembersContext = React.createContext<Partial<IMembersContext>>({});\n","import { Dispatch } from 'redux';\nimport instance from '../../../api/request';\nimport { ActionType as ActionTypeLoading } from '../loading/reducer';\nimport { ActionType as ActionTypeError } from '../error/reducer';\n\nexport const assignOrRemoveUsersToOrFromCard =\n  (boardId: number, cardId: number, updateBoard: () => void, add: number[], remove: number[]) =>\n  async (dispatch: Dispatch): Promise<boolean> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeError.ERROR_CLEAR });\n\n    try {\n      const result = (await instance.put(`/board/${boardId}/card/${cardId}/users`, {\n        add,\n        remove,\n      })) as { result: string };\n\n      if (result.result === 'Updated') {\n        updateBoard();\n        return !0;\n      }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (e: any) {\n      // eslint-disable-next-line no-console\n      console.log('edit card error: ', e);\n      dispatch({ type: ActionTypeError.ERROR, payload: ['Не удалось изменить описание карточки.', e.message] });\n      return false;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n    }\n\n    return !1;\n  };\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport instance from '../../../api/request';\nimport { IFoundUsers } from '../../../common/interfaces/Interfaces';\nimport { IBoardContext } from '../../Board/boardContext';\nimport HeaderPopupCardDialog from './HeaderPopupCardDialog/HeaderPopupCardDialog';\nimport { MembersContext } from './MembersCard/MembersContext';\nimport { assignOrRemoveUsersToOrFromCard } from '../../../store/modules/user/assignOrRemoveUsersToFromCard';\n\ninterface TypeProps {\n  title: string;\n  boardId: number;\n  cardId: number;\n  userAssignOrRemove: (\n    boardId: number,\n    cardId: number,\n    updateBoard: () => void,\n    add: number[],\n    remove: number[]\n  ) => Promise<boolean>;\n}\n\ninterface TypeState {\n  inputValue: string;\n  usersCard: IFoundUsers[];\n}\n\nclass DialogAddMembers extends React.Component<TypeProps, TypeState> {\n  constructor(props: TypeProps) {\n    super(props);\n    this.state = {\n      inputValue: '',\n      usersCard: [],\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerInputOnChange = async (e: any): Promise<void> => {\n    const { value } = e.target;\n    this.setState({ inputValue: value });\n\n    if (value) {\n      const resultSearchUsers = (await instance.get('/user', { params: { emailOrUsername: value } })) as IFoundUsers[];\n\n      this.setState({ usersCard: resultSearchUsers });\n    } else {\n      this.setState({ usersCard: [] });\n    }\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  addMemberToCard = async (e: any): Promise<void> => {\n    this.addOrRemoveMemberToCard(e, !0);\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  removeMemberToCard = async (e: any): Promise<void> => {\n    this.addOrRemoveMemberToCard(e, !1);\n  };\n\n  // Add or remove a member depending on the checkbox on the link\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  addOrRemoveMemberToCard = async (e: any, actionAddMember: boolean): Promise<void> => {\n    const { target } = e;\n    const { dataset } = target;\n    const id = dataset.idMember;\n    const { boardId, cardId, userAssignOrRemove } = this.props;\n    const { updateBoard } = this.context as IBoardContext;\n\n    const addMembers = actionAddMember ? [+id] : [];\n    const removeMembers = actionAddMember ? [] : [+id];\n\n    if (id) {\n      userAssignOrRemove(boardId, cardId, updateBoard, addMembers, removeMembers);\n    }\n  };\n\n  render(): JSX.Element {\n    const { title } = this.props;\n    const { inputValue, usersCard } = this.state;\n    const { usersCard: cardUsers } = this.context;\n\n    return (\n      <div className=\"dialog-add-members\">\n        <HeaderPopupCardDialog title={title} classname=\"add-members-dialog\" />\n        <div className=\"dg-pop-over-content\">\n          <input\n            className=\"dg-pop-over-input-search-members\"\n            type=\"text\"\n            placeholder=\"Найти участника по имени или эл.адресу\"\n            value={inputValue}\n            onChange={this.handlerInputOnChange}\n          />\n          <div className=\"dg-pop-over-section dg-board-members\">\n            <h4 className=\"title\">Участники</h4>\n            <div className=\"loading\">\n              <ul className=\"member-list\">\n                {usersCard.map((user) => (\n                  <li key={user.id} className=\"member-item\">\n                    <a\n                      href=\"#\"\n                      title={user.username}\n                      onClick={\n                        cardUsers && cardUsers.includes(user.id) ? this.removeMemberToCard : this.addMemberToCard\n                      }\n                    >\n                      <span className=\"hiden-data\" data-id-member={user.id} />\n                      <span className=\"name\">{user.username} </span>\n                      <span className=\"id\">({user.id})</span>\n                      {cardUsers && cardUsers.includes(user.id) && (\n                        <span className=\"checked-icon\" aria-label=\"Этот участник добавлен к карточке\">\n                          <FontAwesomeIcon icon={['fas', 'check']} />\n                        </span>\n                      )}\n                    </a>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nDialogAddMembers.contextType = MembersContext;\n\nexport default connect(null, { userAssignOrRemove: assignOrRemoveUsersToOrFromCard })(DialogAddMembers);\n","/* eslint-disable no-console */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getFromSessionStorageToken } from '../../../../store/modules/user/session-storage-actions';\nimport { BoardContext, IBoardContext } from '../../../Board/boardContext';\nimport DialogAddMembers from '../DialogAddMembers';\nimport { assignOrRemoveUsersToOrFromCard } from '../../../../store/modules/user/assignOrRemoveUsersToFromCard';\n\ninterface TypeProps {\n  name?: string;\n  email?: string;\n  userLoggedId?: number;\n  boardId: number;\n  cardId: number;\n  id: number;\n  typeButton: 'member' | 'add' | 'join';\n  confirmationId: number;\n  hide: () => void;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  show: (e: any) => void;\n  userAssignOrRemove: (\n    boardId: number,\n    cardId: number,\n    updateBoard: () => void,\n    add: number[],\n    remove: number[]\n  ) => Promise<boolean>;\n}\n\nclass Member extends React.Component<TypeProps> {\n  constructor(props: TypeProps) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount(): void {\n    // const { isShow } = this.props;\n  }\n\n  // Join User Logged\n  handlerJoinMemberOnClick = async (): Promise<void> => {\n    const { updateBoard } = this.context as IBoardContext;\n    const { boardId, cardId, userAssignOrRemove } = this.props;\n    const userToken = getFromSessionStorageToken();\n\n    if (boardId && cardId && userToken && updateBoard) {\n      if (+userToken) {\n        console.log('adfasdf');\n        userAssignOrRemove(boardId, cardId, updateBoard, [+userToken], []);\n      }\n    }\n  };\n\n  // Remove User\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  removeUserFromCard = async (e: any): Promise<void> => {\n    const { boardId, cardId, userAssignOrRemove } = this.props;\n    const { target } = e;\n    const { dataset } = target;\n    const idUser = dataset.userId;\n    const { updateBoard } = this.context;\n\n    if (boardId && cardId && idUser && updateBoard) {\n      userAssignOrRemove(boardId, cardId, updateBoard, [], [+idUser]);\n    }\n  };\n\n  render(): JSX.Element {\n    const { name, email, typeButton, boardId, cardId, id, confirmationId, show, hide } = this.props;\n    const isShow = confirmationId === id;\n\n    if (typeButton === 'add') {\n      return (\n        <div className=\"member add\">\n          <span className=\"member-button\" data-member-id={id} onClick={show} title=\"Добавить участника\">\n            +\n          </span>\n          {isShow && <DialogAddMembers title=\"Hello To Add Members\" boardId={boardId} cardId={cardId} />}\n        </div>\n      );\n    }\n\n    if (typeButton === 'join') {\n      return (\n        <div className=\"member join\">\n          <span\n            className=\"member-button\"\n            data-member-id={id}\n            onClick={this.handlerJoinMemberOnClick}\n            title=\"Присоединиться\"\n          >\n            join\n          </span>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"member\">\n        <span className=\"member-button\" data-member-id={id} onClick={show} title={name || (id && `${id}`) || ''}>\n          {name || id}\n        </span>\n\n        <div className={`detalis_member ${isShow ? 'isShow' : ''}`}>\n          <button className=\"close-button\" onClick={hide}>\n            {/* <CloseIcon /> */}x\n          </button>\n\n          <div className=\"info_member\">\n            <div className=\"info\">\n              <div className=\"img_info\" />\n              <div className=\"contact_info\">\n                <span className=\"i_name\">{name || id}</span>\n                {email && <span className=\"i_email\">{email}</span>}\n              </div>\n            </div>\n\n            <ul>\n              <li className=\"action_with_member_card\" data-user-id={id} onClick={this.removeUserFromCard}>\n                Remove from card\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMember.contextType = BoardContext;\n\nexport default connect(null, { userAssignOrRemove: assignOrRemoveUsersToOrFromCard })(Member);\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport React from 'react';\nimport { ICardContent } from '../../../../common/interfaces/Interfaces';\nimport { getFromSessionStorageToken } from '../../../../store/modules/user/session-storage-actions';\nimport { BoardContext, IBoardContext } from '../../../Board/boardContext';\nimport Member from './Member';\nimport { MembersContext } from './MembersContext';\nimport './Members.scss';\n\ninterface TypeProps {\n  boardUsers: number[];\n  boardId: string;\n  card: ICardContent;\n}\n\ninterface TypeState {\n  isShowInfoMemberId: number;\n  token: string | null;\n}\n\n// number, non-existent ID\n// To confirm opening a dialog box with users\nconst nonExistentID = -1111111111111111;\n\nclass Members extends React.Component<TypeProps, TypeState> {\n  constructor(props: TypeProps) {\n    super(props);\n    this.state = {\n      isShowInfoMemberId: nonExistentID,\n      token: getFromSessionStorageToken(),\n    };\n  }\n\n  componentDidMount(): void {\n    window.addEventListener('click', this.handlerOnClickWindow);\n  }\n\n  componentWillUnmount(): void {\n    window.removeEventListener('click', this.handlerOnClickWindow);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerOnClickWindow = (e: any): void => {\n    // Кнопка учасника\n    const memberNameButton = e.target?.closest('.member-button');\n    // Кнопка закрытия контейнера деталей участника\n    const closeButton = e.target?.closest('.detalis_member .close-button');\n    // Контейнер детали учасника\n    const cardDialog = e.target?.closest('.detalis_member');\n    // Контейнер диалог добавления участников\n    const dialogAddMembers = e.target?.closest('.dialog-add-members');\n    // Кнопка закрытия диалога добавления участников\n    const closeBtnAddMembersDialog = e.target?.closest('.add-members-dialog .close-btn');\n\n    if ((!memberNameButton && !cardDialog && !dialogAddMembers) || closeButton || closeBtnAddMembersDialog) {\n      this.infoMemberHide();\n    }\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  infoMemberShow = (e: any): void => {\n    const id = e.target.dataset.memberId;\n    this.setState({ isShowInfoMemberId: +id });\n  };\n\n  infoMemberHide = (): void => {\n    this.setState({ isShowInfoMemberId: nonExistentID });\n  };\n\n  render(): JSX.Element {\n    const { boardId, card } = this.props;\n    const { isShowInfoMemberId, token } = this.state;\n    const { updateBoard } = this.context as IBoardContext;\n    const isJoined = token && +token ? card.users.includes(+token) : !1;\n    const usersCard = card.users.length ? card.users : [];\n\n    return (\n      <MembersContext.Provider value={{ usersCard, updateBoard }}>\n        <div className=\"members-container\">\n          {card.users.map((u) => (\n            <Member\n              key={u}\n              typeButton=\"member\"\n              boardId={+boardId}\n              cardId={card.id}\n              id={u}\n              confirmationId={isShowInfoMemberId}\n              hide={this.infoMemberHide}\n              show={this.infoMemberShow}\n            />\n          ))}\n          <Member\n            typeButton=\"add\"\n            boardId={+boardId}\n            cardId={card.id}\n            id={-1}\n            confirmationId={isShowInfoMemberId}\n            hide={this.infoMemberHide}\n            show={this.infoMemberShow}\n          />\n          {!isJoined && (\n            <Member\n              typeButton=\"join\"\n              boardId={+boardId}\n              cardId={card.id}\n              id={-2}\n              confirmationId={isShowInfoMemberId}\n              hide={this.infoMemberHide}\n              show={this.infoMemberShow}\n            />\n          )}\n        </div>\n      </MembersContext.Provider>\n    );\n  }\n}\n\nMembers.contextType = BoardContext;\n\nexport default Members;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createContext } from 'react';\n\nexport interface ICardDetalisContext {\n  updateBoard: () => Promise<void>;\n}\n\nexport const CardDetalisContext = createContext<Partial<ICardDetalisContext>>({});\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport React from 'react';\nimport cn from 'classnames';\nimport { SelectionProps } from './Selection.props';\nimport './Selection.scss';\n// import ArrowIcon from './arrow.svg'; key, value, valueId\n\nexport const Selection = ({ data, children, className, ...props }: SelectionProps): JSX.Element => {\n  const { src } = data;\n  const current = '(текущий)';\n\n  // BOARDS\n  if (data.key === 'boards') {\n    const buttonLabel = 'Доска';\n    const boardTitle = data.value.boards.find((b) => b.id === data.valueId)?.title;\n\n    return (\n      <div className={cn(className, 'selection-wrapper')} {...props}>\n        <div className=\"button\">\n          <span className=\"label\">{buttonLabel}</span>\n          <span className=\"value\">{boardTitle}</span>\n\n          {data.value.boards.length && (\n            <select className=\"select\" defaultValue={data.valueId}>\n              {data.value.boards.map((b) => (\n                <option key={b.id} value={b.id}>\n                  {b.title} {b.id} {src.boardId === b.id ? current : ''}\n                </option>\n              ))}\n            </select>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // LISTS\n  if (data.key === 'lists') {\n    const buttonLabel = 'Список';\n    const list = Object.entries(data.value.lists).find(([, l]) => l.id === data.valueId)?.[1];\n\n    if (list) {\n      return (\n        <div className={cn(className, 'selection-wrapper')} {...props}>\n          <div className=\"button\">\n            <span className=\"label\">{buttonLabel}</span>\n            <span className=\"value\">{list.title}</span>\n            <select className=\"select\" value={data.valueId} onChange={(): void => {}}>\n              {Object.entries(data.value.lists)\n                .sort(([, a], [, b]) => a.position - b.position)\n                .map(([, l]) => (\n                  <option key={l.id} value={l.id}>\n                    {l.title} *** {l.id} {l.id === src.listId && current}\n                  </option>\n                ))}\n            </select>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  // CARDS\n  if (data.key === 'cards') {\n    const buttonLabel = 'Позиция';\n    const { boardId, listId, positionCard, numberCards } = data;\n\n    const isThisCardInThisList = src.boardId === boardId && src.listId === listId;\n    const optionsArray = new Array(numberCards).fill(1).map((ae, i) => i + 1);\n\n    if (!isThisCardInThisList) {\n      optionsArray.push(numberCards + 1);\n    }\n\n    return (\n      <div className={cn(className, 'selection-wrapper')} {...props}>\n        <div className=\"button\">\n          <span className=\"label\">{buttonLabel}</span>\n          <span className=\"value\">{positionCard}</span>\n\n          <select className=\"select\" value={positionCard} onChange={(): void => {}}>\n            {optionsArray.map((v) => (\n              <option key={v} value={v}>\n                {v} {v === positionCard && isThisCardInThisList && current}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n    );\n  }\n\n  return <div />;\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { ButtonProps } from './Button.props';\nimport styles from './Button.module.scss';\n\nexport const Button = ({\n  appearance = 'grey',\n  circle,\n  simpleButton,\n  awesomeIconProp,\n  children,\n  className,\n  ...props\n}: ButtonProps): JSX.Element => (\n  <button\n    className={cn(styles.button, className, {\n      [styles.simpleButton]: simpleButton,\n      [styles.grey]: appearance === 'grey',\n      [styles.blue]: appearance === 'blue',\n      [styles.brown]: appearance === 'brown',\n      [styles.circle]: circle,\n    })}\n    {...props}\n  >\n    {awesomeIconProp && (\n      <span className={cn(styles.icon)}>\n        <FontAwesomeIcon icon={awesomeIconProp} />\n      </span>\n    )}\n    {children}\n  </button>\n);\n","import { IBoardContent } from '../../../../../common/interfaces/Interfaces';\n\ninterface INewCardPositon {\n  id: number;\n  position: number;\n  list_id: number;\n}\n\ninterface IPropsMoveCardOneList {\n  card: number;\n  srcList: number;\n  srcData: IBoardContent;\n  positionCard: number;\n}\n\ninterface IPropsMoveCardBetweenLists extends IPropsMoveCardOneList {\n  destList: number;\n}\n\ninterface IPropsMoveCardBetweenDesks {\n  destData: IBoardContent;\n  destList: number;\n  positionCard: number;\n}\n\nexport const moveCardOneList = ({ card, srcList, srcData, positionCard }: IPropsMoveCardOneList): INewCardPositon[] => {\n  const newCardPosition: INewCardPositon[] = [];\n\n  const cards = { ...srcData.lists[srcList].cards };\n  const cardsSort = Object.entries(cards).sort((a, b) => a[1].position - b[1].position);\n  const moveCard = cardsSort.splice(cards[card].position - 1, 1);\n  cardsSort.splice(positionCard - 1, 0, moveCard[0]);\n  cardsSort.forEach(([, c], index) => {\n    if (c.position !== index + 1) {\n      newCardPosition.push({ id: c.id, position: index + 1, list_id: srcList });\n    }\n  });\n\n  return newCardPosition;\n};\n\nexport const moveCardBetweenLists = ({\n  card,\n  srcList,\n  srcData,\n  destList,\n  positionCard,\n}: IPropsMoveCardBetweenLists): INewCardPositon[] => {\n  const newCardPosition: INewCardPositon[] = [];\n\n  const sourceCards = { ...srcData.lists[srcList].cards };\n  const cardsSort = Object.entries(sourceCards).sort((a, b) => a[1].position - b[1].position);\n  const moveCard = cardsSort.splice(sourceCards[card].position - 1, 1);\n  delete sourceCards[card];\n  Object.entries(sourceCards)\n    .sort((a, b) => a[1].position - b[1].position)\n    .forEach(([, c], index) => {\n      if (c.position !== index + 1) {\n        newCardPosition.push({ id: c.id, position: index + 1, list_id: srcList });\n      }\n    });\n\n  /* destination list cards */\n  const destinationCards = { ...srcData.lists[destList].cards };\n  const sort = Object.entries(destinationCards).sort((a, b) => a[1].position - b[1].position);\n  sort.splice(positionCard - 1, 0, moveCard[0]);\n  sort.forEach(([, c], index) => {\n    if (c.position !== index + 1 || (c.position === index + 1 && index + 1 === moveCard[0][1].position)) {\n      newCardPosition.push({ id: c.id, position: index + 1, list_id: destList });\n    }\n  });\n  const { ...moveCardForDestination } = moveCard[0][1];\n  destinationCards[moveCardForDestination.id] = moveCardForDestination;\n\n  return newCardPosition;\n};\n\nexport const moveCardBetweenDesks = ({\n  destList,\n  destData,\n  positionCard,\n}: IPropsMoveCardBetweenDesks): INewCardPositon[] => {\n  const newCardPosition: INewCardPositon[] = [];\n\n  const cards = { ...destData.lists[destList].cards };\n\n  if (positionCard <= Object.keys(cards).length) {\n    Object.entries(cards).forEach(([, c]) => {\n      if (c.position >= positionCard) {\n        newCardPosition.push({ id: c.id, position: c.position + 1, list_id: destList });\n      }\n    });\n  }\n\n  return newCardPosition;\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './MoveCard.scss';\nimport { IFuncType, PopupCardDialogProps, PopupCardDialogState } from './MoveCard.props';\nimport { IBoardContent, IBoards, IListContent } from '../../../../common/interfaces/Interfaces';\nimport instance from '../../../../api/request';\nimport { Selection } from '../Selection/Selection';\nimport HeaderPopupCardDialog from '../HeaderPopupCardDialog/HeaderPopupCardDialog';\nimport { Button } from '../Button/Button';\nimport { moveCardBetweenLists, moveCardOneList } from './functionsMoveCard/funcMoveCard';\nimport {\n  createNewCardWithMovement,\n  deleteCard,\n  editCard,\n  getBoard,\n  movedCards,\n} from '../../../../store/modules/board/action-creators';\nimport { BoardContext } from '../../../Board/boardContext';\n\nclass MoveCard extends Component<PopupCardDialogProps & IFuncType, PopupCardDialogState> {\n  constructor(props: PopupCardDialogProps & IFuncType) {\n    super(props);\n\n    const { src } = this.props;\n\n    this.state = {\n      boardId: src.boardId,\n      listId: src.listId,\n      positionCard: src.positionCard,\n      boardsList: null,\n      boardData: src.boardData,\n    };\n  }\n\n  async componentDidMount(): Promise<void> {\n    const boards = await this.getBoardsList();\n    if (boards) this.setState({ boardsList: boards });\n  }\n\n  getBoardsList = async (): Promise<IBoards | null> => {\n    try {\n      const data = (await instance.get('/board')) as IBoards;\n      return data;\n    } catch (error: any) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n      return null;\n    }\n  };\n\n  getBoardData = async (boardId: number): Promise<IBoardContent | null> => {\n    try {\n      const data: IBoardContent = await instance.get(`/board/${boardId}`);\n      return data;\n    } catch (e: any) {\n      // eslint-disable-next-line no-console\n      console.log('Error update data: ', e);\n      return null;\n    }\n  };\n\n  /* Board */\n  handlerOnChangeSelectBoard = async (e: any): Promise<void> => {\n    const boardId = +e.target.value;\n    const currentValueSelectBoard = await this.getBoardData(boardId);\n\n    if (currentValueSelectBoard) {\n      const { src } = this.props;\n      const firstList = Object.entries(currentValueSelectBoard.lists).find(\n        ([, l]) => l.position === 1\n      )?.[1] as IListContent;\n      if (!firstList) return;\n      const cards = Object.entries(firstList.cards).sort(([, a], [, b]) => a.position - b.position);\n\n      // Is there a movable card on this board? ...\n      const movableCard = cards.find(([, c]) => c.id === src.cardId)?.[1];\n      // ... if there is, save its Id, if not, save -1\n      const positionCard = movableCard ? src.positionCard : cards.length + 1;\n\n      this.setState((state) => ({\n        ...state,\n        boardId,\n        listId: firstList.id,\n        positionCard,\n        boardData: currentValueSelectBoard,\n      }));\n    }\n  };\n\n  /* List */\n  handlerOnChangeSelectList = (e: any): void => {\n    const listId = +e.target.value;\n    const { src } = this.props;\n    const { boardData } = this.state;\n\n    const list = boardData.lists[listId];\n    const cards = Object.entries(list.cards).sort(([, a], [, b]) => a.position - b.position);\n\n    // Is there a movable card on this board? ...\n    const movableCard = cards.find(([, c]) => c.id === src.cardId)?.[1];\n    // ... if there is, save its Id, if not, save -1\n    const positionCard = movableCard ? src.positionCard : cards.length + 1;\n\n    this.setState((state) => ({ ...state, listId, positionCard }));\n  };\n\n  /* Card */\n  handlerOnChangeSelectCard = (e: any): void => {\n    const positionCard = +e.target.value;\n    this.setState((state) => ({ ...state, positionCard }));\n  };\n\n  /* MOVE CARD */\n  handlerMoveCard = async (): Promise<void> => {\n    const { src, closePopup } = this.props;\n    const { boardId, listId, boardData, positionCard } = this.state;\n\n    if (src.boardId === boardId && src.listId === listId && src.positionCard === positionCard) return;\n\n    const { moveCards } = this.props;\n    const { updateBoard } = this.context;\n\n    // Move in one list\n    if (src.listId === listId) {\n      const newCardPosition = moveCardOneList({\n        card: src.cardId,\n        srcList: src.listId,\n        srcData: src.boardData,\n        positionCard,\n      });\n      await moveCards(src.boardId, newCardPosition);\n      await updateBoard();\n      closePopup();\n\n      // Move between different lists in one board\n    } else if (src.boardId === boardId) {\n      const newCardPosition = moveCardBetweenLists({\n        card: src.cardId,\n        srcList: src.listId,\n        srcData: src.boardData,\n        destList: listId,\n        positionCard,\n      });\n      await moveCards(src.boardId, newCardPosition);\n      await updateBoard();\n      closePopup();\n\n      // Move between different lists & board\n    } else {\n      // TODO - разобраться с редактированием карточки Title & Description\n      const { deleteCrd, createCrd, closeCardDialog } = this.props;\n      const card = { ...src.boardData.lists[src.listId].cards[src.cardId] };\n      await deleteCrd(src.boardId, src.cardId, src.boardData.lists[src.listId]);\n      await createCrd(boardId, boardData.lists[listId], positionCard, card.title);\n      await updateBoard();\n      closeCardDialog();\n    }\n  };\n\n  render(): JSX.Element | null {\n    const { src } = this.props;\n    const { boardId, listId, positionCard, boardsList, boardData } = this.state;\n\n    if (!boardsList || !boardData) return null;\n\n    return (\n      <div className=\"popup-card-dialog\">\n        {/* HEADER */}\n        <HeaderPopupCardDialog title=\"Перемещение карточки\" classname=\"moveCardInTitleCardBox\" />\n\n        <h5 className=\"label-selections-box\">Выберите колонку</h5>\n        {/* BOARDS */}\n        <Selection\n          onChange={this.handlerOnChangeSelectBoard}\n          className=\"section-select-board\"\n          data={{\n            key: 'boards',\n            src,\n            valueId: boardId,\n            value: boardsList,\n          }}\n        />\n\n        <div className=\"box-sections-select-list-and-card\">\n          {/* LISTS */}\n          <Selection\n            onChange={this.handlerOnChangeSelectList}\n            className=\"section-select-list\"\n            data={{\n              key: 'lists',\n              src,\n              valueId: listId,\n              value: boardData,\n            }}\n          />\n\n          {/* CARDS */}\n          <Selection\n            onChange={this.handlerOnChangeSelectCard}\n            className=\"section-select-card\"\n            data={{\n              key: 'cards',\n              src,\n              boardId,\n              listId,\n              positionCard,\n              numberCards: Object.keys(boardData.lists[listId].cards).length,\n            }}\n          />\n        </div>\n\n        {/* BUTTON */}\n        <Button appearance=\"blue\" onClick={this.handlerMoveCard} className=\"button-move-card\">\n          Move\n        </Button>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  deleteCrd: deleteCard,\n  createCrd: createNewCardWithMovement, // addCard,\n  editCrd: editCard,\n  moveCards: movedCards,\n  update: getBoard,\n};\n\nMoveCard.contextType = BoardContext;\n\nexport default connect(null, mapDispatchToProps)(MoveCard);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './CopyCard.scss';\nimport { IFuncType, PopupCardDialogProps, PopupCardDialogState } from './CopyCard.props';\nimport { IBoardContent, IBoards, IListContent } from '../../../../common/interfaces/Interfaces';\nimport instance from '../../../../api/request';\nimport { Selection } from '../Selection/Selection';\nimport HeaderPopupCardDialog from '../HeaderPopupCardDialog/HeaderPopupCardDialog';\nimport { Button } from '../Button/Button';\nimport { createNewCardWithMovement, editCard } from '../../../../store/modules/board/action-creators';\nimport { BoardContext } from '../../../Board/boardContext';\nimport { assignOrRemoveUsersToOrFromCard } from '../../../../store/modules/user/assignOrRemoveUsersToFromCard';\n\nclass CopyCard extends Component<PopupCardDialogProps & IFuncType, PopupCardDialogState> {\n  constructor(props: PopupCardDialogProps & IFuncType) {\n    super(props);\n\n    const { src } = this.props;\n\n    this.state = {\n      boardId: src.boardId,\n      listId: src.listId,\n      positionCard: src.positionCard,\n      boardsList: null,\n      boardData: src.boardData,\n      titleCard: src.boardData.lists[src.listId].cards[src.cardId].title,\n      copyDescription: true,\n      copyMembers: true,\n    };\n  }\n\n  async componentDidMount(): Promise<void> {\n    const boards = await this.getBoardsList();\n    if (boards) this.setState({ boardsList: boards });\n  }\n\n  getBoardsList = async (): Promise<IBoards | null> => {\n    try {\n      const data = (await instance.get('/board')) as IBoards;\n      return data;\n    } catch (error: any) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n      return null;\n    }\n  };\n\n  getBoardData = async (boardId: number): Promise<IBoardContent | null> => {\n    try {\n      const data: IBoardContent = await instance.get(`/board/${boardId}`);\n      return data;\n    } catch (e: any) {\n      // eslint-disable-next-line no-console\n      console.log('Error update data: ', e);\n      return null;\n    }\n  };\n\n  /* Board */\n  handlerOnChangeSelectBoard = async (e: any): Promise<void> => {\n    const boardId = +e.target.value;\n    const currentValueSelectBoard = await this.getBoardData(boardId);\n\n    if (currentValueSelectBoard) {\n      const { src } = this.props;\n      const firstList = Object.entries(currentValueSelectBoard.lists).find(\n        ([, l]) => l.position === 1\n      )?.[1] as IListContent;\n      if (!firstList) return;\n      const cards = Object.entries(firstList.cards).sort(([, a], [, b]) => a.position - b.position);\n\n      // Is there a movable card on this board? ...\n      const movableCard = cards.find(([, c]) => c.id === src.cardId)?.[1];\n      // ... if there is, save its Id, if not, save -1\n      const positionCard = movableCard ? src.positionCard : cards.length + 1;\n\n      this.setState((state) => ({\n        ...state,\n        boardId,\n        listId: firstList.id,\n        positionCard,\n        boardData: currentValueSelectBoard,\n      }));\n    }\n  };\n\n  /* List */\n  handlerOnChangeSelectList = (e: any): void => {\n    const listId = +e.target.value;\n    const { src } = this.props;\n    const { boardData } = this.state;\n\n    const list = boardData.lists[listId];\n    const cards = Object.entries(list.cards).sort(([, a], [, b]) => a.position - b.position);\n\n    // Is there a movable card on this board? ...\n    const movableCard = cards.find(([, c]) => c.id === src.cardId)?.[1];\n    // ... if there is, save its Id, if not, save -1\n    const positionCard = movableCard ? src.positionCard : cards.length + 1;\n\n    this.setState((state) => ({ ...state, listId, positionCard }));\n  };\n\n  /* Card */\n  handlerOnChangeSelectCard = (e: any): void => {\n    const positionCard = +e.target.value;\n    this.setState((state) => ({ ...state, positionCard }));\n  };\n\n  /* COPY CARD */\n  handlerCopyCard = (): void => {\n    this.copyCard();\n  };\n\n  // Copy\n  copyCard = async (): Promise<void> => {\n    const { src, createCrd, editCrd, copyMembersInCard, closePopup } = this.props;\n    const { boardId, listId, boardData, positionCard, titleCard, copyDescription, copyMembers } = this.state;\n    const { updateBoard } = this.context;\n\n    // 1. Create card\n    const resultCreateCard = await createCrd(boardId, boardData.lists[listId], positionCard, titleCard);\n    if (resultCreateCard) {\n      let resultCopyCard = true;\n      const card = src.boardData.lists[src.listId].cards[src.cardId];\n      updateBoard();\n      closePopup();\n\n      // 2. Copy description\n      if (copyDescription) {\n        resultCopyCard = await editCrd(boardId, listId, resultCreateCard, card.description, 'description');\n      }\n      // 3. Copy members\n      if (copyMembers) {\n        resultCopyCard = await copyMembersInCard(boardId, resultCreateCard, updateBoard, card.users, []);\n      }\n      // 4. Update\n      if (resultCopyCard) {\n        updateBoard();\n        closePopup();\n      }\n    }\n  };\n\n  render(): JSX.Element | null {\n    const { src } = this.props;\n    const { boardId, listId, positionCard, boardsList, boardData, titleCard, copyDescription, copyMembers } =\n      this.state;\n\n    if (!boardsList || !boardData) return null;\n\n    return (\n      <div className=\"popup-card-dialog\">\n        {/* HEADER */}\n        <HeaderPopupCardDialog title=\"Перемещение карточки\" classname=\"moveCardInTitleCardBox\" />\n\n        <h5 className=\"label-selections-box\">Название</h5>\n\n        <textarea\n          className=\"copy-name-card-textarea\"\n          onChange={(event): void => {\n            this.setState({ titleCard: event.target.value });\n          }}\n          defaultValue={titleCard}\n        />\n\n        <h5 className=\"label-selections-box\">Также копировать...</h5>\n\n        <div className=\"check-div\">\n          <input\n            type=\"checkbox\"\n            id=\"idKeepDescription\"\n            checked={copyDescription}\n            onChange={(): void => {\n              this.setState({ copyDescription: !copyDescription });\n            }}\n          />\n          <label htmlFor=\"idKeepDescription\">Описание</label>\n        </div>\n\n        <div className=\"check-div\">\n          <input\n            type=\"checkbox\"\n            id=\"idKeepMembers\"\n            checked={copyMembers}\n            onChange={(): void => {\n              this.setState({ copyMembers: !copyMembers });\n            }}\n          />\n          <label htmlFor=\"idKeepMembers\">Участники</label>\n        </div>\n\n        <h5 className=\"label-selections-box\">Копировать в...</h5>\n\n        {/* BOARDS */}\n        <Selection\n          onChange={this.handlerOnChangeSelectBoard}\n          className=\"section-select-board\"\n          data={{\n            key: 'boards',\n            src,\n            valueId: boardId,\n            value: boardsList,\n          }}\n        />\n\n        <div className=\"box-sections-select-list-and-card\">\n          {/* LISTS */}\n          <Selection\n            onChange={this.handlerOnChangeSelectList}\n            className=\"section-select-list\"\n            data={{\n              key: 'lists',\n              src,\n              valueId: listId,\n              value: boardData,\n            }}\n          />\n\n          {/* CARDS */}\n          <Selection\n            onChange={this.handlerOnChangeSelectCard}\n            className=\"section-select-card\"\n            data={{\n              key: 'cards',\n              src,\n              boardId,\n              listId,\n              positionCard,\n              numberCards: Object.keys(boardData.lists[listId].cards).length,\n            }}\n          />\n        </div>\n\n        {/* BUTTON */}\n        <Button appearance=\"blue\" onClick={this.handlerCopyCard} className=\"button-move-card\">\n          Copy\n        </Button>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  createCrd: createNewCardWithMovement, // addCard,\n  editCrd: editCard,\n  copyMembersInCard: assignOrRemoveUsersToOrFromCard,\n};\n\nCopyCard.contextType = BoardContext;\n\nexport default connect(null, mapDispatchToProps)(CopyCard);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './DeleteCard.scss';\nimport { PopupCardDialogProps, PopupCardDialogState } from './DeleteCard.props';\nimport HeaderPopupCardDialog from '../HeaderPopupCardDialog/HeaderPopupCardDialog';\nimport { Button } from '../Button/Button';\nimport { deleteCard } from '../../../../store/modules/board/action-creators';\nimport { BoardContext } from '../../../Board/boardContext';\n\nclass DeleteCard extends Component<PopupCardDialogProps, PopupCardDialogState> {\n  /* DELETE CARD */\n  handlerDeleteCard = async (): Promise<void> => {\n    const { src, closePopup, deleteCrd, closeCardDialog } = this.props;\n    const { updateBoard } = this.context;\n\n    const resultDeleteCard = await deleteCrd(src.boardId, src.cardId, src.boardData.lists[src.listId]);\n    if (resultDeleteCard) {\n      updateBoard();\n      closePopup();\n      closeCardDialog();\n    }\n  };\n\n  render(): JSX.Element | null {\n    return (\n      <div className=\"popup-card-dialog\">\n        {/* HEADER */}\n        <HeaderPopupCardDialog title=\"Удаление карточки\" classname=\"deleteCardInTitleCardBox\" />\n        {/* WARNING */}\n        <p className=\"label-warning\">\n          Все действия будут удалены из ленты, и вы не сможете повторно открыть карточку. Отмена невозможна.\n        </p>\n        {/* BUTTON */}\n        <Button appearance=\"brown\" onClick={this.handlerDeleteCard} className=\"button-delete-card\">\n          Delete card\n        </Button>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  deleteCrd: deleteCard,\n};\n\nDeleteCard.contextType = BoardContext;\n\nexport default connect(null, mapDispatchToProps)(DeleteCard);\n","import React from 'react';\nimport './cardDetalis.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport { IBoardContent } from '../../common/interfaces/Interfaces';\nimport Title from './components/TitleCard/Title';\nimport Description from './components/DescriptionCard/Description';\nimport Members from './components/MembersCard/Members';\nimport { BoardContext } from '../Board/boardContext';\nimport { CardDetalisContext } from './CardDetalisContext';\nimport MoveCard from './components/MoveCard/MoveCard';\nimport { ICurrentValue } from './components/MoveCard/MoveCard.props';\nimport { Button } from './components/Button/Button';\nimport CopyCard from './components/CopyCard/CopyCard';\nimport DeleteCard from './components/DeleteCard/DeleteCard';\n\ninterface TypeProps extends RouteComponentProps {\n  board: IBoardContent;\n  cardId: number;\n  closeDetalisCard: () => void;\n}\n\ninterface TypeState {\n  showDialogMoveCardInTitleBox: boolean;\n  showDialogCopyCardInSidebar: boolean;\n  showDialogMoveToCardInSidebar: boolean;\n  showDialogArchiveCardInSidebar: boolean;\n}\n\nclass CardDetalis extends React.Component<TypeProps, TypeState> {\n  mount = false;\n\n  constructor(props: TypeProps) {\n    super(props);\n    this.state = {\n      showDialogMoveCardInTitleBox: !1,\n      showDialogCopyCardInSidebar: !1,\n      showDialogMoveToCardInSidebar: !1,\n      showDialogArchiveCardInSidebar: !1,\n    };\n  }\n\n  componentDidMount(): void {\n    this.mount = true;\n    const { cardId } = this.props;\n    const { boardId } = this.context;\n    this.setLocation(`/b/${boardId}/c/${cardId}`);\n  }\n\n  componentWillUnmount(): void {\n    this.mount = false;\n    const { boardId } = this.context;\n    this.setLocation(`/board/${boardId}`);\n  }\n\n  setLocation = (curLoc: string): void => {\n    const { history, location } = window;\n    try {\n      history.pushState(null, '', curLoc);\n      return;\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error(e);\n    }\n    location.hash = `#${curLoc}`;\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerOnClickClose = ({ target }: { target: any }): void => {\n    if (!target.closest('.card-dialog__wrapper')) {\n      this.closedCardDialog();\n    }\n\n    const {\n      showDialogMoveCardInTitleBox,\n      showDialogCopyCardInSidebar,\n      showDialogMoveToCardInSidebar,\n      showDialogArchiveCardInSidebar,\n    } = this.state;\n\n    const clickedNoPopapOrBtnClose = !target.closest('.popup-card-dialog') || target.closest('.close-btn');\n\n    if (showDialogMoveCardInTitleBox && clickedNoPopapOrBtnClose) {\n      this.closeDialogMoveCardInTitleBox();\n    }\n\n    if (showDialogCopyCardInSidebar && clickedNoPopapOrBtnClose) {\n      this.closeDialogCopyCardInSidebar();\n    }\n\n    if (showDialogMoveToCardInSidebar && clickedNoPopapOrBtnClose) {\n      this.closeDialogMoveToCardInSidebar();\n    }\n\n    if (showDialogArchiveCardInSidebar && clickedNoPopapOrBtnClose) {\n      this.closeDialogArchiveCardInSidebar();\n      this.setState({ showDialogArchiveCardInSidebar: !1 });\n    }\n  };\n\n  closedCardDialog = (): void => {\n    const { closeDetalisCard } = this.props;\n    closeDetalisCard();\n  };\n\n  // open dialog moved card\n  handlerTitleColumnName = (): void => {\n    this.setState({ showDialogMoveCardInTitleBox: !0 });\n  };\n\n  // close dialog moved card\n  closeDialogMoveCardInTitleBox = (): void => {\n    this.setState({ showDialogMoveCardInTitleBox: !1 });\n  };\n\n  // close dialog copy card\n  closeDialogCopyCardInSidebar = (): void => {\n    this.setState({ showDialogCopyCardInSidebar: !1 });\n  };\n\n  // close dialog move to card\n  closeDialogMoveToCardInSidebar = (): void => {\n    this.setState({ showDialogMoveToCardInSidebar: !1 });\n  };\n\n  // close dialog archive card\n  closeDialogArchiveCardInSidebar = (): void => {\n    this.setState({ showDialogArchiveCardInSidebar: !1 });\n  };\n\n  // Copy, Move, Archive\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerButtonSidebarActionToCard = (event: any): void => {\n    const id = event?.target?.id;\n    if (id === 'sdb-copy-card') this.setState({ showDialogCopyCardInSidebar: !0 });\n    if (id === 'sdb-move-card') this.setState({ showDialogMoveToCardInSidebar: !0 });\n    if (id === 'sdb-archive-card') this.setState({ showDialogArchiveCardInSidebar: !0 });\n  };\n\n  render(): JSX.Element | null {\n    const { cardId, board } = this.props;\n    const {\n      showDialogMoveCardInTitleBox,\n      showDialogCopyCardInSidebar,\n      showDialogMoveToCardInSidebar,\n      showDialogArchiveCardInSidebar,\n    } = this.state;\n    const { boardId } = this.context as { boardId: number };\n    const list = Object.entries(board.lists).find(([, listContent]) => cardId in listContent.cards)?.[1];\n    if (!list) return null;\n    const cardContent = list.cards[cardId];\n\n    const startingValues: ICurrentValue = {\n      src: {\n        cardId,\n        positionCard: cardContent.position,\n        listId: list.id,\n        boardId,\n        boardData: board,\n      },\n    };\n\n    return (\n      <CardDetalisContext.Provider value={{ updateBoard: async (): Promise<void> => {} }}>\n        <div className=\"card-dialog\" onClick={this.handlerOnClickClose}>\n          <div className=\"card-dialog__wrapper\">\n            <button className=\"card-dialog__close-dialog\" onClick={this.closedCardDialog}>\n              <FontAwesomeIcon icon={['fas', 'times']} />\n            </button>\n\n            <div className=\"card-dialog__header\">\n              <div className=\"title-box\">\n                <div className=\"icon\">\n                  <FontAwesomeIcon icon={['fas', 'credit-card']} />\n                </div>\n                <Title title={cardContent.title} boardId={boardId} listId={list.id} cardId={cardId} />\n              </div>\n              <div className=\"title-column-name-box\">\n                <div className=\"tlt-col-name\">\n                  in the column{' '}\n                  <a href=\"#\" onClick={this.handlerTitleColumnName}>\n                    <span className=\"tlt-col-name-title\">{list.title}</span>\n                    {showDialogMoveCardInTitleBox && (\n                      <MoveCard\n                        {...startingValues}\n                        closeCardDialog={this.closedCardDialog}\n                        closePopup={this.closeDialogMoveCardInTitleBox}\n                      />\n                    )}\n                  </a>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card-dialog__content\">\n              <div className=\"card-dialog__information\">\n                <span className=\"title-content information\">\n                  <span className=\"icon\">\n                    <FontAwesomeIcon icon={['fas', 'user']} />\n                  </span>\n                  <h3 className=\"title\">Members</h3>\n                </span>\n\n                <div className=\"card-dialog_members\">\n                  <Members boardId={`${boardId}`} card={cardContent} boardUsers={board.users} />\n                </div>\n\n                <div className=\"card-dialog_description\">\n                  <div className=\"title-box\">\n                    <div className=\"icon\">\n                      <FontAwesomeIcon icon={['fas', 'bars']} />\n                    </div>\n                    <h3 className=\"title\">Description</h3>\n                  </div>\n                  <Description listId={list.id} cardId={cardId} description={cardContent.description} />\n                </div>\n              </div>\n\n              <div className=\"card-dialog__sidebar\">\n                <span className=\"title-content sidebar\">\n                  <span className=\"icon\">\n                    <FontAwesomeIcon icon={['fas', 'cogs']} />\n                  </span>\n                  <h3 className=\"title\">Action to card</h3>\n                </span>\n\n                <ul className=\"list-actions-to-card\">\n                  <li className=\"button-element\">\n                    <Button\n                      id=\"sdb-copy-card\"\n                      appearance=\"grey\"\n                      awesomeIconProp={['fas', 'copy']}\n                      className=\"button\"\n                      onClick={this.handlerButtonSidebarActionToCard}\n                    >\n                      Copy\n                    </Button>\n                    {showDialogCopyCardInSidebar && (\n                      <CopyCard\n                        {...startingValues}\n                        closeCardDialog={this.closedCardDialog}\n                        closePopup={this.closeDialogCopyCardInSidebar}\n                      />\n                    )}\n                  </li>\n                  <li className=\"button-element\">\n                    <Button\n                      id=\"sdb-move-card\"\n                      appearance=\"grey\"\n                      awesomeIconProp={['fas', 'exchange-alt']}\n                      className=\"button\"\n                      onClick={this.handlerButtonSidebarActionToCard}\n                    >\n                      Move to\n                    </Button>\n                    {showDialogMoveToCardInSidebar && (\n                      <MoveCard\n                        {...startingValues}\n                        closeCardDialog={this.closedCardDialog}\n                        closePopup={this.closeDialogMoveToCardInSidebar}\n                      />\n                    )}\n                  </li>\n                  <li className=\"button-element\">\n                    <Button\n                      id=\"sdb-archive-card\"\n                      appearance=\"grey\"\n                      awesomeIconProp={['fas', 'box']}\n                      className=\"button\"\n                      onClick={this.handlerButtonSidebarActionToCard}\n                    >\n                      Archive\n                    </Button>\n                    {showDialogArchiveCardInSidebar && (\n                      <DeleteCard\n                        {...startingValues}\n                        closeCardDialog={this.closedCardDialog}\n                        closePopup={this.closeDialogArchiveCardInSidebar}\n                      />\n                    )}\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardDetalisContext.Provider>\n    );\n  }\n}\n\nCardDetalis.contextType = CardDetalisContext;\n\nCardDetalis.contextType = BoardContext;\n\nexport default withRouter(CardDetalis);\n","export enum ActionType {\n  AUTORIZATION = 'AUTORIZATION',\n  LOGOUT = 'LOGOUT',\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport './board.scss';\nimport { IBoardContent, IListContent, IMatch } from '../../common/interfaces/Interfaces';\nimport { getBoard, movedCards, movedLists } from '../../store/modules/board/action-creators';\nimport List from './components/List/List';\nimport EditableTitleBoard from './components/EditableTitleBoard/EditableTitleBoard';\nimport CardDetalis from '../CardDetalis/CardDetalis';\nimport { BoardContext } from './boardContext';\nimport { movingCardsBetweenDifferentList, movingCardsInOneList } from './functionBoard/functionsForWorkingWithCards';\nimport { movingList } from './functionBoard/functionsForWorkingWithLists';\n\ninterface IPropsFromState {\n  boardContent: IBoardContent;\n}\n\ninterface IBoardProps extends RouteComponentProps, IPropsFromState {\n  cardsMoved: (boardId: number, data: { id: number; position: number; list_id: number }[]) => Promise<void>;\n  listsMoved: (boardId: number, data: { id: number; position: number }[]) => Promise<void>;\n  updBoard: (boardId: string) => Promise<void>;\n}\n\ninterface IBoardState {\n  // mount: boolean;\n  processMovingList: boolean;\n  processMovingCard: boolean;\n  heightContainer: number;\n  shiftForCard: { x: number; y: number };\n  shiftForList: { x: number; y: number };\n  cardActive: HTMLElement | null;\n  listActive: HTMLElement | null;\n  placeholder: HTMLElement | null;\n  dataLists: { [id: number]: IListContent } | null;\n  doAddPlaceholder: boolean;\n  indexNewPositionActiveElement: number;\n  movingCard: { indexSourceList: number; indexCard: number } | null;\n  movingListId: number;\n  openDetailEditCard: boolean;\n  dataDetailEditCard: { cardId: number };\n}\n\nclass Board extends React.Component<IBoardProps, IBoardState> {\n  mount = false;\n\n  constructor(props: IBoardProps) {\n    super(props);\n    this.state = {\n      // mount: true,\n      processMovingList: false,\n      processMovingCard: false,\n      heightContainer: 0,\n      shiftForCard: { x: 0, y: 0 },\n      shiftForList: { x: 0, y: 0 },\n      cardActive: null,\n      listActive: null,\n      placeholder: null,\n      dataLists: null,\n      doAddPlaceholder: false,\n      indexNewPositionActiveElement: 0,\n      movingCard: null,\n      movingListId: -1,\n      openDetailEditCard: false,\n      dataDetailEditCard: { cardId: -1 },\n    };\n    this.onMouseDownForCard = this.onMouseDownForCard.bind(this);\n  }\n\n  async componentDidMount(): Promise<void> {\n    this.mount = true;\n    // this.setState({ mount: true });\n    await this.updateBoard();\n\n    // Set Height Container\n    const heightWindow = window.innerHeight;\n    const containerTop = document.getElementById('dnd_container')?.getBoundingClientRect().top;\n    const heightContainer = heightWindow - (containerTop || 0);\n    this.setState((state) => ({ ...state, heightContainer }));\n\n    // Show Detalis Card for PAGE REFRESH\n    const { match } = this.props;\n    const { params, path } = match as IMatch;\n    const cardDetalisShow = path.slice(0, 4) === '/b/:';\n\n    if (cardDetalisShow) {\n      const { cardId } = params;\n      this.showDetalisCard(+cardId);\n    }\n\n    /** close the window with details on the card when pressing the ESCAPE key */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    document.addEventListener('keyup', (event: any) => {\n      const { key, keyCode } = event;\n      const { openDetailEditCard } = this.state;\n      if (openDetailEditCard && key === 'Escape' && keyCode === 27) {\n        this.closeDetalisCard();\n      }\n    });\n\n    // Off Move Effect for List || Card\n    document.addEventListener('mouseup', () => {\n      const { cardActive, listActive } = this.state;\n      if (cardActive) {\n        document.removeEventListener('mousemove', this.moveCard);\n        this.mouseUpForCard();\n      }\n      if (listActive) {\n        document.removeEventListener('mousemove', this.moveList);\n        this.mouseUpForList();\n      }\n    });\n  }\n\n  componentWillUnmount(): void {\n    this.mount = false;\n    // this.setState({ mount: false });\n  }\n\n  updateBoard = async (): Promise<void> => {\n    if (!this.mount) return;\n\n    const { updBoard, match } = this.props;\n    const { params } = match as IMatch;\n    const { boardId } = params;\n\n    await updBoard(boardId);\n    const { boardContent } = this.props;\n\n    if (!boardContent) return;\n    const { lists } = boardContent;\n\n    if (!lists) return;\n    this.setState((state) => ({ ...state, dataLists: lists }));\n  };\n\n  /** CARD\n   *\n   *\n   * Mouse press on CARD element\n   * */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onMouseDownForCard = (event: any): void => {\n    event.preventDefault();\n\n    const { clientX, clientY, currentTarget } = event;\n    currentTarget.ondragstart = (): boolean => false;\n\n    const shiftX = clientX - currentTarget.getBoundingClientRect().left;\n    const shiftY = clientY - currentTarget.getBoundingClientRect().top;\n\n    const placeholder = document.createElement('A');\n    placeholder.classList.add('card_item');\n    placeholder.classList.add('placeholder');\n\n    this.setState({\n      movingCard: {\n        indexSourceList: +currentTarget.parentElement?.getAttribute('data-list-id'),\n        indexCard: +currentTarget.getAttribute('data-card-id'),\n      },\n      shiftForCard: { x: shiftX, y: shiftY },\n      cardActive: currentTarget,\n      placeholder,\n      doAddPlaceholder: true,\n    });\n\n    document.addEventListener('mousemove', this.moveCard);\n  };\n\n  /** Move CARD\n   *\n   * */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  moveCard = (event: any): void => {\n    this.setState((state) => ({ ...state, processMovingCard: true }));\n\n    const { shiftForCard, cardActive, placeholder } = this.state;\n    if (!cardActive || !placeholder) return;\n\n    const { pageX, pageY, clientX, clientY } = event;\n\n    const { clientWidth, clientHeight } = cardActive;\n\n    cardActive.style.width = `${clientWidth}px`;\n    cardActive.style.height = `${clientHeight}px`;\n    cardActive.style.left = `${pageX - shiftForCard.x}px`;\n    cardActive.style.top = `${pageY - shiftForCard.y}px`;\n    cardActive.classList.add('card_move');\n\n    placeholder.style.width = `${clientWidth}px`;\n    placeholder.style.height = `${clientHeight}px`;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    if (this.state.doAddPlaceholder) {\n      cardActive.parentElement?.insertBefore(placeholder, cardActive);\n      this.setState({ doAddPlaceholder: false });\n    }\n\n    /* The element under the arm during movement */\n    cardActive.style.display = 'none';\n    const elemBelowColumn = document.elementFromPoint(clientX, clientY)?.closest('.list_wrapper');\n    const elemBelowListContent = elemBelowColumn?.getElementsByClassName('list_content')[0];\n    const elemBelowCard = document.elementFromPoint(clientX, clientY)?.closest('.card_item');\n    cardActive.style.display = 'block';\n\n    /** Logic move Card\n     *\n     */\n    const getIndexPositionPlaceholder = (htmlCollection: HTMLCollection): void => {\n      const collection: HTMLElement[] = [];\n      [].forEach.call(htmlCollection, (elem: HTMLElement) => {\n        if (!elem.classList.contains('card_move')) {\n          collection.push(elem);\n        }\n      });\n\n      for (let i = 0; i < collection.length; i++) {\n        if (collection[i].classList.contains('placeholder')) {\n          this.setState({ indexNewPositionActiveElement: i });\n        }\n      }\n    };\n\n    if (elemBelowColumn && elemBelowListContent) {\n      const { top, bottom } = elemBelowListContent.getBoundingClientRect();\n      if (pageY < top) {\n        elemBelowListContent.insertBefore(placeholder, elemBelowListContent.firstChild);\n        getIndexPositionPlaceholder(elemBelowListContent.children);\n      }\n\n      if (pageY > bottom) {\n        elemBelowListContent.appendChild(placeholder);\n        getIndexPositionPlaceholder(elemBelowListContent.children);\n      }\n\n      if (pageY > top && pageY < bottom) {\n        if (!elemBelowCard) return;\n        const item = elemBelowCard;\n        if (!item) return;\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const { top, bottom } = elemBelowCard.getBoundingClientRect();\n        if (pageY < top + (bottom - top) / 2) {\n          elemBelowListContent.insertBefore(placeholder, item);\n          getIndexPositionPlaceholder(elemBelowListContent.children);\n        } else {\n          elemBelowListContent.insertBefore(placeholder, item.nextSibling);\n          getIndexPositionPlaceholder(elemBelowListContent.children);\n        }\n      }\n    }\n  };\n\n  /** Mouse UP for CARD\n   *\n   * */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  mouseUpForCard = (): void => {\n    const { cardActive, placeholder, dataLists, movingCard, indexNewPositionActiveElement: newPosition } = this.state;\n    if (!cardActive || !placeholder || !dataLists || !movingCard) return;\n\n    cardActive.classList.remove('card_move');\n    cardActive.style.top = '0';\n    cardActive.style.left = '0';\n    cardActive.style.width = 'auto';\n    cardActive.style.height = 'auto';\n\n    const { indexSourceList, indexCard: idCard } = movingCard;\n\n    if (!placeholder.parentElement) return;\n\n    const parent = placeholder.parentElement;\n    const indexDestintaionList = parent.getAttribute('data-list-id');\n\n    if (!indexDestintaionList) return;\n\n    const indexDestList = +indexDestintaionList;\n\n    if (!indexDestList) return;\n\n    /**\n     * Moving in one list\n     */\n    let newCardPosition: { id: number; position: number; list_id: number }[] = [];\n\n    if (indexSourceList === +indexDestintaionList) {\n      const data = movingCardsInOneList({ idCard, indexSourceList, newPosition, dataLists });\n      newCardPosition = data.newCardPosition;\n      const { sourceList: list, sourceCards: cards } = data.dataForState;\n\n      /* Set State */\n      this.setState((state) => ({\n        ...state,\n        dataLists: {\n          ...state.dataLists,\n          [list.id]: { ...list, cards },\n        },\n      }));\n\n      /**\n       * Moving between different lists\n       */\n    } else {\n      /* source list cards */\n      const data = movingCardsBetweenDifferentList({\n        idCard,\n        indexSourceList,\n        indexDestintaionList: +indexDestintaionList,\n        newPosition,\n        dataLists,\n      });\n\n      newCardPosition = data.newCardPosition;\n      const { sourceList, sourceCards, destinationList, destinationCards } = data.dataForState;\n\n      /* Set State */\n      this.setState((state) => ({\n        ...state,\n        placeholder: null,\n        dataLists: {\n          ...state.dataLists,\n          [sourceList.id]: { ...sourceList, cards: sourceCards },\n          [+indexDestintaionList]: { ...destinationList, cards: destinationCards },\n        },\n      }));\n    }\n\n    placeholder.parentNode?.removeChild(placeholder);\n\n    /* Backend */\n    const { match, cardsMoved } = this.props;\n    const { params } = match as IMatch;\n    const { boardId } = params;\n    cardsMoved(+boardId, newCardPosition);\n  };\n\n  /** LIST\n   *\n   *\n   * Mouse press on LIST element\n   * */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onMouseDownForList = (event: any): void => {\n    const { clientX, clientY, target, currentTarget } = event;\n    // Move only by grabbing the head of the element\n    const dragElement = currentTarget.querySelector('.list_header');\n    const clickElement = target.closest('.list_header');\n    if (clickElement !== dragElement) return;\n    // Move if there is no focus in the input field\n    const textAreaElem = currentTarget.querySelector('.editable-list-textarea');\n    if (textAreaElem.classList.contains('focus')) return;\n\n    const shiftX = clientX - currentTarget.getBoundingClientRect().left;\n    const shiftY = clientY - currentTarget.getBoundingClientRect().top;\n\n    const placeholder = document.createElement('DIV');\n    placeholder.classList.add('list_wrapper');\n    placeholder.classList.add('placeholder_list');\n\n    this.setState({\n      shiftForList: { x: shiftX, y: shiftY },\n      listActive: currentTarget,\n      placeholder,\n      doAddPlaceholder: true,\n      movingListId: +currentTarget.getAttribute('data-list-id'),\n    });\n    document.addEventListener('mousemove', this.moveList);\n  };\n\n  /** Move LIST element\n   *\n   * */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  moveList = (event: any): void => {\n    this.setState({ processMovingList: true });\n\n    const { shiftForList, listActive, placeholder } = this.state;\n\n    if (!listActive || !placeholder) return;\n\n    const { pageX, pageY, clientX, clientY } = event;\n    const { clientWidth, clientHeight } = listActive;\n\n    listActive.style.width = `${clientWidth}px`;\n    listActive.style.height = `${clientHeight}px`;\n    listActive.style.left = `${pageX - shiftForList.x}px`;\n    listActive.style.top = `${pageY - shiftForList.y}px`;\n    listActive.classList.add('list_move');\n    listActive.style.height = 'auto';\n\n    // eslint-disable-next-line react/destructuring-assignment\n    if (this.state.doAddPlaceholder) {\n      listActive.parentElement?.insertBefore(placeholder, listActive);\n      this.setState({ doAddPlaceholder: false });\n    }\n\n    /* The element under the arm during movement */\n    listActive.style.display = 'none';\n    const elemBelowColumn = document.elementFromPoint(clientX, clientY)?.closest('.list_wrapper');\n    listActive.style.display = 'block';\n\n    if (!elemBelowColumn) return;\n    const parent = elemBelowColumn.parentElement;\n    if (!parent) return;\n\n    /*\n     * Logic move List (placeholder)\n     */\n    const getIndexPositionPlaceholder = (htmlCollection: HTMLCollection): void => {\n      const collection: HTMLElement[] = [];\n      [].forEach.call(htmlCollection, (elem: HTMLElement) => {\n        if (elem.classList.contains('list_wrapper') && !elem.classList.contains('list_move')) {\n          collection.push(elem);\n        }\n      });\n\n      for (let i = 0; i < collection.length; i++) {\n        if (collection[i].classList.contains('placeholder_list')) {\n          this.setState({ indexNewPositionActiveElement: i });\n        }\n      }\n    };\n\n    const { left, right } = elemBelowColumn.getBoundingClientRect();\n    const middle = left + (right - left) / 2;\n\n    if (pageX > middle && pageX <= right) {\n      parent.insertBefore(placeholder, elemBelowColumn);\n      getIndexPositionPlaceholder(parent.children);\n    }\n\n    if (pageX < middle && pageX >= left) {\n      parent.insertBefore(placeholder, elemBelowColumn.nextSibling);\n      getIndexPositionPlaceholder(parent.children);\n    }\n  };\n\n  /** Mouse UP for LIST\n   *\n   * */\n  mouseUpForList = (): void => {\n    const { processMovingList, listActive, placeholder, dataLists, movingListId, indexNewPositionActiveElement } =\n      this.state;\n    if (!processMovingList || !listActive || !placeholder || !dataLists || !movingListId) return;\n\n    listActive.classList.remove('list_move');\n    placeholder.parentNode?.removeChild(placeholder);\n\n    /* Moving list */\n    const {\n      newListsPosition,\n      dataForState: { lists },\n    } = movingList({ movingListId, indexNewPositionActiveElement, dataLists });\n\n    /* Set State */\n    this.setState((state) => ({\n      ...state,\n      dataLists: lists,\n      listActive: null,\n      placeholder: null,\n    }));\n\n    setTimeout(() => {\n      this.setState({ processMovingList: false });\n    }, 100);\n\n    /* Backend */\n    const { match, listsMoved } = this.props;\n    const { params } = match as IMatch;\n    const { boardId } = params;\n    listsMoved(+boardId, newListsPosition);\n  };\n\n  /**\n   * Detalis Card Functions ...\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  handlerOpenDetatisCard = (event: any): void => {\n    // Prevent opening when moving card\n    const { processMovingCard } = this.state;\n    if (processMovingCard) {\n      this.setState((state) => ({ ...state, processMovingCard: false }));\n      return;\n    }\n\n    if (event.target.closest('.card__open-card-editor-btn')) return;\n    const { cardId } = event.currentTarget.dataset;\n    this.showDetalisCard(+cardId);\n  };\n\n  showDetalisCard = (cardId: number): void => {\n    const { boardContent } = this.props;\n    if (!boardContent) return;\n\n    this.setState({\n      openDetailEditCard: true,\n      dataDetailEditCard: { cardId },\n    });\n  };\n\n  closeDetalisCard = (): void => {\n    this.setState({\n      openDetailEditCard: false,\n      dataDetailEditCard: { cardId: -1 },\n    });\n  };\n\n  /** RENDER\n   *\n   */\n  render(): JSX.Element | null {\n    const { match, boardContent } = this.props;\n    if (!boardContent) return null;\n\n    const { params } = match as IMatch;\n    const { boardId } = params;\n    const { title } = boardContent;\n    const { heightContainer, dataLists, processMovingList, openDetailEditCard, dataDetailEditCard } = this.state;\n    if (!dataLists) return null;\n\n    return (\n      <BoardContext.Provider\n        value={{\n          updateBoard: this.updateBoard,\n          boardId: +boardId,\n          boardUsers: boardContent.users,\n          handlerOpenDetatisCard: this.handlerOpenDetatisCard,\n          boardData: boardContent,\n        }}\n      >\n        <div className=\"DnD\">\n          {openDetailEditCard && (\n            <CardDetalis\n              board={boardContent}\n              cardId={dataDetailEditCard.cardId}\n              closeDetalisCard={this.closeDetalisCard}\n            />\n          )}\n          <div className=\"board-header\">\n            <h2 className=\"title-board\">\n              ({boardId})\n              <EditableTitleBoard title={title} />\n            </h2>\n          </div>\n          <div id=\"dnd_container\">\n            {/* Lists */}\n            <List\n              lists={dataLists}\n              heightContainer={heightContainer}\n              onMouseDownForCard={this.onMouseDownForCard}\n              onMouseDownForList={this.onMouseDownForList}\n              processMovingList={processMovingList}\n            />\n          </div>\n        </div>\n      </BoardContext.Provider>\n    );\n  }\n}\n\ninterface IMapStateToProps {\n  board: IBoardContent;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst mapStateToProps = (state: IMapStateToProps): any => ({\n  ...state.board,\n});\n\nconst mapDispatchToProps = { updBoard: getBoard, listsMoved: movedLists, cardsMoved: movedCards };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Board));\n","import { ICardContent, IListContent } from '../../../common/interfaces/Interfaces';\n\ninterface INewCardPositon {\n  id: number;\n  position: number;\n  list_id: number;\n}\n\ninterface IForState {\n  sourceList: IListContent;\n  sourceCards: { [id: number]: ICardContent };\n  destinationList: IListContent;\n  destinationCards: { [id: number]: ICardContent };\n}\n\ninterface IFunctionReturn {\n  newCardPosition: INewCardPositon[];\n  dataForState: IForState;\n}\n\ninterface IPropsFunctionOneList {\n  idCard: number;\n  indexSourceList: number;\n  newPosition: number;\n  dataLists: { [id: number]: IListContent };\n}\n\ninterface IPropsFunctionDifferentLists extends IPropsFunctionOneList {\n  indexDestintaionList: number;\n}\n\n/**\n * Перемещение карточки в пределах одного листа\n */\nexport const movingCardsInOneList = ({ ...props }: IPropsFunctionOneList): IFunctionReturn => {\n  const { idCard, indexSourceList, newPosition, dataLists } = props;\n  const newCardPosition: INewCardPositon[] = [];\n\n  const list = dataLists[indexSourceList];\n  const cards = { ...list.cards };\n  const sort = Object.entries(cards).sort((a, b) => a[1].position - b[1].position);\n  const delCard = sort.splice(cards[idCard].position - 1, 1);\n  sort.splice(newPosition, 0, delCard[0]);\n  sort.forEach(([, card], index) => {\n    if (card.position !== index + 1) {\n      // eslint-disable-next-line no-param-reassign\n      card.position = index + 1;\n      newCardPosition.push({ id: card.id, position: card.position, list_id: indexSourceList });\n    }\n  });\n\n  return {\n    newCardPosition,\n    dataForState: { sourceList: list, sourceCards: cards, destinationList: list, destinationCards: cards },\n  };\n};\n\n/**\n * Moving between different lists\n */\nexport const movingCardsBetweenDifferentList = ({ ...props }: IPropsFunctionDifferentLists): IFunctionReturn => {\n  const { idCard, indexSourceList, indexDestintaionList, newPosition, dataLists } = props;\n  const newCardPosition: INewCardPositon[] = [];\n\n  /* source list cards */\n  const sourceList = dataLists[indexSourceList];\n  const sourceCards = { ...sourceList.cards };\n  const deleteCard = sourceCards[idCard];\n  delete sourceCards[idCard];\n  Object.entries(sourceCards)\n    .sort((a, b) => a[1].position - b[1].position)\n    .forEach(([, card], index) => {\n      if (card.position !== index + 1) {\n        // eslint-disable-next-line no-param-reassign\n        card.position = index + 1;\n        newCardPosition.push({ id: card.id, position: card.position, list_id: indexSourceList });\n      }\n    });\n\n  /* destination list cards */\n  const destinationList = dataLists[+indexDestintaionList];\n  const destinationCards = { ...destinationList.cards };\n  const sort = Object.entries(destinationCards).sort((a, b) => a[1].position - b[1].position);\n  sort.splice(newPosition, 0, [`${deleteCard.id}`, deleteCard]);\n  sort.forEach(([, card], index) => {\n    if (card.position !== index + 1 || (card.position === index + 1 && index + 1 === deleteCard.position)) {\n      // eslint-disable-next-line no-param-reassign\n      card.position = index + 1;\n      newCardPosition.push({ id: card.id, position: card.position, list_id: +indexDestintaionList });\n    }\n  });\n  destinationCards[deleteCard.id] = deleteCard;\n\n  return {\n    newCardPosition,\n    dataForState: { sourceList, sourceCards, destinationList, destinationCards },\n  };\n};\n","import { IListContent } from '../../../common/interfaces/Interfaces';\n\ninterface INewListPositon {\n  id: number;\n  position: number;\n}\n\ninterface IForState {\n  lists: { [id: number]: IListContent };\n}\n\ninterface IFunctionReturn {\n  newListsPosition: INewListPositon[];\n  dataForState: IForState;\n}\n\ninterface IPropsFunctionList {\n  movingListId: number;\n  indexNewPositionActiveElement: number;\n  dataLists: { [id: number]: IListContent };\n}\n\n/**\n * Moving the list\n */\nexport const movingList = ({ ...props }: IPropsFunctionList): IFunctionReturn => {\n  const { movingListId, indexNewPositionActiveElement, dataLists } = props;\n  const newListsPosition: INewListPositon[] = [];\n\n  const lists = { ...dataLists };\n  const sort = Object.entries(lists).sort((a, b) => a[1].position - b[1].position);\n  const delList = sort.splice(lists[movingListId].position - 1, 1);\n  sort.splice(indexNewPositionActiveElement, 0, delList[0]);\n  sort.forEach(([, list], index) => {\n    if (list.position !== index + 1) {\n      // eslint-disable-next-line no-param-reassign\n      list.position = index + 1;\n      newListsPosition.push({ id: list.id, position: list.position });\n    }\n  });\n\n  return {\n    newListsPosition,\n    dataForState: { lists },\n  };\n};\n","import React, { SVGProps } from 'react';\n\nconst PreloaderIcon = ({ ...props }: SVGProps<SVGSVGElement>): JSX.Element => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    version=\"1.0\"\n    width=\"64px\"\n    height=\"64px\"\n    viewBox=\"0 0 128 128\"\n    xmlSpace=\"preserve\"\n    {...props}\n  >\n    <script type=\"text/ecmascript\" />\n    <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" />\n    <g>\n      <circle cx=\"16\" cy=\"64\" r=\"16\" />\n      <circle cx=\"16\" cy=\"64\" r=\"14.344\" transform=\"rotate(45 64 64)\" />\n      <circle cx=\"16\" cy=\"64\" r=\"12.531\" transform=\"rotate(90 64 64)\" />\n      <circle cx=\"16\" cy=\"64\" r=\"10.75\" transform=\"rotate(135 64 64)\" />\n      <circle cx=\"16\" cy=\"64\" r=\"10.063\" transform=\"rotate(180 64 64)\" />\n      <circle cx=\"16\" cy=\"64\" r=\"8.063\" transform=\"rotate(225 64 64)\" />\n      <circle cx=\"16\" cy=\"64\" r=\"6.438\" transform=\"rotate(270 64 64)\" />\n      <circle cx=\"16\" cy=\"64\" r=\"5.375\" transform=\"rotate(315 64 64)\" />\n      <animateTransform\n        attributeName=\"transform\"\n        type=\"rotate\"\n        values=\"0 64 64;315 64 64;270 64 64;225 64 64;180 64 64;135 64 64;90 64 64;45 64 64\"\n        calcMode=\"discrete\"\n        dur=\"720ms\"\n        repeatCount=\"indefinite\"\n      />\n    </g>\n  </svg>\n);\n\nexport default PreloaderIcon;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { loadProgressBar } from 'x-axios-progress-bar';\nimport PreloaderIcon from './PreloaderIcon';\nimport instance from '../../../../api/request';\nimport './preloader.scss';\nimport 'x-axios-progress-bar/dist/nprogress.css';\n\nclass PreloaderComponent extends React.Component {\n  componentDidMount(): void {\n    loadProgressBar({}, instance);\n  }\n\n  render(): JSX.Element {\n    const { loading } = this.props as { loading: boolean };\n\n    if (loading) {\n      return (\n        <div className=\"loading-box\">\n          <span className=\"loading-line\" />\n          <PreloaderIcon />\n        </div>\n      );\n    }\n\n    return <div />;\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst mapStateToProps = (state: any): any => ({ ...state.loading });\n\nexport default connect(mapStateToProps, null)(PreloaderComponent);\n","/* eslint-disable react/no-unused-state */\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable @typescript-eslint/no-empty-interface */\n/* eslint-disable no-console */\n/* eslint-disable react/prefer-stateless-function */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { errorClear } from '../../../store/modules/error/reducer';\nimport { IErrorReducer } from '../../interfaces/Interfaces';\nimport './errorMessage.scss';\n\ninterface PropsType {\n  clearErrorMessages?: () => {};\n  error?: IErrorReducer;\n}\n\ninterface StateProps {\n  marginLeft: number;\n}\n\nclass ErrorMessage extends React.Component<PropsType, StateProps> {\n  handleClosedErrorMessage = (): void => {\n    const { clearErrorMessages } = this.props as PropsType;\n    if (clearErrorMessages) {\n      clearErrorMessages();\n    }\n  };\n\n  render(): JSX.Element {\n    const { error } = this.props as PropsType;\n    const errorMessages = error ? error.errorMessages : [];\n\n    return (\n      <div className=\"error-box\" style={{ marginLeft: errorMessages.length ? 0 : -300 }}>\n        <div className=\"error-container\">\n          <div className=\"message\">\n            {errorMessages.map((m) => (\n              <p className=\"error-description\" key={m}>\n                {m}\n              </p>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"error__delete_btn\" onClick={this.handleClosedErrorMessage} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any): any => ({ ...state });\n\nconst mapDispatchToProps = (dispatch: Dispatch): { clearErrorMessages: () => void } => ({\n  clearErrorMessages: (): void => {\n    dispatch(errorClear());\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorMessage);\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { Dispatch } from 'redux';\nimport instance from '../../../api/request';\nimport { ActionType } from './action-types';\nimport { ActionType as ActionTypeBoard } from '../board/action-types';\nimport { ActionType as ActionTypeBoards } from '../boards/action-types';\nimport { ActionType as ActionTypeLoading } from '../loading/reducer';\nimport { ActionType as ActionTypeError } from '../error/reducer';\nimport { removeFromSessionStorageToken, setInSessionStorageToken } from './session-storage-actions';\n\nexport const authorization =\n  (email: string, password: string) =>\n  async (dispatch: Dispatch): Promise<void> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeLoading.LOGGING });\n\n    try {\n      const result = (await instance.post('/login', { email, password })) as {\n        result: string;\n        token: string;\n      };\n\n      if (result && result.result === 'Authorized') {\n        setInSessionStorageToken(result.token);\n        dispatch({ type: ActionType.AUTORIZATION });\n      } else {\n        removeFromSessionStorageToken();\n        dispatch({ type: ActionType.LOGOUT });\n      }\n    } catch (err) {\n      // @ts-ignore\n      dispatch({ type: ActionTypeError.ERROR, payload: [err.message, 'Не удалось авторизироваться'] });\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n      dispatch({ type: ActionTypeLoading.LOGGING_END });\n    }\n  };\n\nexport const registration =\n  (email: string, password: string) =>\n  async (dispatch: Dispatch): Promise<boolean> => {\n    dispatch({ type: ActionTypeLoading.LOADING });\n    dispatch({ type: ActionTypeLoading.LOGGING });\n\n    try {\n      const result = (await instance.post('/user', { email, password })) as {\n        result: string;\n        id: number;\n      };\n\n      if (result && result.result === 'Created') {\n        return true;\n      }\n    } catch (err) {\n      // @ts-ignore\n      dispatch({ type: ActionTypeError.ERROR, payload: [err.message, 'Не удалось создать пользователя'] });\n      return false;\n    } finally {\n      dispatch({ type: ActionTypeLoading.LOADING_END });\n      dispatch({ type: ActionTypeLoading.LOGGING_END });\n    }\n    return false;\n  };\n\nexport const logOut =\n  () =>\n  (dispatch: Dispatch): void => {\n    removeFromSessionStorageToken();\n    dispatch({ type: ActionType.LOGOUT });\n    dispatch({ type: ActionTypeBoard.CLEAR_BOARD });\n    dispatch({ type: ActionTypeBoards.CLEAR_BOARDS });\n  };\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { logOut } from '../../../../store/modules/user/action-creators';\nimport { IUserReducer } from '../../../interfaces/Interfaces';\nimport './logout.scss';\n\ninterface TypeProps extends IUserReducer {\n  userOutLog: () => void;\n}\n\nclass LogOut extends React.Component<TypeProps> {\n  constructor(props: TypeProps) {\n    super(props);\n    this.handleLogOut = this.handleLogOut.bind(this);\n  }\n\n  handleLogOut(): void {\n    const { userOutLog } = this.props;\n    userOutLog();\n  }\n\n  render(): React.ReactNode | null {\n    const { userIsLogged } = this.props;\n\n    if (userIsLogged) {\n      return (\n        <div className=\"logout-box\">\n          <button className=\"logout-button\" onClick={this.handleLogOut}>\n            Log out\n          </button>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\ninterface IMapStateToProps {\n  user: IUserReducer;\n}\n\nexport default connect((state: IMapStateToProps) => ({ ...state.user }), { userOutLog: logOut })(LogOut);\n","import React from 'react';\nimport './Rainbow.scss';\n\nexport const Rainbow: React.FC = (): JSX.Element => {\n  return (\n    <div className=\"Rainbow-loader\">\n      <div className=\"loader-inner\">\n        <div className=\"loader-line-wrap\">\n          <div className=\"loader-line\" />\n        </div>\n        <div className=\"loader-line-wrap\">\n          <div className=\"loader-line\" />\n        </div>\n        <div className=\"loader-line-wrap\">\n          <div className=\"loader-line\" />\n        </div>\n        <div className=\"loader-line-wrap\">\n          <div className=\"loader-line\" />\n        </div>\n        <div className=\"loader-line-wrap\">\n          <div className=\"loader-line\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\ninterface IButtonFormLoginProps {\n  formAuthorization: boolean;\n  handleUserLogIn: (event: React.MouseEvent<HTMLInputElement, MouseEvent>) => Promise<void>;\n  handleUserRegistration: (event: React.MouseEvent<HTMLInputElement, MouseEvent>) => Promise<void>;\n  titleForm: string;\n  buttonActive: boolean;\n}\nconst ButtonFormLogin: React.FC<IButtonFormLoginProps> = ({\n  formAuthorization,\n  handleUserLogIn,\n  handleUserRegistration,\n  titleForm,\n  buttonActive,\n}): JSX.Element => (\n  <input\n    type=\"submit\"\n    onClick={formAuthorization ? handleUserLogIn : handleUserRegistration}\n    value={formAuthorization ? 'Sign in' : 'Register now'}\n    className={`${titleForm}-submit ${buttonActive ? 'active' : ''}`}\n  />\n);\n\nexport default ButtonFormLogin;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PasswordStrengthBar from 'react-password-strength-bar';\nimport { Rainbow } from 'common/components/preloader/Rainbow/Rainbow';\nimport { authorization, registration } from '../../../../store/modules/user/action-creators';\nimport './formLogIn.scss';\nimport ButtonFormLogin from './ButtonFormLogin/ButtonFormLogin';\n\ninterface PropsType {\n  authorizationUser: (email: string, password: string) => Promise<void>;\n  registrationUser: (email: string, password: string) => Promise<boolean>;\n  logging: boolean;\n}\n\ntype StateType = {\n  formAuthorization: boolean;\n  email: string;\n  emailOk: boolean;\n  fPassword: string;\n  fPasswordIsComplex: number;\n  fPasswordOk: boolean;\n  sPassword: string;\n  sPpasswordOk: boolean;\n  error: string[];\n  createUserSuccess: boolean;\n};\n\nclass FormAuthorization extends React.Component<PropsType, StateType> {\n  constructor(props: PropsType) {\n    super(props);\n    this.state = {\n      formAuthorization: !0,\n      email: '', // abc@mail.com\n      emailOk: !1,\n      fPassword: '', // abcmailcom\n      fPasswordIsComplex: 3,\n      fPasswordOk: !1,\n      sPassword: '', // abcmailcom\n      sPpasswordOk: !1,\n      error: [],\n      createUserSuccess: !1,\n    };\n    this.formSwitcher = this.formSwitcher.bind(this);\n    this.handleUserLogIn = this.handleUserLogIn.bind(this);\n    this.handleUserRegistration = this.handleUserRegistration.bind(this);\n    this.callBackPasswordStrengBar = this.callBackPasswordStrengBar.bind(this);\n    this.handleInputOnChange = this.handleInputOnChange.bind(this);\n  }\n\n  handleInputOnChange(e: React.ChangeEvent<HTMLInputElement>): void {\n    const {\n      target: { id, value },\n    } = e;\n\n    // email fPassword sPassword\n    this.setState((state) => ({ ...state, [id]: value }));\n\n    if (id === 'email') {\n      this.validateEmail(value);\n    }\n\n    if (id === 'fPassword') {\n      this.validateFirstPassword(value);\n    }\n\n    if (id === 'sPassword') {\n      this.validateSecondPassword(value);\n    }\n  }\n\n  // Authorization\n  async handleUserLogIn(event: React.MouseEvent<HTMLInputElement>): Promise<void> {\n    event.preventDefault();\n\n    const { formAuthorization, emailOk, fPasswordOk, sPpasswordOk } = this.state;\n    const btnActive = formAuthorization ? emailOk && fPasswordOk : emailOk && fPasswordOk && sPpasswordOk;\n\n    if (btnActive) {\n      const { authorizationUser } = this.props;\n      const { email, fPassword } = this.state;\n      authorizationUser(email, fPassword);\n    }\n  }\n\n  // Registration\n  async handleUserRegistration(event: React.MouseEvent<HTMLInputElement>): Promise<void> {\n    event.preventDefault();\n\n    const { formAuthorization, emailOk, fPasswordOk, sPpasswordOk } = this.state;\n    const btnActive = formAuthorization ? emailOk && fPasswordOk : emailOk && fPasswordOk && sPpasswordOk;\n\n    if (btnActive) {\n      const { registrationUser } = this.props;\n      const { email, fPassword } = this.state;\n\n      const resRegg = await registrationUser(email, fPassword);\n\n      if (resRegg) {\n        this.setState({ createUserSuccess: true, email: '', fPassword: '', sPassword: '' });\n        this.formSwitcher();\n      }\n    }\n  }\n\n  /*\n   * Valiation Email, Password, Password2\n   */\n  // validetion Email\n  validateEmail = (email: string): void => {\n    const pattern = /^[\\w\\-.]+@[\\w-]+\\.[a-z]{2,4}$/i;\n    this.setState({ emailOk: pattern.test(email) });\n  };\n\n  // validetion Email\n  validateFirstPassword = (password: string): void => {\n    this.setState({ fPasswordOk: password !== '' });\n  };\n\n  // validetion Email\n  validateSecondPassword = (password: string): void => {\n    const { fPassword } = this.state;\n    this.setState({ sPpasswordOk: password === fPassword });\n  };\n\n  // Checking passwords for complexity\n  checkPasswordComplex = (): boolean => {\n    const { fPasswordOk: passwordOk, error } = this.state;\n    const message = 'Пароль слишком простой';\n\n    if (!passwordOk) {\n      const result = error.find((e) => e === message);\n      if (!result) {\n        error.push(message);\n      }\n      this.setState({ fPasswordOk: false, error });\n      return false;\n    }\n\n    this.setState({ error: error.filter((e) => e !== message) });\n    return true;\n  };\n\n  // Checking passwords for equality\n  checkPasswordEquality = (): boolean => {\n    const { fPassword: password, sPassword: password2, error } = this.state;\n    const message = 'Пароли не совпадают';\n\n    if (password.length !== password2.length && password !== password2) {\n      const result = error.find((e) => e === message);\n      if (!result) {\n        error.push(message);\n      }\n      this.setState({ sPpasswordOk: false, error });\n      return false;\n    }\n\n    this.setState({ sPpasswordOk: true, error: error.filter((e) => e !== message) });\n    return true;\n  };\n  /*\n   * end function validations\n   */\n\n  callBackPasswordStrengBar = (score: number): void => {\n    const { fPasswordIsComplex } = this.state;\n    this.setState({ fPasswordOk: score >= fPasswordIsComplex });\n  };\n\n  formSwitcher = (): void => {\n    this.setState((state) => ({ formAuthorization: !state.formAuthorization }));\n  };\n\n  handleCloseInfoSuccessCreateUser = (): void => {\n    this.setState({ createUserSuccess: false });\n  };\n\n  render(): JSX.Element | null {\n    const {\n      formAuthorization,\n      fPassword,\n      fPasswordOk,\n      email,\n      emailOk,\n      error,\n      sPassword,\n      sPpasswordOk,\n      createUserSuccess,\n    } = this.state;\n    const { logging } = this.props;\n\n    const titleForm = formAuthorization ? 'authorization' : 'registration';\n    const textSuccessCreateUser = 'Вы успешно зарегистрировались! Авторизируйтесь и наслаждайтесь работой';\n\n    return (\n      <div className={`${titleForm}-box`}>\n        {logging && <Rainbow />}\n        {createUserSuccess && (\n          <div className=\"success-create-user\">\n            <span>{textSuccessCreateUser}</span>\n            <span className=\"button\" onClick={this.handleCloseInfoSuccessCreateUser}>\n              x\n            </span>\n          </div>\n        )}\n        <div className={`${titleForm}-container`}>\n          <h4 className={`${titleForm}-title`}>{titleForm}</h4>\n\n          <form className={`${titleForm}-form`}>\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              // value={email}\n              defaultValue={email}\n              onChange={this.handleInputOnChange}\n              autoComplete=\"section-email\"\n            />\n\n            <label htmlFor=\"fPassword\">Password</label>\n            <input\n              type=\"password\"\n              id=\"fPassword\"\n              name=\"fPassword\"\n              // value={fPassword}\n              defaultValue={fPassword}\n              onChange={this.handleInputOnChange}\n              autoComplete=\"section-first-password\"\n            />\n\n            {!formAuthorization && (\n              <>\n                <PasswordStrengthBar\n                  password={fPassword}\n                  className={fPasswordOk ? 'passwordStrengBar' : 'passwordStrengBar errorValue'}\n                  onChangeScore={this.callBackPasswordStrengBar}\n                  scoreWords={['пусто', 'слабовато', 'нужно посложнее', 'сойдет', 'молоток!']}\n                  shortScoreWord=\"это дыра\"\n                />\n\n                <label htmlFor=\"sPassword\">Repeat password</label>\n                <input\n                  type=\"password\"\n                  id=\"sPassword\"\n                  name=\"sPassword\"\n                  defaultValue={sPassword}\n                  onChange={this.handleInputOnChange}\n                  autoComplete=\"section-second-password\"\n                />\n\n                <div className=\"textError\">\n                  {error.map((m, i) => (\n                    // eslint-disable-next-line react/no-array-index-key\n                    <p key={i}>{m}</p>\n                  ))}\n                </div>\n              </>\n            )}\n\n            <ButtonFormLogin\n              formAuthorization={formAuthorization}\n              handleUserLogIn={this.handleUserLogIn}\n              handleUserRegistration={this.handleUserRegistration}\n              titleForm={titleForm}\n              buttonActive={formAuthorization ? emailOk && fPasswordOk : emailOk && fPasswordOk && sPpasswordOk}\n            />\n\n            <p className={`${titleForm}-already`}>\n              {formAuthorization ? 'First time with us?' : 'Already have an account?'}{' '}\n              <span onClick={this.formSwitcher}>{formAuthorization ? 'Register now' : 'Sign in'}</span>\n            </p>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst mapStateToProps = (state: any): any => ({ ...state.load });\n\nexport default connect(mapStateToProps, { authorizationUser: authorization, registrationUser: registration })(\n  FormAuthorization\n);\n","import React from 'react';\nimport { BrowserRouter, Link, Route } from 'react-router-dom';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport './common/styles/reset.scss';\nimport './common/styles/normalize.scss';\nimport './common/styles/app.scss';\nimport { connect } from 'react-redux';\nimport homeIcon from './common/img/home-icon.png';\nimport Home from './pages/Home/Home';\nimport Board from './pages/Board/Board';\nimport Preloader from './common/components/preloader/Preloader/Preloader';\nimport ErrorMessages from './common/components/errorsMessagePopap/ErrorMessages';\nimport LogOut from './common/components/login/logOut/Logout';\nimport Form from './common/components/login/logIn/FormLogIn';\nimport { IUserReducer } from './common/interfaces/Interfaces';\n\nlibrary.add(fas);\n\n// TODO: ErrorBoundary\n\nfunction App(props: IUserReducer): JSX.Element {\n  const { userIsLogged } = props;\n\n  return (\n    <BrowserRouter>\n      <Preloader />\n      <ErrorMessages />\n\n      <div id=\"app-main-page\">\n        <nav id=\"app-main-nav\">\n          <Link to=\"/\">\n            <div className=\"logo-box\">\n              <img style={{ width: '100%', height: 'auto' }} className=\"home-page-img\" src={homeIcon} alt=\"home\" />\n            </div>\n          </Link>\n          <Link to=\"/\">\n            <LogOut />\n          </Link>\n        </nav>\n\n        <Route exact path=\"/\" component={userIsLogged ? Home : Form} />\n        <Route path=\"/board/:boardId\" component={Board} />\n        <Route path=\"/b/:boardId/c/:cardId\" component={Board} />\n      </div>\n    </BrowserRouter>\n  );\n}\n\ninterface IMapStateToProps {\n  user: IUserReducer;\n}\n\nexport default connect((state: IMapStateToProps) => ({ ...state.user }))(App);\n","export default \"data:image/png;base64,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\"","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { IBoardContent, IBoardReducer } from '../../../common/interfaces/Interfaces';\nimport { ActionType } from './action-types';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst initialState: IBoardReducer = {\n  boardContent: {\n    title: 'Моя тестовая доска',\n    lists: {\n      1: {\n        id: 1,\n        title: 'Планы',\n        position: 1,\n        cards: {\n          1: {\n            id: 1,\n            title: 'Помыть кота Леву',\n            description: '1descr',\n            created_at: 1,\n            position: 1,\n            users: [8, 2],\n          },\n          2: {\n            id: 2,\n            title: 'Приготовить суп Харчо',\n            description: '2descr',\n            created_at: 2,\n            position: 2,\n            users: [1],\n          },\n          3: {\n            id: 3,\n            title: 'Сходить в магазин по хлеб',\n            description: '3descr',\n            created_at: 3,\n            position: 3,\n            users: [1],\n          },\n        },\n      },\n      2: {\n        id: 2,\n        title: 'В процессе',\n        position: 2,\n        cards: {\n          4: {\n            id: 4,\n            title: 'Прочесть Библию',\n            description: '4descr',\n            created_at: 4,\n            position: 1,\n            users: [3, 5],\n          },\n        },\n      },\n      3: {\n        id: 3,\n        title: 'Сделано',\n        position: 3,\n        cards: {\n          5: {\n            id: 5,\n            title: 'Сделать Трело 2',\n            description: '5descr',\n            created_at: 5,\n            position: 1,\n            users: [1, 2, 3],\n          },\n          6: {\n            id: 6,\n            title: 'Погулять с Беллой',\n            description: '6descr',\n            created_at: 6,\n            position: 2,\n            users: [1, 3, 6],\n          },\n        },\n      },\n    },\n    users: [2],\n  },\n};\n\nconst reducer = (state: IBoardReducer, action: { type: string; payload: IBoardContent }): IBoardReducer => {\n  switch (action.type) {\n    case ActionType.UPDATE_BOARD:\n      return {\n        ...state,\n        boardContent: action.payload,\n      };\n    case ActionType.CLEAR_BOARD:\n      return {\n        ...state,\n        boardContent: null,\n      };\n    default: {\n      return { ...state };\n    }\n  }\n};\n\nexport default reducer;\n","import { IBoardsListReducer } from '../../../common/interfaces/Interfaces';\nimport { ActionType } from './action-types';\nimport { Action } from './actions';\n\nconst initialState = {\n  boardsList: [],\n};\n\nconst reducer = (state: IBoardsListReducer = initialState, action: Action): IBoardsListReducer => {\n  switch (action.type) {\n    case ActionType.UPDATE_BOARDS:\n      return { boardsList: action.payload };\n    case ActionType.CLEAR_BOARDS:\n      return { boardsList: null };\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default reducer;\n","import { IUserReducer } from '../../../common/interfaces/Interfaces';\nimport { ActionType } from './action-types';\nimport { Action } from './actions';\nimport { getFromSessionStorageToken } from './session-storage-actions';\n\nconst getInitialState = (): IUserReducer => ({ userIsLogged: !!getFromSessionStorageToken() });\n\nconst reducer = (state: IUserReducer = getInitialState(), action: Action): IUserReducer => {\n  switch (action.type) {\n    case ActionType.AUTORIZATION:\n      return { ...state, userIsLogged: true };\n    case ActionType.LOGOUT:\n      return { ...state, userIsLogged: false };\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from 'redux';\nimport boardReducer from './modules/board/reducer';\nimport boardsReducer from './modules/boards/reducer';\nimport userReducer from './modules/user/reducer';\nimport loadingReducer from './modules/loading/reducer';\nimport errorReducer from './modules/error/reducer';\n\nexport default combineReducers({\n  board: boardReducer,\n  boards: boardsReducer,\n  user: userReducer,\n  load: loadingReducer,\n  error: errorReducer,\n});\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducer';\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { CookiesProvider } from 'react-cookie';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <CookiesProvider>\n        <App />\n      </CookiesProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3Qveq\",\"grey\":\"Button_grey__xRmu7\",\"blue\":\"Button_blue__WXsIl\",\"brown\":\"Button_brown__3u0wG\",\"circle\":\"Button_circle__2OMbc\",\"simpleButton\":\"Button_simpleButton__pmhhp\",\"icon\":\"Button_icon__A90YG\"};"],"sourceRoot":""}