(this["webpackJsonpmy-app-trello"]=this["webpackJsonpmy-app-trello"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(31),c=a.n(s),i=a(10),o=a(111),d=a(2),l=a(22),u=a(13),p=a(51),b=a(26),h=(a(64),a(65),a(66),a(6)),j=a(7),v=a(9),O=a(8),f=(a(67),a(3)),m=a.n(f),C=a(4),x=a(14),g=(a(69),a(36)),A=function(){return sessionStorage.getItem("token")},y=function(){sessionStorage.removeItem("token")},w=a.n(g).a.create({baseURL:"https://trello-back.shpp.me/aborimsky/api/v1",headers:{"Content-Type":"application/json"}});w.interceptors.request.use((function(e){var t=A()||"";return Object(d.a)(Object(d.a)({},e),{},{headers:Object(d.a)(Object(d.a)({},e.headers),{},{Authorization:"Bearer ".concat(t)})})})),w.interceptors.response.use((function(e){return e.data}));var I,k,N=w;!function(e){e.UPDATE_BOARDS="UPDATE_BOARDS",e.CLEAR_BOARDS="CLEAR_BOARDS"}(I||(I={})),function(e){e.LOADING="LOADING",e.LOADING_END="LOADING_END"}(k||(k={}));var D,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.LOADING:return{loading:!0};case k.LOADING_END:return{loading:!1};default:return Object(d.a)({},e)}};!function(e){e.ERROR="ERROR",e.ERROR_CLEAR="ERROR_CLEAR"}(D||(D={}));var B,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errorMessages:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.ERROR:return{errorMessages:t.payload};case D.ERROR_CLEAR:return{errorMessages:[]};default:return Object(d.a)({},e)}},L=function(){return function(){var e=Object(C.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/board");case 3:a=e.sent,t({type:I.UPDATE_BOARDS,payload:a.boards}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.message,console.log("message: ",n),t({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0434\u043e\u0441\u043a\u0430\u0445.",n]});case 12:return e.prev=12,t({type:k.LOADING_END}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,7,12,15]])})));return function(t){return e.apply(this,arguments)}}()},R=function(e,t){var a=t||/[^\u0430-\u044f.\w\s\-\d]+/gi;if(""===e)return{status:!1,res:"empty",errSymbols:""};var n=e.match(a);return n?{status:!1,res:"forbidden",errSymbols:n.join(" ")}:{status:!0,res:"",errSymbols:""}},T=function(e){var t=document.getElementById(e);t&&setTimeout((function(){t.focus(),t.select()}),10)},_=function(e,t){var a;return!!(a="string"===typeof e?document.querySelector(e):e)&&(a.classList.contains(t)?(a.classList.remove(t),!0):(a.classList.add(t),!1))},M=function(e){return document.getElementById(e)},P=function(e,t,a){var n=document.getElementById(e);n&&(n.style.display="block",n.innerText=a,setTimeout((function(){n.style.display="none"}),t))},Q=function(e){document.body.classList.contains(e)?document.body.classList.remove(e):document.body.classList.add(e)},U=a(0),H=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).globalValue={mounted:!1,isOpenPopap:!1,clickedContainerPopap:!1},n.inputOnChangeHandler=function(e){n.setState({nameNewBoard:e.target.value})},n.closedPopap=function(){n.globalValue.isOpenPopap=_(".add-board__popapp","display-none"),Q("overflowHidden")},n.openPopap=function(){n.globalValue.isOpenPopap=_(".add-board__popapp","display-none"),Q("overflowHidden"),T("addNewBoardInpt")},n.checkInputData=function(){var e=n.state.nameNewBoard,t=R(e),a=t.status,r=t.res,s=t.errSymbols;if(!a){if("empty"===r)return P("add-board-error-text",2e3,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c."),!1;if("forbidden"===r)return T("addNewBoardInpt"),P("add-board-error-text",2e3,"\u042d\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043d\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b: \n".concat(s)),!1}return!0},n.addNewBoard=function(){n.createNewBoard()},n.createNewBoard=Object(C.a)(m.a.mark((function e(){var t,a,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.checkInputData()){e.next=2;break}return e.abrupt("return");case 2:if(n.closedPopap(),t=n.state.nameNewBoard,a=n.props,r=a.addBrd,s=a.getBrds,!r||!s){e.next=11;break}return e.next=8,r(t);case 8:return e.next=10,s();case 10:n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{nameNewBoard:""})}));case 11:case"end":return e.stop()}}),e)}))),n.popapClick=function(){n.globalValue.clickedContainerPopap?n.globalValue.clickedContainerPopap=!1:n.closedPopap()},n.popapContainerClick=function(){n.globalValue.clickedContainerPopap=!0},n.state={nameNewBoard:"",clickContainerPopap:!1},n.closedPopap=n.closedPopap.bind(Object(x.a)(n)),n.openPopap=n.openPopap.bind(Object(x.a)(n)),n.addNewBoard=n.addNewBoard.bind(Object(x.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.globalValue.mounted=!0,document.addEventListener("keypress",(function(t){e.globalValue.isOpenPopap&&"Enter"===t.key&&(t.preventDefault(),e.createNewBoard())}))}},{key:"componentWillUnmount",value:function(){var e=this;this.globalValue.mounted=!1,document.removeEventListener("keypress",(function(t){e.globalValue.isOpenPopap&&"Enter"===t.key&&(t.preventDefault(),e.createNewBoard())}))}},{key:"render",value:function(){var e=this.state.nameNewBoard;return Object(U.jsxs)("div",{className:"add-board",children:[Object(U.jsx)("div",{className:"add-board__popapp display-none",onClick:this.popapClick,children:Object(U.jsxs)("div",{className:"add-board__container",onClick:this.popapContainerClick,children:[Object(U.jsx)("button",{className:"add-board__close-btn",onClick:this.closedPopap}),Object(U.jsxs)("div",{className:"add-board__input-container",children:[Object(U.jsx)("div",{id:"add-board-error-text",className:"add-board__errorHint"}),Object(U.jsx)("input",{id:"addNewBoardInpt",type:"text",autoComplete:"off",value:e,onChange:this.inputOnChangeHandler})]}),Object(U.jsx)("button",{className:"add-board__create-new-board",onClick:this.addNewBoard,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443"})]})}),Object(U.jsx)("button",{className:"create-new-board-begin",onClick:this.openPopap,children:"+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443"})]})}}]),a}(r.a.Component),G=Object(i.b)(null,{getBrds:L,addBrd:function(e){return function(){var t=Object(C.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:k.LOADING}),a({type:D.ERROR_CLEAR}),t.prev=2,t.next=5,N.post("/board",{title:e});case 5:if("Created"===t.sent.result){t.next=8;break}throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443.");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443.",t.t0.message]});case 13:return t.prev=13,a({type:k.LOADING_END}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}})(H),F=(a(89),Object(i.b)(null,{getBoards:L,deleteBoard:function(e){return function(){var t=Object(C.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:k.LOADING}),a({type:D.ERROR_CLEAR}),t.prev=2,t.next=5,N.delete("/board/".concat(e));case 5:if("Deleted"===t.sent.result){t.next=8;break}throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0434\u043e\u0441\u043a\u0443.");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0434\u043e\u0441\u043a\u0443.",t.t0.message]});case 13:return t.prev=13,a({type:k.LOADING_END}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.boardId,a=e.title,r=e.deleteBoard,s=Object(n.useRef)(null);Object(n.useEffect)((function(){return s.current=!0,function(){return s.current=!1}}));var c=function(){var t=Object(C.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.getAttribute("data-id"),t.next=4,r(n);case 4:s.current&&e.getBoards();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"board__container",children:[Object(U.jsx)("div",{className:"board__delete_btn","data-id":t,onClick:c}),Object(U.jsx)("div",{className:"board__title-box",children:Object(U.jsx)("span",{className:"board__title",children:a})})]})}))),J=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).fetchBoards=function(){(0,e.props.boardsGet)()},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.fetchBoards()}},{key:"render",value:function(){var e=this.props,t=e.match.url,a=e.boardsList;return Object(U.jsx)("div",{className:"home-boards",children:Object(U.jsx)("div",{className:"home-boards__wrapper",children:Object(U.jsxs)("ul",{className:"home-boards__list",children:[a&&a.map((function(e){return Object(U.jsx)("li",{className:"home-boards__list-element",children:Object(U.jsx)(l.b,{to:"".concat(t,"board/").concat(e.id),children:Object(U.jsx)(F,{boardId:e.id,title:e.title})})},e.id)})),Object(U.jsx)("li",{className:"home-boards__list-element btn",children:Object(U.jsx)(G,{})},"btn")]})})})}}]),a}(r.a.Component),V=Object(i.b)((function(e){return Object(d.a)({},e.boards)}),{boardsGet:L})(J),Y=a(17),z=(a(93),a(5));!function(e){e.UPDATE_BOARD="UPDATE_BOARD",e.CLEAR_BOARD="CLEAR_BOARD"}(B||(B={}));var q=function(e){return function(){var t=Object(C.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.get("/board/".concat(e));case 3:n=t.sent,a({type:B.UPDATE_BOARD,payload:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error update data: ",t.t0),a({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043e\u0441\u043a\u0443",t.t0.message]});case 11:return t.prev=11,a({type:k.LOADING_END}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,7,11,14]])})));return function(e){return t.apply(this,arguments)}}()},K=function(e,t){return Object.entries(e.cards).sort((function(e,t){var a=Object(z.a)(e,2)[1],n=Object(z.a)(t,2)[1];return a.position-n.position})).filter((function(e){return Object(z.a)(e,2)[1].position>=t})).map((function(t){var a=Object(z.a)(t,2)[1];return{id:a.id,position:a.position+1,list_id:e.id}}))},X=function(e,t,a,n){return function(){var r=Object(C.a)(m.a.mark((function r(s){var c,i;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:k.LOADING}),s({type:D.ERROR_CLEAR}),c=K(t,a),r.prev=3,r.next=6,N.put("/board/".concat(e,"/card"),c);case 6:r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),s({type:D.ERROR,payload:["\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438.",r.t0.message]});case 12:return r.prev=12,s({type:k.LOADING_END}),r.finish(12);case 15:return r.prev=15,r.next=18,N.post("/board/".concat(e,"/card"),{title:n,list_id:t.id,position:a});case 18:return i=r.sent,r.abrupt("return","Created"===i.result?i.id:void 0);case 22:return r.prev=22,r.t1=r.catch(15),s({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443.",r.t1.message]}),r.abrupt("return",void 0);case 26:return r.prev=26,s({type:k.LOADING_END}),r.finish(26);case 29:case"end":return r.stop()}}),r,null,[[3,9,12,15],[15,22,26,29]])})));return function(e){return r.apply(this,arguments)}}()},W=function(e,t){var a=-1;return Object.entries(e.cards).sort((function(e,t){var a=Object(z.a)(e,2)[1],n=Object(z.a)(t,2)[1];return a.position-n.position})).filter((function(e){var n=Object(z.a)(e,2)[1];return n.id===+t&&(a=n.position),n.id!==+t})).filter((function(e){return Object(z.a)(e,2)[1].position>=a})).map((function(t,n){return{id:Object(z.a)(t,2)[1].id,position:a+n,list_id:e.id}}))},Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var n=Object(C.a)(m.a.mark((function n(r){var s,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r({type:k.LOADING}),r({type:D.ERROR_CLEAR}),s=a&&W(a,t),n.prev=3,!s){n.next=18;break}return n.next=7,N.delete("/board/".concat(e,"/card/").concat(t));case 7:return c=n.sent,n.prev=8,n.next=11,N.put("/board/".concat(e,"/card"),s);case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(8),r({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443. \u0421\u0431\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u0437\u0449\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a.",n.t0.message]}),n.abrupt("return",!1);case 17:return n.abrupt("return","Deleted"===c.result);case 18:return n.abrupt("return",!1);case 21:return n.prev=21,n.t1=n.catch(3),r({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443.",n.t1.message]}),n.abrupt("return",!1);case 25:return n.prev=25,r({type:k.LOADING_END}),n.finish(25);case 28:case"end":return n.stop()}}),n,null,[[3,21,25,28],[8,13]])})));return function(e){return n.apply(this,arguments)}}()},$=function(e,t){return function(){var a=Object(C.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:k.LOADING}),n({type:D.ERROR_CLEAR}),a.prev=2,a.next=5,N.put("/board/".concat(e,"/card"),t);case 5:return r=a.sent,a.abrupt("return","Updated"===r.result);case 9:return a.prev=9,a.t0=a.catch(2),n({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438.",a.t0.message]}),a.abrupt("return",!1);case 13:return a.prev=13,n({type:k.LOADING_END}),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[2,9,13,16]])})));return function(e){return a.apply(this,arguments)}}()},ee=function(e,t,a,n,r){return function(){var s=Object(C.a)(m.a.mark((function s(c){var i,o;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c({type:k.LOADING}),c({type:D.ERROR_CLEAR}),i="title"===r?{title:n,list_id:t}:{description:n,list_id:t},s.prev=3,s.next=6,N.put("/board/".concat(e,"/card/").concat(a),i);case 6:return o=s.sent,s.abrupt("return","Updated"===o.result);case 10:return s.prev=10,s.t0=s.catch(3),console.log("edit card error: ",s.t0),c({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438.",s.t0.message]}),s.abrupt("return",!1);case 15:return s.prev=15,c({type:k.LOADING_END}),s.finish(15);case 18:case"end":return s.stop()}}),s,null,[[3,10,15,18]])})));return function(e){return s.apply(this,arguments)}}()},te=a(15),ae=(a(94),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.statusErrorText,a=e.res,n=e.errSymbols,r=e.parentId,s=n.length>1,c=document.getElementById(r),i={};if(c){var o=c.getBoundingClientRect(),l=o.top,u=o.left,p=o.height;i.top=l+p+8,i.left=u}return t?Object(U.jsxs)("div",{className:"pop-up-message",style:Object(d.a)({},i),children:[Object(U.jsx)("div",{className:"triangle"}),Object(U.jsx)("div",{className:"message",children:"empty"===a?Object(U.jsx)("p",{children:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("p",{children:"\u042d\u0442".concat(s?"\u0442\u0438":"\u043e\u0442"," \u0441\u0438\u043c\u0432\u043e\u043b").concat(s?"\u044b":""," \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d").concat(s?"\u044b":"",".")}),Object(U.jsx)("p",{children:n})]})})]}):null}}]),a}(r.a.Component)),ne=function(e){var t=e.cardId,a=e.awesomeIcon,n=e.titleBtn,r=e.handlerOnClick;return Object(U.jsxs)("a",{href:"#",className:"editor-card__btn-item","data-id-card":t,onClick:r,children:[Object(U.jsx)("div",{className:"icon",children:Object(U.jsx)(te.a,{icon:a})}),Object(U.jsx)("span",{className:"editor-card__btn-item-text",children:n})]})},re=function(e){var t=e.x,a=e.y,r=e.card,s=e.deleteCard,c=e.closeEditor,i=e.closeBGEditor,o=e.saveTitle,l=e.width,u=Object(n.useState)(r.title),p=Object(z.a)(u,2),b=p[0],h=p[1],j=Object(n.useState)({statusErrorText:!1,res:"",errSymbols:""}),v=Object(z.a)(j,2),O=v[0],f=v[1],x=Object(n.useRef)(null);Object(n.useEffect)((function(){var e;null===x||void 0===x||null===(e=x.current)||void 0===e||e.focus()}),[]);var g=function(){var e=Object(C.a)(m.a.mark((function e(){var t,a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=R(b),a=t.status,n=t.res,s=t.errSymbols,!a){e.next=6;break}return e.next=4,o(b,r.id);case 4:e.next=8;break;case 6:f({statusErrorText:!0,res:n,errSymbols:s}),setTimeout((function(){f({statusErrorText:!1,res:n,errSymbols:s})}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"quick-card-editor",children:[Object(U.jsx)("div",{className:"background_edit_card_abs",onClick:i,children:Object(U.jsx)("span",{className:"editor-card__close-icon",onClick:c,children:Object(U.jsx)(te.a,{icon:"times"})})}),Object(U.jsxs)("div",{className:"editor-card",style:{top:"".concat(a,"px"),left:"".concat(t,"px")},children:[Object(U.jsx)("textarea",{id:"card-edit-text-area-".concat(r.id),className:"editor-card__title-edit",style:{width:l},dir:"auto",defaultValue:b,onInput:function(e){h(e.target.value)},ref:x,onFocus:function(e){var t=e.target;setTimeout((function(){t.selectionStart=0,t.selectionEnd=9e3}),0)}}),Object(U.jsx)("input",{className:"editor-card__title-edit-button",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:g}),Object(U.jsx)("div",{className:"editor-card__buttons",children:Object(U.jsx)(ne,{titleBtn:"delete card",awesomeIcon:["fas","trash-alt"],cardId:r.id,handlerOnClick:s})}),Object(U.jsx)(ae,Object(d.a)(Object(d.a)({},O),{},{parentId:"card-edit-text-area-".concat(r.id)}))]})]})},se=r.a.createContext({}),ce=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onClickOpenEditor=function(e,t){var a=t.target.closest(".card_item").getBoundingClientRect();n.setState({openEditCard:!0,width:a.width,x:a.left,y:a.top,card:e})},n.closeEditor=function(){n.setState({openEditCard:!1})},n.handlerClickClosedEditCard=function(e){var t=!0;[".editor-card__title",".editor-card__buttons"].forEach((function(a){e.target.closest(a)&&(t=!1)})),t&&n.closeEditor()},n.onClickDeleteCard=function(){var e=Object(C.a)(m.a.mark((function e(t){var a,r,s,c,i,o,d,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.cardDelete,s=n.context,c=s.updateBoard,i=s.boardId,o=s.boardData,d=t.target.dataset.idCard||t.target.parentElement.dataset.idCard||t.target.parentElement.parentElement.dataset.idCard||t.target.parentElement.parentElement.parentElement.dataset.idCard,console.log("del card: ",i,d),l=null===(a=Object.entries(o.lists).find((function(e){var t,a=Object(z.a)(e,2)[1];return null===(t=Object.entries(a.cards).find((function(e){var t=Object(z.a)(e,2)[1];return"".concat(t.id)===d})))||void 0===t?void 0:t[1]})))||void 0===a?void 0:a[1],e.next=7,r(i,d,l);case 7:return e.next=9,c();case 9:n.setState({openEditCard:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveTitleCard=function(){var e=Object(C.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.handlerCardTitleRename(t,a),n.closeEditor();case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handlerCardTitleRename=function(){var e=Object(C.a)(m.a.mark((function e(t,a){var r,s,c,i,o,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,s=r.listId,c=r.cardEdit,i=n.context,o=i.updateBoard,d=i.boardId,e.next=4,c(d,s,a,t,"title");case 4:o();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={openEditCard:!1,card:{id:-1,position:-1,title:"",created_at:-1,description:"",users:[]},x:0,y:0,width:0},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.cards,n=t.onMouseDownForCard,r=t.listId,s=this.state,c=s.openEditCard,i=s.card,o=s.x,u=s.y,p=s.width,b=this.context,h=b.boardId,j=b.handlerOpenDetatisCard,v={openEditCard:c,card:i,x:o,y:u,width:p,closeEditor:this.closeEditor,closeBGEditor:this.handlerClickClosedEditCard,deleteCard:this.onClickDeleteCard,saveTitle:this.saveTitleCard};return Object(U.jsxs)(U.Fragment,{children:[Object.entries(a).sort((function(e,t){return e[1].position-t[1].position})).map((function(t,a){var s=Object(z.a)(t,2)[1];return Object(U.jsx)(l.b,{to:"/b/".concat(h,"/c/").concat(s.id),className:"card_item","data-card-id":s.id,"data-list-id":r,"data-card-ind-pos":a,onMouseDown:n,onClick:j,children:Object(U.jsxs)("div",{className:"card_cover",children:["(",s.id,") - pos: ",s.position,Object(U.jsx)("h4",{className:"title",children:s.title}),Object(U.jsx)("button",{className:"card__open-card-editor-btn",onClick:e.onClickOpenEditor.bind(e,s),children:Object(U.jsx)(te.a,{icon:["fas","pencil-alt"]})})]})},s.id)})),c?Object(U.jsx)(re,Object(d.a)({},v)):null]})}}]),a}(r.a.Component),ie={cardDelete:Z,cardEdit:ee};ce.contextType=se;var oe=Object(i.b)(null,ie)(ce),de={listRenameTitle:function(e,t,a){return function(){var n=Object(C.a)(m.a.mark((function n(r){var s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:k.LOADING}),r({type:D.ERROR_CLEAR}),n.prev=2,n.next=5,N.put("/board/".concat(e,"/list/").concat(t),{title:a});case 5:return s=n.sent,n.abrupt("return","Updated"===s.result);case 9:return n.prev=9,n.t0=n.catch(2),r({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043f\u0438\u0441\u043e\u043a.",n.t0.message]}),n.abrupt("return",!1);case 13:return n.prev=13,r({type:k.LOADING_END}),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,9,13,16]])})));return function(e){return n.apply(this,arguments)}}()}},le=Object(i.b)(null,de)((function(e){var t=e.titleList,a=e.listId,r=e.processMovingList,s=e.listRenameTitle,c=Object(n.useState)(t),i=Object(z.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)(t),p=Object(z.a)(u,2),b=p[0],h=p[1],j=Object(n.useState)(!1),v=Object(z.a)(j,2),O=v[0],f=v[1],x=Object(n.useState)({statusErrorText:!1,res:"",errSymbols:""}),g=Object(z.a)(x,2),A=g[0],y=g[1],w=Object(n.useState)(0),I=Object(z.a)(w,2),k=I[0],N=I[1],D=Object(n.useContext)(se),E=D.updateBoard,B=D.boardId,S=function(){var e=Object(C.a)(m.a.mark((function e(t){var n,r,c,i,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=R(o),r=n.status,c=n.res,i=n.errSymbols,!(r&&B&&E)){e.next=9;break}return d=t.value,e.next=5,s(B,a,d||o);case 5:e.sent?(l(d||o),h(d||o),t.classList.remove("focus"),f(!1)):(l(b),f(!1)),e.next=12;break;case 9:y({statusErrorText:!0,res:c,errSymbols:i}),t.focus(),t.select();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"editable-list-title",children:[Object(U.jsx)("h2",{className:"list-title",style:{display:O?"none":"block",position:"relative"},onClick:function(e){if(!r){var t=e.currentTarget,a=t.getBoundingClientRect().height;N(a),f(!0),y({statusErrorText:!0,res:"",errSymbols:""}),setTimeout((function(){t.nextSibling.focus(),t.nextSibling.select(),t.nextSibling.classList.add("focus")}),10)}},children:o}),Object(U.jsx)("textarea",{id:"input-title-list-".concat(a),className:"editable-list-textarea",defaultValue:o,onInput:function(e){A.statusErrorText&&y({statusErrorText:!1,res:"",errSymbols:""});var t=e.target.value;l(t)},onBlur:function(e){S(e.currentTarget)},onKeyPress:function(e){"Enter"===e.code&&S(e.currentTarget)},autoComplete:"off",style:{display:O?"block":"none",position:"relative",height:k}}),O&&""!==A.res&&Object(U.jsx)(ae,Object(d.a)(Object(d.a)({},A),{},{parentId:"input-title-list-".concat(a)}))]})})),ue=a(24),pe=["listAdd"],be=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).globalValue={mounted:void 0,nameRunButton:void 0,bgRunButton:void 0,timeOut:void 0},n.onInputHandler=function(e){e.preventDefault();var t=e.target.value,a=R(t),r=a.status,s=a.errSymbols;r?n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{nameList:t})})):n.errorHandling(1,s)},n.errorHandling=function(e,t){1===e&&n.showMessageInBottom(e,t)},n.showMessageInBottom=function(e,t){var a=document.querySelector(".add-list__add-btn-run");a&&(a.innerText=0===e?"The input field is empty":"character ' ".concat(t," ' is not allowed"),a.style.background="red",n.globalValue.timeOut&&clearTimeout(n.globalValue.timeOut),n.globalValue.timeOut=setTimeout((function(){a.innerText=n.globalValue.nameRunButton||"",a.style.background=n.globalValue.bgRunButton||""}),2e3))},n.buttonHandlerOpenFieldInput=function(){T("add-list__input-field1"),n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{openInput:!0})}))},n.closeFieldInputHandler=function(){n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{openInput:!1})}))},n.handlerAddNewList=function(){var e=n.state.nameList;""!==e?setTimeout(Object(C.a)(m.a.mark((function t(){var a,r,s,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.props,r=a.listAdd,s=Object(ue.a)(a,pe),r(s.boardId,e,s.position),n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{nameList:""})})),c=n.context,i=c.updateBoard,t.next=6,i();case 6:n.closeFieldInputHandler();case 7:case"end":return t.stop()}}),t)}))),10):n.showMessageInBottom(0,"")},n.state={nameList:"",openInput:!1},n.handlerAddNewList=n.handlerAddNewList.bind(Object(x.a)(n)),n.onInputHandler=n.onInputHandler.bind(Object(x.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.globalValue.mounted=!0;var t,a=(t=".add-list__add-btn-run",document.querySelector(t));a&&(this.globalValue.nameRunButton=a.innerText,this.globalValue.bgRunButton=a.style.background),document.addEventListener("keypress",(function(t){var a=M("add-list__input-field1");e.globalValue.mounted&&a===document.activeElement&&"Enter"===t.key&&e.handlerAddNewList()})),document.addEventListener("click",(function(t){e.globalValue.mounted&&function(e,t){for(var a=!0,n=0;n<e.length;n++){var r="."===e[n][0]?document.querySelector(e[n]):document.getElementById(e[n]);r&&r===t&&(a=!1)}return a}([".add-list__add-btn-start",".add-list__edit-container",".add-list__btn-box",".add-list__add-btn-run",".add-list__close-btn","add-list__input-field1"],t.target)&&e.closeFieldInputHandler()}))}},{key:"componentWillUnmount",value:function(){this.globalValue.mounted=!1}},{key:"render",value:function(){var e=this.state,t=e.openInput,a=e.nameList;return Object(U.jsx)("div",{className:"board__add-list-btn",children:Object(U.jsxs)("div",{className:"add-list",children:[Object(U.jsxs)("div",{className:"add-list__edit-container",style:{display:t?"block":"none"},children:[Object(U.jsx)("input",{id:"add-list__input-field1",type:"text",placeholder:"\u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u043f\u0438\u0441\u043a\u0430",autoComplete:"off",onInput:this.onInputHandler,value:a}),Object(U.jsxs)("div",{className:"add-list__btn-box",children:[Object(U.jsx)("button",{className:"add-list__add-btn-run",onClick:this.handlerAddNewList,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(U.jsx)("div",{className:"add-list__close-btn",onClick:this.closeFieldInputHandler})]})]}),Object(U.jsx)("button",{className:"add-list__add-btn-start",onClick:this.buttonHandlerOpenFieldInput,style:{display:t?"none":"inline-block"},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443"})]})})}}]),a}(r.a.Component),he={listAdd:function(e,t,a){return function(){var n=Object(C.a)(m.a.mark((function n(r){var s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:k.LOADING}),r({type:D.ERROR_CLEAR}),n.prev=2,n.next=5,N.post("/board/".concat(e,"/list"),{title:t,position:a});case 5:return s=n.sent,n.abrupt("return","Updated"===s.result);case 9:return n.prev=9,n.t0=n.catch(2),r({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u0430 \u0434\u043e\u0441\u043a\u0443.",n.t0.message]}),n.abrupt("return",!1);case 13:return n.prev=13,r({type:k.LOADING_END}),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,9,13,16]])})));return function(e){return n.apply(this,arguments)}}()}};be.contextType=se;var je=Object(i.b)(null,he)(be),ve=["cardCreate"],Oe=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).mounted=!1,n.inputOnChangeHandler=function(e){n.mounted&&(n.state.statusErrorText&&n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{statusErrorText:!1})})),n.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{nameCard:e.target.value})})))},n.onClickButtonCloseInputField=function(){n.props.handlerClickCloseAddedCard(),n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{statusErrorText:!1})}))},n.onKeyPressInputAddCard=function(e){if("Enter"===e.code&&13===e.charCode){var t=e.target.dataset,a=t.countcards,r=t.idlist;n.addNewCard(r,a)}},n.onClickButtonAddCard=function(e){var t=e.target.dataset,a=t.countcards,r=t.idlist;n.addNewCard(r,a)},n.getInput=function(){return M(n.props.addCardInputId)},n.addNewCard=function(){var e=Object(C.a)(m.a.mark((function e(t,a){var r,s,c,i,o,l,u,p,b,h,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.mounted){e.next=2;break}return e.abrupt("return");case 2:if(r=n.props,s=r.cardCreate,c=Object(ue.a)(r,ve),i=Object.assign({},n.state),o=n.context.boardId,l=R(i.nameCard),u=l.status,p=l.res,b=l.errSymbols,!u){e.next=15;break}return e.next=9,s(o,i.nameCard,+t,+a+1);case 9:return h=n.context.updateBoard,e.next=12,h();case 12:return n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{openInputAddCard:!1,nameCard:""})})),c.handlerClickCloseAddedCard(),e.abrupt("return");case 15:n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{statusErrorText:!0,res:p,errSymbols:b})})),setTimeout((function(){n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{statusErrorText:!1})}))}),2e3),null===(j=n.getInput())||void 0===j||j.focus(),null===j||void 0===j||j.select();case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={nameCard:"",statusErrorText:!1,res:"",errSymbols:"",positionFixed:!0},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.props.addCardInputId,t=document.getElementById(e);null===t||void 0===t||t.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.listId,a=e.countCards,n=e.addCardInputId,r=this.state.nameCard;return Object(U.jsx)("div",{id:"add-card-container-".concat(t),className:"add-card__container",style:{position:"relative"},children:Object(U.jsxs)("div",{className:"add-card__input-box",children:[Object(U.jsx)("div",{className:"textarea-wrapper",children:Object(U.jsx)("textarea",{id:n,className:"add-card__input-field",placeholder:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",value:r,"data-idlist":t,"data-countcards":a,onChange:this.inputOnChangeHandler,onKeyPress:this.onKeyPressInputAddCard,autoComplete:"off",onFocus:function(e){return e.currentTarget.select()}})}),Object(U.jsxs)("div",{id:"btn-add-card-container-".concat(t),className:"add-card__btn-box",children:[Object(U.jsx)("button",{id:"btn-add-card-".concat(t),className:"add-card__add-btn-run","data-idlist":t,"data-countcards":a,onClick:this.onClickButtonAddCard,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 ".concat(a+1)}),Object(U.jsx)("div",{className:"add-card__close-btn",onClick:this.onClickButtonCloseInputField})]}),Object(U.jsx)(ae,Object(d.a)(Object(d.a)({},this.state),{},{parentId:n}))]})})}}]),a}(r.a.Component),fe={cardCreate:function(e,t,a,n){return function(){var r=Object(C.a)(m.a.mark((function r(s){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:k.LOADING}),s({type:D.ERROR_CLEAR}),r.prev=2,r.next=5,N.post("/board/".concat(e,"/card"),{title:t,list_id:a,position:n});case 5:return c=r.sent,r.abrupt("return","Created"===c.result?c.id:void 0);case 9:return r.prev=9,r.t0=r.catch(2),s({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443.",r.t0.message]}),r.abrupt("return",void 0);case 13:return r.prev=13,s({type:k.LOADING_END}),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[2,9,13,16]])})));return function(e){return r.apply(this,arguments)}}()}};Oe.contextType=se;var me=Object(i.b)(null,fe)(Oe),Ce=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onClickOpenAddedCard=function(e){n.setState({openAddCard:e.target.dataset.btnAddCardListId})},n.onClickDeleteList=function(){var e=Object(C.a)(m.a.mark((function e(t){var a,r,s,c,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,r=a.dataset.listId||a.parentElement.dataset.listId,s=n.props.listDelete,c=n.context,i=c.boardId,o=c.updateBoard,e.next=6,s(+i,r);case 6:o();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlerClickCloseAddedCard=function(){n.setState({openAddCard:""})},n.onClickColumn=function(e){e.target.classList.contains("list_wrapper")&&n.setState({openAddCard:""})},n.state={openAddCard:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.lists,n=t.heightContainer,r=t.onMouseDownForList,s=t.onMouseDownForCard,c=t.processMovingList,i=this.context.boardId,o=this.state.openAddCard;return Object(U.jsxs)(U.Fragment,{children:[Object.entries(a).sort((function(e,t){return e[1].position-t[1].position})).map((function(t){var a=Object(z.a)(t,2)[1],i=+o===a.id;return Object(U.jsx)("div",{className:"list_wrapper","data-list-id":a.id,onClick:e.onClickColumn,style:{height:n},onMouseDown:r,children:Object(U.jsxs)("div",{className:"list_detalis",style:{maxHeight:n},children:[Object(U.jsxs)("div",{children:[a.id,", pos: ",a.position]}),Object(U.jsxs)("div",{className:"list_header",children:[Object(U.jsx)(le,{titleList:a.title,listId:a.id,processMovingList:c}),Object(U.jsx)("span",{className:"list__delete-btn","data-list-id":a.id,onClick:e.onClickDeleteList,children:Object(U.jsx)(te.a,{icon:["fas","ellipsis-h"]})})]}),Object(U.jsxs)("div",{className:"list_content","data-list-id":a.id,style:{maxHeight:n-125},children:[Object(U.jsx)(oe,{listId:a.id,cards:a.cards,onMouseDownForCard:s}),i?Object(U.jsx)(me,{listId:"".concat(a.id),countCards:Object.keys(a.cards).length,addCardInputId:"add_card_textarea_".concat(a.id),handlerClickCloseAddedCard:e.handlerClickCloseAddedCard}):null]}),Object(U.jsx)("div",{className:"list_bottom",children:i?null:Object(U.jsx)("button",{id:"btn-list-add-card-".concat(a.id),"data-btn-add-card-list-id":a.id,className:"add-card__add-btn-start",onClick:e.onClickOpenAddedCard,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})})]})},a.id)})),Object(U.jsx)(je,{boardId:i,position:Object.entries(a).length+1})]})}}]),a}(r.a.Component);Ce.contextType=se;var xe=Object(i.b)(null,{listDelete:function(e,t){return function(){var a=Object(C.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:k.LOADING}),n({type:D.ERROR_CLEAR}),a.prev=2,a.next=5,N.delete("/board/".concat(e,"/list/").concat(t));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),n({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441 \u0434\u043e\u0441\u043a\u0438.",a.t0.message]});case 10:return a.prev=10,n({type:k.LOADING_END}),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[2,7,10,13]])})));return function(e){return a.apply(this,arguments)}}()}})(Ce),ge=Object(i.b)(null,{changeBoardTitle:function(e,t){return function(){var a=Object(C.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:k.LOADING}),n({type:D.ERROR_CLEAR}),a.prev=2,a.next=5,N.put("/board/".concat(e),{title:t});case 5:return r=a.sent,a.abrupt("return","Updated"===r.result);case 9:return a.prev=9,a.t0=a.catch(2),n({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443.",a.t0.message]}),a.abrupt("return",!1);case 13:return a.prev=13,n({type:k.LOADING_END}),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[2,9,13,16]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object.assign({},e),a=Object(n.useState)(!1),r=Object(z.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(t.title),o=Object(z.a)(i,2),l=o[0],u=o[1],p=Object(n.useState)(t.title),b=Object(z.a)(p,2),h=b[0],j=b[1],v=Object(n.useState)({statusErrorText:!1,res:"",errSymbols:""}),O=Object(z.a)(v,2),f=O[0],x=O[1],g=Object(n.useRef)(null),A=Object(n.useContext)(se).boardId;Object(n.useEffect)((function(){return g.current=!0,function(){return g.current=!1}}));var y=function(){var e=Object(C.a)(m.a.mark((function e(a){var n,r,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.current){e.next=2;break}return e.abrupt("return");case 2:if(n=R(a),r=n.status,s=n.res,i=n.errSymbols,!r||""!==s||!A){e.next=14;break}return o=t.changeBoardTitle,e.next=7,o(A,a);case 7:if(!e.sent){e.next=14;break}return u(a),j(a),c(!1),x({statusErrorText:!0,res:"",errSymbols:""}),e.abrupt("return");case 14:u(h),c(!1),x({statusErrorText:!0,res:s,errSymbols:i});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"editable-title",style:{position:"relative"},children:[Object(U.jsx)("h2",{className:"title",onClick:function(e){e.preventDefault();var t=e.currentTarget,a=t.clientWidth,n=t.innerText;t.nextSibling.style.width="".concat(a,"px"),setTimeout((function(){t.nextSibling.focus(),t.nextSibling.select()}),0),x({statusErrorText:!1,res:"",errSymbols:""}),u(n),c(!0)},style:{display:s?"none":"block"},children:l}),Object(U.jsx)("input",{id:"input-edit-board-title",className:"input-edit-board-title",type:"text",onInput:function(e){e.preventDefault();var t=e.target,a=t.style,n=t.innerText,r=t.value;a.width="".concat(12*r.length+20,"px"),u(n)},onBlur:function(e){e.preventDefault();var t=e.target.value;y(t)},onKeyPress:function(e){var t=e.code,a=e.target;"Enter"===t&&y(a.value)},defaultValue:l,style:{display:s?"block":"none"},autoComplete:"off"}),f.statusErrorText&&""!==f.res&&Object(U.jsx)(ae,Object(d.a)(Object(d.a)({},f),{},{parentId:"input-edit-board-title"}))]})})),Ae=(a(95),a(32)),ye=(a(96),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).mount=!1,n.handlerChangeTextarea=function(e){e.preventDefault();var t=e.target.value;n.setState({title:t})},n.handlerOnBlurTextarea=function(){n.mount&&n.renameTitle()},n.renameTitle=Object(C.a)(m.a.mark((function e(){var t,a,r,s,c,i,o,d,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.mount){e.next=2;break}return e.abrupt("return");case 2:if(t=n.state,a=t.prevValueTitle,r=t.title,a!==r){e.next=5;break}return e.abrupt("return");case 5:return s=n.props,c=s.boardId,i=s.listId,o=s.cardId,d=s.cardEdit,e.next=8,d(c,i,o,r,"title");case 8:return e.sent?n.setState({prevValueTitle:r}):n.setState({title:a}),l=n.context.updateBoard,e.next=13,l();case 13:case"end":return e.stop()}}),e)})));var r=n.props.title;return n.state={prevValueTitle:r,title:r},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.mount=!0}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.setState=function(){},this.renameTitle()}},{key:"render",value:function(){var e=this.state.title;return Object(U.jsx)(Ae.a,{className:"title-mod",style:{width:672},value:e,onBlur:this.handlerOnBlurTextarea,onInput:this.handlerChangeTextarea})}}]),a}(r.a.Component)),we={cardEdit:ee};ye.contextType=se;var Ie=Object(i.b)(null,we)(ye),ke=(a(97),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).mount=!1,n.handlerChangeTextarea=function(e){e.preventDefault();var t=e.target.value;n.mount&&n.setState({description:t})},n.handlerOnBlurTextarea=function(){n.renameDescription()},n.renameDescription=Object(C.a)(m.a.mark((function e(){var t,a,r,s,c,i,o,d,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.mount){e.next=2;break}return e.abrupt("return");case 2:if(t=n.state,a=t.description,r=t.prevValueDescription,a!==r){e.next=5;break}return e.abrupt("return");case 5:return s=n.props,c=s.listId,i=s.cardId,o=s.cardEdit,d=n.context,l=d.updateBoard,u=d.boardId,e.next=9,o(u,c,i,a,"description");case 9:return e.sent?n.setState({prevValueDescription:a}):n.setState({description:r}),e.next=13,l();case 13:case"end":return e.stop()}}),e)})));var r=n.props.description;return n.state={prevValueDescription:r,description:r},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.mount=!0}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.renameDescription(),this.setState=function(e,t){}}},{key:"render",value:function(){var e=this.state.description;return Object(U.jsx)(Ae.a,{className:"description-card-mod",style:{width:496},value:e,onBlur:this.handlerOnBlurTextarea,onInput:this.handlerChangeTextarea})}}]),a}(r.a.Component)),Ne={cardEdit:ee};ke.contextType=se;var De=Object(i.b)(null,Ne)(ke),Ee=function(){return Object(U.jsx)("span",{className:"icon_svg",children:Object(U.jsx)("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(U.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12Z",fill:"currentColor"})})})},Be=a(23),Se=a.n(Be),Le=(a(98),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.classname;return Object(U.jsxs)("div",{className:Se()("dialog-header",a),children:[Object(U.jsx)("span",{className:"title",children:t}),Object(U.jsx)("span",{className:"close-btn","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",children:Object(U.jsx)(te.a,{icon:["fas","times"]})})]})}}]),a}(r.a.Component)),Re=Le,Te=r.a.createContext({}),_e=function(e,t,a,n,r){return function(){var s=Object(C.a)(m.a.mark((function s(c){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c({type:k.LOADING}),c({type:D.ERROR_CLEAR}),s.prev=2,s.next=5,N.put("/board/".concat(e,"/card/").concat(t,"/users"),{add:n,remove:r});case 5:if("Updated"!==s.sent.result){s.next=9;break}return a(),s.abrupt("return",!0);case 9:s.next=16;break;case 11:return s.prev=11,s.t0=s.catch(2),console.log("edit card error: ",s.t0),c({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438.",s.t0.message]}),s.abrupt("return",!1);case 16:return s.prev=16,c({type:k.LOADING_END}),s.finish(16);case 19:return s.abrupt("return",!1);case 20:case"end":return s.stop()}}),s,null,[[2,11,16,19]])})));return function(e){return s.apply(this,arguments)}}()},Me=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handlerInputOnChange=function(){var e=Object(C.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,n.setState({inputValue:a}),!a){e.next=9;break}return e.next=5,N.get("/user",{params:{emailOrUsername:a}});case 5:r=e.sent,n.setState({usersCard:r}),e.next=10;break;case 9:n.setState({usersCard:[]});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addMemberToCard=function(){var e=Object(C.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.addOrRemoveMemberToCard(t,!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.removeMemberToCard=function(){var e=Object(C.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.addOrRemoveMemberToCard(t,!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addOrRemoveMemberToCard=function(){var e=Object(C.a)(m.a.mark((function e(t,a){var r,s,c,i,o,d,l,u,p,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target,s=r.dataset,c=s.idMember,i=n.props,o=i.boardId,d=i.cardId,l=n.context,u=l.updateBoard,p=a?[+c]:[],b=a?[]:[+c],c&&_e(o,d,u,p,b);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={inputValue:"",usersCard:[]},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props.title,a=this.state,n=a.inputValue,r=a.usersCard,s=this.context.usersCard;return Object(U.jsxs)("div",{className:"dialog-add-members",children:[Object(U.jsx)(Re,{title:t,classname:"add-members-dialog"}),Object(U.jsxs)("div",{className:"dg-pop-over-content",children:[Object(U.jsx)("input",{className:"dg-pop-over-input-search-members",type:"text",placeholder:"\u041d\u0430\u0439\u0442\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u044d\u043b.\u0430\u0434\u0440\u0435\u0441\u0443",value:n,onChange:this.handlerInputOnChange}),Object(U.jsxs)("div",{className:"dg-pop-over-section dg-board-members",children:[Object(U.jsx)("h4",{className:"title",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"}),Object(U.jsx)("div",{className:"loading",children:Object(U.jsx)("ul",{className:"member-list",children:r.map((function(t){return Object(U.jsx)("li",{className:"member-item",children:Object(U.jsxs)("a",{href:"#",title:t.username,onClick:s&&s.includes(t.id)?e.removeMemberToCard:e.addMemberToCard,children:[Object(U.jsx)("span",{className:"hiden-data","data-id-member":t.id}),Object(U.jsxs)("span",{className:"name",children:[t.username," "]}),Object(U.jsxs)("span",{className:"id",children:["(",t.id,")"]}),s&&s.includes(t.id)&&Object(U.jsx)("span",{className:"checked-icon","aria-label":"\u042d\u0442\u043e\u0442 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435",children:Object(U.jsx)(te.a,{icon:["fas","check"]})})]})},t.id)}))})})]})]})]})}}]),a}(r.a.Component);Me.contextType=Te;var Pe=Me,Qe=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handlerJoinMemberOnClick=Object(C.a)(m.a.mark((function e(){var t,a,r,s,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.context,a=t.updateBoard,r=n.props,s=r.boardId,c=r.cardId,i=A(),s&&c&&i&&a&&+i&&_e(s,c,a,[+i],[]);case 4:case"end":return e.stop()}}),e)}))),n.removeUserFromCard=function(){var e=Object(C.a)(m.a.mark((function e(t){var a,r,s,c,i,o,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.props,r=a.boardId,s=a.cardId,c=t.target,i=c.dataset,o=i.userId,d=n.context.updateBoard,r&&s&&o&&d&&_e(r,s,d,[],[+o]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.email,n=e.typeButton,r=e.boardId,s=e.cardId,c=e.id,i=e.confirmationId,o=e.show,d=e.hide,l=i===c;return"add"===n?Object(U.jsxs)("div",{className:"member add",children:[Object(U.jsx)("span",{className:"member-button","data-member-id":c,onClick:o,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",children:"+"}),l&&Object(U.jsx)(Pe,{title:"Hello To Add Members",boardId:r,cardId:s})]}):"join"===n?Object(U.jsx)("div",{className:"member join",children:Object(U.jsx)("span",{className:"member-button","data-member-id":c,onClick:this.handlerJoinMemberOnClick,title:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f",children:"join"})}):Object(U.jsxs)("div",{className:"member",children:[Object(U.jsx)("span",{className:"member-button","data-member-id":c,onClick:o,title:t||c&&"".concat(c)||"",children:t||c}),Object(U.jsxs)("div",{className:"detalis_member ".concat(l?"isShow":""),children:[Object(U.jsx)("button",{className:"close-button",onClick:d,children:Object(U.jsx)(Ee,{})}),Object(U.jsxs)("div",{className:"info_member",children:[Object(U.jsxs)("div",{className:"info",children:[Object(U.jsx)("div",{className:"img_info"}),Object(U.jsxs)("div",{className:"contact_info",children:[Object(U.jsx)("span",{className:"i_name",children:t||c}),a&&Object(U.jsx)("span",{className:"i_email",children:a})]})]}),Object(U.jsx)("ul",{children:Object(U.jsx)("li",{className:"action_with_member_card","data-user-id":c,onClick:this.removeUserFromCard,children:"Remove from card"})})]})]})]})}}]),a}(r.a.Component);Qe.contextType=se;var Ue=Qe,He=(a(99),-0x3f28cb71571c7),Ge=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handlerOnClickWindow=function(e){var t,a,r,s,c,i=null===(t=e.target)||void 0===t?void 0:t.closest(".member-button"),o=null===(a=e.target)||void 0===a?void 0:a.closest(".detalis_member .close-button"),d=null===(r=e.target)||void 0===r?void 0:r.closest(".detalis_member"),l=null===(s=e.target)||void 0===s?void 0:s.closest(".dialog-add-members"),u=null===(c=e.target)||void 0===c?void 0:c.closest(".add-members-dialog .close-btn");(!i&&!d&&!l||o||u)&&n.infoMemberHide()},n.infoMemberShow=function(e){var t=e.target.dataset.memberId;n.setState({isShowInfoMemberId:+t})},n.infoMemberHide=function(){n.setState({isShowInfoMemberId:He})},n.state={isShowInfoMemberId:He,token:A()},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handlerOnClickWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handlerOnClickWindow)}},{key:"render",value:function(){var e=this,t=this.props,a=t.boardId,n=t.card,r=this.state,s=r.isShowInfoMemberId,c=r.token,i=this.context.updateBoard,o=!(!c||!+c)&&n.users.includes(+c),d=n.users.length?n.users:[];return Object(U.jsx)(Te.Provider,{value:{usersCard:d,updateBoard:i},children:Object(U.jsxs)("div",{className:"members-container",children:[n.users.map((function(t){return Object(U.jsx)(Ue,{typeButton:"member",boardId:+a,cardId:n.id,id:t,confirmationId:s,hide:e.infoMemberHide,show:e.infoMemberShow},t)})),Object(U.jsx)(Ue,{typeButton:"add",boardId:+a,cardId:n.id,id:-1,confirmationId:s,hide:this.infoMemberHide,show:this.infoMemberShow}),!o&&Object(U.jsx)(Ue,{typeButton:"join",boardId:+a,cardId:n.id,id:-2,confirmationId:s,hide:this.infoMemberHide,show:this.infoMemberShow})]})})}}]),a}(r.a.Component);Ge.contextType=se;var Fe=Ge,Je=Object(n.createContext)({}),Ve=(a(100),a(101),["data","children","className"]),Ye=function(e){var t=e.data,a=(e.children,e.className),n=Object(ue.a)(e,Ve),r=t.src,s="(\u0442\u0435\u043a\u0443\u0449\u0438\u0439)";if("boards"===t.key){var c,i=null===(c=t.value.boards.find((function(e){return e.id===t.valueId})))||void 0===c?void 0:c.title;return Object(U.jsx)("div",Object(d.a)(Object(d.a)({className:Se()(a,"selection-wrapper")},n),{},{children:Object(U.jsxs)("div",{className:"button",children:[Object(U.jsx)("span",{className:"label",children:"\u0414\u043e\u0441\u043a\u0430"}),Object(U.jsx)("span",{className:"value",children:i}),t.value.boards.length&&Object(U.jsx)("select",{className:"select",defaultValue:t.valueId,children:t.value.boards.map((function(e){return Object(U.jsxs)("option",{value:e.id,children:[e.title," ",e.id," ",r.boardId===e.id?s:""]},e.id)}))})]})}))}if("lists"===t.key){var o,l=null===(o=Object.entries(t.value.lists).find((function(e){return Object(z.a)(e,2)[1].id===t.valueId})))||void 0===o?void 0:o[1];if(l)return Object(U.jsx)("div",Object(d.a)(Object(d.a)({className:Se()(a,"selection-wrapper")},n),{},{children:Object(U.jsxs)("div",{className:"button",children:[Object(U.jsx)("span",{className:"label",children:"\u0421\u043f\u0438\u0441\u043e\u043a"}),Object(U.jsx)("span",{className:"value",children:l.title}),Object(U.jsx)("select",{className:"select",value:t.valueId,onChange:function(){},children:Object.entries(t.value.lists).sort((function(e,t){var a=Object(z.a)(e,2)[1],n=Object(z.a)(t,2)[1];return a.position-n.position})).map((function(e){var t=Object(z.a)(e,2)[1];return Object(U.jsxs)("option",{value:t.id,children:[t.title," *** ",t.id," ",t.id===r.listId&&s]},t.id)}))})]})}))}if("cards"===t.key){var u=t.boardId,p=t.listId,b=t.positionCard,h=t.numberCards,j=r.boardId===u&&r.listId===p,v=new Array(h).fill(1).map((function(e,t){return t+1}));return j||v.push(h+1),Object(U.jsx)("div",Object(d.a)(Object(d.a)({className:Se()(a,"selection-wrapper")},n),{},{children:Object(U.jsxs)("div",{className:"button",children:[Object(U.jsx)("span",{className:"label",children:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"}),Object(U.jsx)("span",{className:"value",children:b}),Object(U.jsx)("select",{className:"select",value:b,onChange:function(){},children:v.map((function(e){return Object(U.jsxs)("option",{value:e,children:[e," ",e===b&&j&&s]},e)}))})]})}))}return Object(U.jsx)("div",{})},ze=a(25),qe=a.n(ze),Ke=["appearance","circle","simpleButton","awesomeIconProp","children","className"],Xe=function(e){var t,a=e.appearance,n=void 0===a?"grey":a,r=e.circle,s=e.simpleButton,c=e.awesomeIconProp,i=e.children,o=e.className,l=Object(ue.a)(e,Ke);return Object(U.jsxs)("button",Object(d.a)(Object(d.a)({className:Se()(qe.a.button,o,(t={},Object(Y.a)(t,qe.a.simpleButton,s),Object(Y.a)(t,qe.a.grey,"grey"===n),Object(Y.a)(t,qe.a.blue,"blue"===n),Object(Y.a)(t,qe.a.brown,"brown"===n),Object(Y.a)(t,qe.a.circle,r),t))},l),{},{children:[c&&Object(U.jsx)("span",{className:Se()(qe.a.icon),children:Object(U.jsx)(te.a,{icon:c})}),i]}))},We=function(e){var t=e.card,a=e.srcList,n=e.srcData,r=e.positionCard,s=[],c=Object(d.a)({},n.lists[a].cards),i=Object.entries(c).sort((function(e,t){return e[1].position-t[1].position})),o=i.splice(c[t].position-1,1);return i.splice(r-1,0,o[0]),i.forEach((function(e,t){var n=Object(z.a)(e,2)[1];n.position!==t+1&&s.push({id:n.id,position:t+1,list_id:a})})),s},Ze=function(e){var t=e.card,a=e.srcList,n=e.srcData,r=e.destList,s=e.positionCard,c=[],i=Object(d.a)({},n.lists[a].cards),o=Object.entries(i).sort((function(e,t){return e[1].position-t[1].position})).splice(i[t].position-1,1);delete i[t],Object.entries(i).sort((function(e,t){return e[1].position-t[1].position})).forEach((function(e,t){var n=Object(z.a)(e,2)[1];n.position!==t+1&&c.push({id:n.id,position:t+1,list_id:a})}));var l=Object(d.a)({},n.lists[r].cards),u=Object.entries(l).sort((function(e,t){return e[1].position-t[1].position}));u.splice(s-1,0,o[0]),u.forEach((function(e,t){var a=Object(z.a)(e,2)[1];(a.position!==t+1||a.position===t+1&&t+1===o[0][1].position)&&c.push({id:a.id,position:t+1,list_id:r})}));var p=Object.assign({},o[0][1]);return l[p.id]=p,c},$e=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).getBoardsList=Object(C.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/board");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.getBoardData=function(){var e=Object(C.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/board/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error update data: ",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.handlerOnChangeSelectBoard=function(){var e=Object(C.a)(m.a.mark((function e(t){var a,r,s,c,i,o,l,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=+t.target.value,e.next=3,n.getBoardData(a);case 3:if(!(r=e.sent)){e.next=13;break}if(i=n.props.src,o=null===(s=Object.entries(r.lists).find((function(e){return 1===Object(z.a)(e,2)[1].position})))||void 0===s?void 0:s[1]){e.next=9;break}return e.abrupt("return");case 9:l=Object.entries(o.cards).sort((function(e,t){var a=Object(z.a)(e,2)[1],n=Object(z.a)(t,2)[1];return a.position-n.position})),u=null===(c=l.find((function(e){return Object(z.a)(e,2)[1].id===i.cardId})))||void 0===c?void 0:c[1],p=u?i.positionCard:l.length+1,n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{boardId:a,listId:o.id,positionCard:p,boardData:r})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlerOnChangeSelectList=function(e){var t,a=+e.target.value,r=n.props.src,s=n.state.boardData.lists[a],c=Object.entries(s.cards).sort((function(e,t){var a=Object(z.a)(e,2)[1],n=Object(z.a)(t,2)[1];return a.position-n.position})),i=(null===(t=c.find((function(e){return Object(z.a)(e,2)[1].id===r.cardId})))||void 0===t?void 0:t[1])?r.positionCard:c.length+1;n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{listId:a,positionCard:i})}))},n.handlerOnChangeSelectCard=function(e){var t=+e.target.value;n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{positionCard:t})}))},n.handlerMoveCard=Object(C.a)(m.a.mark((function e(){var t,a,r,s,c,i,o,l,u,p,b,h,j,v,O,f,C;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.src,r=t.closePopup,s=n.state,c=s.boardId,i=s.listId,o=s.boardData,l=s.positionCard,a.boardId!==c||a.listId!==i||a.positionCard!==l){e.next=4;break}return e.abrupt("return");case 4:if(u=n.props.moveCards,p=n.context.updateBoard,a.listId!==i){e.next=15;break}return b=We({card:a.cardId,srcList:a.listId,srcData:a.boardData,positionCard:l}),e.next=10,u(a.boardId,b);case 10:return e.next=12,p();case 12:r(),e.next=34;break;case 15:if(a.boardId!==c){e.next=24;break}return h=Ze({card:a.cardId,srcList:a.listId,srcData:a.boardData,destList:i,positionCard:l}),e.next=19,u(a.boardId,h);case 19:return e.next=21,p();case 21:r(),e.next=34;break;case 24:return j=n.props,v=j.deleteCrd,O=j.createCrd,j.editCrd,f=j.closeCardDialog,C=Object(d.a)({},a.boardData.lists[a.listId].cards[a.cardId]),e.next=28,v(a.boardId,a.cardId,a.boardData.lists[a.listId]);case 28:return e.next=30,O(c,o.lists[i],l,C.title);case 30:return e.sent,e.next=33,p();case 33:f();case 34:case"end":return e.stop()}}),e)})));var r=n.props.src;return n.state={boardId:r.boardId,listId:r.listId,positionCard:r.positionCard,boardsList:null,boardData:r.boardData},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBoardsList();case 2:(t=e.sent)&&this.setState({boardsList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.src,t=this.state,a=t.boardId,n=t.listId,r=t.positionCard,s=t.boardsList,c=t.boardData;return s&&c?Object(U.jsxs)("div",{className:"popup-card-dialog",children:[Object(U.jsx)(Re,{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",classname:"moveCardInTitleCardBox"}),Object(U.jsx)("h5",{className:"label-selections-box",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0443"}),Object(U.jsx)(Ye,{onChange:this.handlerOnChangeSelectBoard,className:"section-select-board",data:{key:"boards",src:e,valueId:a,value:s}}),Object(U.jsxs)("div",{className:"box-sections-select-list-and-card",children:[Object(U.jsx)(Ye,{onChange:this.handlerOnChangeSelectList,className:"section-select-list",data:{key:"lists",src:e,valueId:n,value:c}}),Object(U.jsx)(Ye,{onChange:this.handlerOnChangeSelectCard,className:"section-select-card",data:{key:"cards",src:e,boardId:a,listId:n,positionCard:r,numberCards:Object.keys(c.lists[n].cards).length}})]}),Object(U.jsx)(Xe,{appearance:"blue",onClick:this.handlerMoveCard,className:"button-move-card",children:"Move"})]}):null}}]),a}(n.Component),et={deleteCrd:Z,createCrd:X,editCrd:ee,moveCards:$,update:q};$e.contextType=se;var tt=Object(i.b)(null,et)($e),at=(a(102),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).getBoardsList=Object(C.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/board");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.getBoardData=function(){var e=Object(C.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/board/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error update data: ",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.handlerOnChangeSelectBoard=function(){var e=Object(C.a)(m.a.mark((function e(t){var a,r,s,c,i,o,l,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=+t.target.value,e.next=3,n.getBoardData(a);case 3:if(!(r=e.sent)){e.next=13;break}if(i=n.props.src,o=null===(s=Object.entries(r.lists).find((function(e){return 1===Object(z.a)(e,2)[1].position})))||void 0===s?void 0:s[1]){e.next=9;break}return e.abrupt("return");case 9:l=Object.entries(o.cards).sort((function(e,t){var a=Object(z.a)(e,2)[1],n=Object(z.a)(t,2)[1];return a.position-n.position})),u=null===(c=l.find((function(e){return Object(z.a)(e,2)[1].id===i.cardId})))||void 0===c?void 0:c[1],p=u?i.positionCard:l.length+1,n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{boardId:a,listId:o.id,positionCard:p,boardData:r})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlerOnChangeSelectList=function(e){var t,a=+e.target.value,r=n.props.src,s=n.state.boardData.lists[a],c=Object.entries(s.cards).sort((function(e,t){var a=Object(z.a)(e,2)[1],n=Object(z.a)(t,2)[1];return a.position-n.position})),i=(null===(t=c.find((function(e){return Object(z.a)(e,2)[1].id===r.cardId})))||void 0===t?void 0:t[1])?r.positionCard:c.length+1;n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{listId:a,positionCard:i})}))},n.handlerOnChangeSelectCard=function(e){var t=+e.target.value;n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{positionCard:t})}))},n.handlerCopyCard=function(){n.copyCard()},n.copyCard=Object(C.a)(m.a.mark((function e(){var t,a,r,s,c,i,o,d,l,u,p,b,h,j,v,O,f,C;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.src,r=t.createCrd,s=t.editCrd,c=t.copyMembersInCard,i=t.closePopup,o=n.state,d=o.boardId,l=o.listId,u=o.boardData,p=o.positionCard,b=o.titleCard,h=o.copyDescription,j=o.copyMembers,v=n.context.updateBoard,e.next=5,r(d,u.lists[l],p,b);case 5:if(O=e.sent,console.log("I am here? 1"),!O){e.next=25;break}if(f=!0,console.log("I am here? 2"),C=a.boardData.lists[a.listId].cards[a.cardId],console.log("I am here? 2.1 ",C),v(),i(),!h){e.next=18;break}return e.next=17,s(d,l,O,C.description,"description");case 17:f=e.sent;case 18:if(console.log("I am here? 3"),!j){e.next=23;break}return e.next=22,c(d,O,v,C.users,[]);case 22:f=e.sent;case 23:f&&(v(),i()),console.log("I am here? 4");case 25:case"end":return e.stop()}}),e)})));var r=n.props.src;return n.state={boardId:r.boardId,listId:r.listId,positionCard:r.positionCard,boardsList:null,boardData:r.boardData,titleCard:r.boardData.lists[r.listId].cards[r.cardId].title,copyDescription:!0,copyMembers:!0},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBoardsList();case 2:(t=e.sent)&&this.setState({boardsList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.src,a=this.state,n=a.boardId,r=a.listId,s=a.positionCard,c=a.boardsList,i=a.boardData,o=a.titleCard,d=a.copyDescription,l=a.copyMembers;t.boardData.lists[t.listId].cards[t.cardId];return c&&i?Object(U.jsxs)("div",{className:"popup-card-dialog",children:[Object(U.jsx)(Re,{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",classname:"moveCardInTitleCardBox"}),Object(U.jsx)("h5",{className:"label-selections-box",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(U.jsx)("textarea",{className:"copy-name-card-textarea",onChange:function(t){e.setState({titleCard:t.target.value})},defaultValue:o}),Object(U.jsx)("h5",{className:"label-selections-box",children:"\u0422\u0430\u043a\u0436\u0435 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c..."}),Object(U.jsxs)("div",{className:"check-div",children:[Object(U.jsx)("input",{type:"checkbox",id:"idKeepDescription",checked:d,onChange:function(){e.setState({copyDescription:!d})}}),Object(U.jsx)("label",{htmlFor:"idKeepDescription",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]}),Object(U.jsxs)("div",{className:"check-div",children:[Object(U.jsx)("input",{type:"checkbox",id:"idKeepMembers",checked:l,onChange:function(){e.setState({copyMembers:!l})}}),Object(U.jsx)("label",{htmlFor:"idKeepMembers",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"})]}),Object(U.jsx)("h5",{className:"label-selections-box",children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432..."}),Object(U.jsx)(Ye,{onChange:this.handlerOnChangeSelectBoard,className:"section-select-board",data:{key:"boards",src:t,valueId:n,value:c}}),Object(U.jsxs)("div",{className:"box-sections-select-list-and-card",children:[Object(U.jsx)(Ye,{onChange:this.handlerOnChangeSelectList,className:"section-select-list",data:{key:"lists",src:t,valueId:r,value:i}}),Object(U.jsx)(Ye,{onChange:this.handlerOnChangeSelectCard,className:"section-select-card",data:{key:"cards",src:t,boardId:n,listId:r,positionCard:s,numberCards:Object.keys(i.lists[r].cards).length}})]}),Object(U.jsx)(Xe,{appearance:"blue",onClick:this.handlerCopyCard,className:"button-move-card",children:"Copy"})]}):null}}]),a}(n.Component)),nt={createCrd:X,editCrd:ee,copyMembersInCard:_e};at.contextType=se;var rt=Object(i.b)(null,nt)(at),st=(a(103),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handlerDeleteCard=Object(C.a)(m.a.mark((function t(){var a,n,r,s,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.src,r=a.closePopup,s=a.deleteCrd,c=a.closeCardDialog,i=e.context.updateBoard,t.next=4,s(n.boardId,n.cardId,n.boardData.lists[n.listId]);case 4:t.sent&&(i(),r(),c());case 6:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(a,[{key:"render",value:function(){return Object(U.jsxs)("div",{className:"popup-card-dialog",children:[Object(U.jsx)(Re,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",classname:"deleteCardInTitleCardBox"}),Object(U.jsx)("p",{className:"label-warning",children:"\u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 \u043b\u0435\u043d\u0442\u044b, \u0438 \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443. \u041e\u0442\u043c\u0435\u043d\u0430 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430."}),Object(U.jsx)(Xe,{appearance:"brown",onClick:this.handlerDeleteCard,className:"button-delete-card",children:"Delete card"})]})}}]),a}(n.Component)),ct={deleteCrd:Z};st.contextType=se;var it=Object(i.b)(null,ct)(st),ot=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).mount=!1,n.setLocation=function(e){var t=window,a=t.history,n=t.location;try{return void a.pushState(null,"",e)}catch(r){console.error(r)}n.hash="#".concat(e)},n.handlerOnClickClose=function(e){var t=e.target;t.closest(".card-dialog__wrapper")||n.closedCardDialog();var a=n.state,r=a.showDialogMoveCardInTitleBox,s=a.showDialogCopyCardInSidebar,c=a.showDialogMoveToCardInSidebar,i=a.showDialogArchiveCardInSidebar,o=!t.closest(".popup-card-dialog")||t.closest(".close-btn");r&&o&&n.closeDialogMoveCardInTitleBox(),s&&o&&n.closeDialogCopyCardInSidebar(),c&&o&&n.closeDialogMoveToCardInSidebar(),i&&o&&(n.closeDialogArchiveCardInSidebar(),n.setState({showDialogArchiveCardInSidebar:!1}))},n.closedCardDialog=function(){(0,n.props.closeDetalisCard)()},n.handlerTitleColumnName=function(){n.setState({showDialogMoveCardInTitleBox:!0})},n.closeDialogMoveCardInTitleBox=function(){n.setState({showDialogMoveCardInTitleBox:!1})},n.closeDialogCopyCardInSidebar=function(){n.setState({showDialogCopyCardInSidebar:!1})},n.closeDialogMoveToCardInSidebar=function(){n.setState({showDialogMoveToCardInSidebar:!1})},n.closeDialogArchiveCardInSidebar=function(){n.setState({showDialogArchiveCardInSidebar:!1})},n.handlerButtonSidebarActionToCard=function(e){var t,a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.id;"sdb-copy-card"===a&&n.setState({showDialogCopyCardInSidebar:!0}),"sdb-move-card"===a&&n.setState({showDialogMoveToCardInSidebar:!0}),"sdb-archive-card"===a&&n.setState({showDialogArchiveCardInSidebar:!0})},n.state={showDialogMoveCardInTitleBox:!1,showDialogCopyCardInSidebar:!1,showDialogMoveToCardInSidebar:!1,showDialogArchiveCardInSidebar:!1},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.mount=!0;var e=this.props.cardId,t=this.context.boardId;this.setLocation("/b/".concat(t,"/c/").concat(e))}},{key:"componentWillUnmount",value:function(){this.mount=!1;var e=this.context.boardId;this.setLocation("/board/".concat(e))}},{key:"render",value:function(){var e,t=this.props,a=t.cardId,n=t.board,r=this.state,s=r.showDialogMoveCardInTitleBox,c=r.showDialogCopyCardInSidebar,i=r.showDialogMoveToCardInSidebar,o=r.showDialogArchiveCardInSidebar,l=this.context.boardId,u=null===(e=Object.entries(n.lists).find((function(e){var t=Object(z.a)(e,2)[1];return a in t.cards})))||void 0===e?void 0:e[1];if(!u)return null;var p=u.cards[a],b={src:{cardId:a,positionCard:p.position,listId:u.id,boardId:l,boardData:n}};return Object(U.jsx)(Je.Provider,{value:{updateBoard:function(){var e=Object(C.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},children:Object(U.jsx)("div",{className:"card-dialog",onClick:this.handlerOnClickClose,children:Object(U.jsxs)("div",{className:"card-dialog__wrapper",children:[Object(U.jsx)("button",{className:"card-dialog__close-dialog",onClick:this.closedCardDialog,children:Object(U.jsx)(te.a,{icon:["fas","times"]})}),Object(U.jsxs)("div",{className:"card-dialog__header",children:[Object(U.jsxs)("div",{className:"title-box",children:[Object(U.jsx)("div",{className:"icon",children:Object(U.jsx)(te.a,{icon:["fas","credit-card"]})}),Object(U.jsx)(Ie,{title:p.title,boardId:l,listId:u.id,cardId:a})]}),Object(U.jsx)("div",{className:"title-column-name-box",children:Object(U.jsxs)("div",{className:"tlt-col-name",children:["in the column"," ",Object(U.jsxs)("a",{href:"#",onClick:this.handlerTitleColumnName,children:[Object(U.jsx)("span",{className:"tlt-col-name-title",children:u.title}),s&&Object(U.jsx)(tt,Object(d.a)(Object(d.a)({},b),{},{closeCardDialog:this.closedCardDialog,closePopup:this.closeDialogMoveCardInTitleBox}))]})]})})]}),Object(U.jsxs)("div",{className:"card-dialog__content",children:[Object(U.jsxs)("div",{className:"card-dialog__information",children:[Object(U.jsxs)("span",{className:"title-content information",children:[Object(U.jsx)("span",{className:"icon",children:Object(U.jsx)(te.a,{icon:["fas","user"]})}),Object(U.jsx)("h3",{className:"title",children:"Members"})]}),Object(U.jsx)("div",{className:"card-dialog_members",children:Object(U.jsx)(Fe,{boardId:"".concat(l),card:p,boardUsers:n.users})}),Object(U.jsxs)("div",{className:"card-dialog_description",children:[Object(U.jsxs)("div",{className:"title-box",children:[Object(U.jsx)("div",{className:"icon",children:Object(U.jsx)(te.a,{icon:["fas","bars"]})}),Object(U.jsx)("h3",{className:"title",children:"Description"})]}),Object(U.jsx)(De,{listId:u.id,cardId:a,description:p.description})]})]}),Object(U.jsxs)("div",{className:"card-dialog__sidebar",children:[Object(U.jsxs)("span",{className:"title-content sidebar",children:[Object(U.jsx)("span",{className:"icon",children:Object(U.jsx)(te.a,{icon:["fas","cogs"]})}),Object(U.jsx)("h3",{className:"title",children:"Action to card"})]}),Object(U.jsxs)("ul",{className:"list-actions-to-card",children:[Object(U.jsxs)("li",{className:"button-element",children:[Object(U.jsx)(Xe,{id:"sdb-copy-card",appearance:"grey",awesomeIconProp:["fas","copy"],className:"button",onClick:this.handlerButtonSidebarActionToCard,children:"Copy"}),c&&Object(U.jsx)(rt,Object(d.a)(Object(d.a)({},b),{},{closeCardDialog:this.closedCardDialog,closePopup:this.closeDialogCopyCardInSidebar}))]}),Object(U.jsxs)("li",{className:"button-element",children:[Object(U.jsx)(Xe,{id:"sdb-move-card",appearance:"grey",awesomeIconProp:["fas","exchange-alt"],className:"button",onClick:this.handlerButtonSidebarActionToCard,children:"Move to"}),i&&Object(U.jsx)(tt,Object(d.a)(Object(d.a)({},b),{},{closeCardDialog:this.closedCardDialog,closePopup:this.closeDialogMoveToCardInSidebar}))]}),Object(U.jsxs)("li",{className:"button-element",children:[Object(U.jsx)(Xe,{id:"sdb-archive-card",appearance:"grey",awesomeIconProp:["fas","box"],className:"button",onClick:this.handlerButtonSidebarActionToCard,children:"Archive"}),o&&Object(U.jsx)(it,Object(d.a)(Object(d.a)({},b),{},{closeCardDialog:this.closedCardDialog,closePopup:this.closeDialogArchiveCardInSidebar}))]})]})]})]})]})})})}}]),a}(r.a.Component);ot.contextType=Je,ot.contextType=se;var dt,lt=Object(u.e)(ot),ut=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).mount=!1,n.updateBoard=Object(C.a)(m.a.mark((function e(){var t,a,r,s,c,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.mount){e.next=2;break}return e.abrupt("return");case 2:return t=n.props,a=t.updBoard,r=t.match,s=r.params,c=s.boardId,e.next=7,a(c);case 7:if(i=n.props.boardContent){e.next=10;break}return e.abrupt("return");case 10:if(o=i.lists){e.next=13;break}return e.abrupt("return");case 13:n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{dataLists:o})}));case 14:case"end":return e.stop()}}),e)}))),n.onMouseDownForCard=function(e){var t;e.preventDefault();var a=e.clientX,r=e.clientY,s=e.currentTarget;s.ondragstart=function(){return!1};var c=a-s.getBoundingClientRect().left,i=r-s.getBoundingClientRect().top,o=document.createElement("A");o.classList.add("card_item"),o.classList.add("placeholder"),n.setState({movingCard:{indexSourceList:+(null===(t=s.parentElement)||void 0===t?void 0:t.getAttribute("data-list-id")),indexCard:+s.getAttribute("data-card-id")},shiftForCard:{x:c,y:i},cardActive:s,placeholder:o,doAddPlaceholder:!0}),document.addEventListener("mousemove",n.moveCard)},n.moveCard=function(e){var t,a;n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{processMovingCard:!0})}));var r=n.state,s=r.shiftForCard,c=r.cardActive,i=r.placeholder;if(c&&i){var o,l=e.pageX,u=e.pageY,p=e.clientX,b=e.clientY,h=c.clientWidth,j=c.clientHeight;if(c.style.width="".concat(h,"px"),c.style.height="".concat(j,"px"),c.style.left="".concat(l-s.x,"px"),c.style.top="".concat(u-s.y,"px"),c.classList.add("card_move"),i.style.width="".concat(h,"px"),i.style.height="".concat(j,"px"),n.state.doAddPlaceholder)null===(o=c.parentElement)||void 0===o||o.insertBefore(i,c),n.setState({doAddPlaceholder:!1});c.style.display="none";var v=null===(t=document.elementFromPoint(p,b))||void 0===t?void 0:t.closest(".list_wrapper"),O=null===v||void 0===v?void 0:v.getElementsByClassName("list_content")[0],f=null===(a=document.elementFromPoint(p,b))||void 0===a?void 0:a.closest(".card_item");c.style.display="block";var m=function(e){var t=[];[].forEach.call(e,(function(e){e.classList.contains("card_move")||t.push(e)}));for(var a=0;a<t.length;a++)t[a].classList.contains("placeholder")&&n.setState({indexNewPositionActiveElement:a})};if(v&&O){var C=O.getBoundingClientRect(),x=C.top,g=C.bottom;if(u<x&&(O.insertBefore(i,O.firstChild),m(O.children)),u>g&&(O.appendChild(i),m(O.children)),u>x&&u<g){if(!f)return;var A=f;if(!A)return;var y=f.getBoundingClientRect(),w=y.top;u<w+(y.bottom-w)/2?(O.insertBefore(i,A),m(O.children)):(O.insertBefore(i,A.nextSibling),m(O.children))}}}},n.mouseUpForCard=function(){var e,t=n.state,a=t.cardActive,r=t.placeholder,s=t.dataLists,c=t.movingCard,i=t.indexNewPositionActiveElement;if(a&&r&&s&&c){a.classList.remove("card_move"),a.style.top="0",a.style.left="0",a.style.width="auto",a.style.height="auto";var o=c.indexSourceList,l=c.indexCard;if(r.parentElement){var u=r.parentElement.getAttribute("data-list-id");if(u)if(+u){var p=[];if(o===+u){var b=function(e){var t=Object.assign({},e),a=t.idCard,n=t.indexSourceList,r=t.newPosition,s=t.dataLists,c=[],i=s[n],o=Object(d.a)({},i.cards),l=Object.entries(o).sort((function(e,t){return e[1].position-t[1].position})),u=l.splice(o[a].position-1,1);return l.splice(r,0,u[0]),l.forEach((function(e,t){var a=Object(z.a)(e,2)[1];a.position!==t+1&&(a.position=t+1,c.push({id:a.id,position:a.position,list_id:n}))})),{newCardPosition:c,dataForState:{sourceList:i,sourceCards:o,destinationList:i,destinationCards:o}}}({idCard:l,indexSourceList:o,newPosition:i,dataLists:s});p=b.newCardPosition;var h=b.dataForState,j=h.sourceList,v=h.sourceCards;n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{dataLists:Object(d.a)(Object(d.a)({},e.dataLists),{},Object(Y.a)({},j.id,Object(d.a)(Object(d.a)({},j),{},{cards:v})))})}))}else{var O=function(e){var t=Object.assign({},e),a=t.idCard,n=t.indexSourceList,r=t.indexDestintaionList,s=t.newPosition,c=t.dataLists,i=[],o=c[n],l=Object(d.a)({},o.cards),u=l[a];delete l[a],Object.entries(l).sort((function(e,t){return e[1].position-t[1].position})).forEach((function(e,t){var a=Object(z.a)(e,2)[1];a.position!==t+1&&(a.position=t+1,i.push({id:a.id,position:a.position,list_id:n}))}));var p=c[+r],b=Object(d.a)({},p.cards),h=Object.entries(b).sort((function(e,t){return e[1].position-t[1].position}));return h.splice(s,0,["".concat(u.id),u]),h.forEach((function(e,t){var a=Object(z.a)(e,2)[1];(a.position!==t+1||a.position===t+1&&t+1===u.position)&&(a.position=t+1,i.push({id:a.id,position:a.position,list_id:+r}))})),b[u.id]=u,{newCardPosition:i,dataForState:{sourceList:o,sourceCards:l,destinationList:p,destinationCards:b}}}({idCard:l,indexSourceList:o,indexDestintaionList:+u,newPosition:i,dataLists:s});p=O.newCardPosition;var f=O.dataForState,m=f.sourceList,C=f.sourceCards,x=f.destinationList,g=f.destinationCards;n.setState((function(e){var t;return Object(d.a)(Object(d.a)({},e),{},{placeholder:null,dataLists:Object(d.a)(Object(d.a)({},e.dataLists),{},(t={},Object(Y.a)(t,m.id,Object(d.a)(Object(d.a)({},m),{},{cards:C})),Object(Y.a)(t,+u,Object(d.a)(Object(d.a)({},x),{},{cards:g})),t))})}))}null===(e=r.parentNode)||void 0===e||e.removeChild(r);var A=n.props,y=A.match;(0,A.cardsMoved)(+y.params.boardId,p)}}}},n.onMouseDownForList=function(e){var t=e.clientX,a=e.clientY,r=e.target,s=e.currentTarget,c=s.querySelector(".list_header");if(r.closest(".list_header")===c&&!s.querySelector(".editable-list-textarea").classList.contains("focus")){var i=t-s.getBoundingClientRect().left,o=a-s.getBoundingClientRect().top,d=document.createElement("DIV");d.classList.add("list_wrapper"),d.classList.add("placeholder_list"),n.setState({shiftForList:{x:i,y:o},listActive:s,placeholder:d,doAddPlaceholder:!0,movingListId:+s.getAttribute("data-list-id")}),document.addEventListener("mousemove",n.moveList)}},n.moveList=function(e){var t;n.setState({processMovingList:!0});var a=n.state,r=a.shiftForList,s=a.listActive,c=a.placeholder;if(s&&c){var i,o=e.pageX,d=e.pageY,l=e.clientX,u=e.clientY,p=s.clientWidth,b=s.clientHeight;if(s.style.width="".concat(p,"px"),s.style.height="".concat(b,"px"),s.style.left="".concat(o-r.x,"px"),s.style.top="".concat(d-r.y,"px"),s.classList.add("list_move"),s.style.height="auto",n.state.doAddPlaceholder)null===(i=s.parentElement)||void 0===i||i.insertBefore(c,s),n.setState({doAddPlaceholder:!1});s.style.display="none";var h=null===(t=document.elementFromPoint(l,u))||void 0===t?void 0:t.closest(".list_wrapper");if(s.style.display="block",h){var j=h.parentElement;if(j){var v=function(e){var t=[];[].forEach.call(e,(function(e){e.classList.contains("list_wrapper")&&!e.classList.contains("list_move")&&t.push(e)}));for(var a=0;a<t.length;a++)t[a].classList.contains("placeholder_list")&&n.setState({indexNewPositionActiveElement:a})},O=h.getBoundingClientRect(),f=O.left,m=O.right,C=f+(m-f)/2;o>C&&o<=m&&(j.insertBefore(c,h),v(j.children)),o<C&&o>=f&&(j.insertBefore(c,h.nextSibling),v(j.children))}}}},n.mouseUpForList=function(){var e,t=n.state,a=t.processMovingList,r=t.listActive,s=t.placeholder,c=t.dataLists,i=t.movingListId,o=t.indexNewPositionActiveElement;if(a&&r&&s&&c&&i){r.classList.remove("list_move"),null===(e=s.parentNode)||void 0===e||e.removeChild(s);var l=function(e){var t=Object.assign({},e),a=t.movingListId,n=t.indexNewPositionActiveElement,r=t.dataLists,s=[],c=Object(d.a)({},r),i=Object.entries(c).sort((function(e,t){return e[1].position-t[1].position})),o=i.splice(c[a].position-1,1);return i.splice(n,0,o[0]),i.forEach((function(e,t){var a=Object(z.a)(e,2)[1];a.position!==t+1&&(a.position=t+1,s.push({id:a.id,position:a.position}))})),{newListsPosition:s,dataForState:{lists:c}}}({movingListId:i,indexNewPositionActiveElement:o,dataLists:c}),u=l.newListsPosition,p=l.dataForState.lists;n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{dataLists:p,listActive:null,placeholder:null})})),setTimeout((function(){n.setState({processMovingList:!1})}),100);var b=n.props,h=b.match;(0,b.listsMoved)(+h.params.boardId,u)}},n.handlerOpenDetatisCard=function(e){if(n.state.processMovingCard)n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{processMovingCard:!1})}));else if(!e.target.closest(".card__open-card-editor-btn")){var t=e.currentTarget.dataset.cardId;n.showDetalisCard(+t)}},n.showDetalisCard=function(e){n.props.boardContent&&n.setState({openDetailEditCard:!0,dataDetailEditCard:{cardId:e}})},n.closeDetalisCard=function(){n.setState({openDetailEditCard:!1,dataDetailEditCard:{cardId:-1}})},n.state={processMovingList:!1,processMovingCard:!1,heightContainer:0,shiftForCard:{x:0,y:0},shiftForList:{x:0,y:0},cardActive:null,listActive:null,placeholder:null,dataLists:null,doAddPlaceholder:!1,indexNewPositionActiveElement:0,movingCard:null,movingListId:-1,openDetailEditCard:!1,dataDetailEditCard:{cardId:-1}},n.onMouseDownForCard=n.onMouseDownForCard.bind(Object(x.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(m.a.mark((function e(){var t,a,n,r,s,c,i,o,l,u=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mount=!0,e.next=3,this.updateBoard();case 3:a=window.innerHeight,n=null===(t=document.getElementById("dnd_container"))||void 0===t?void 0:t.getBoundingClientRect().top,r=a-(n||0),this.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{heightContainer:r})})),s=this.props.match,i=(c=s).params,o=c.path,"/b/:"===o.slice(0,4)&&(l=i.cardId,this.showDetalisCard(+l)),document.addEventListener("keyup",(function(e){var t=e.key,a=e.keyCode;u.state.openDetailEditCard&&"Escape"===t&&27===a&&u.closeDetalisCard()})),document.addEventListener("mouseup",(function(){var e=u.state,t=e.cardActive,a=e.listActive;t&&(document.removeEventListener("mousemove",u.moveCard),u.mouseUpForCard()),a&&(document.removeEventListener("mousemove",u.moveList),u.mouseUpForList())}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mount=!1}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.boardContent;if(!a)return null;var n=t.params.boardId,r=a.title,s=this.state,c=s.heightContainer,i=s.dataLists,o=s.processMovingList,d=s.openDetailEditCard,l=s.dataDetailEditCard;return i?Object(U.jsx)(se.Provider,{value:{updateBoard:this.updateBoard,boardId:+n,boardUsers:a.users,handlerOpenDetatisCard:this.handlerOpenDetatisCard,boardData:a},children:Object(U.jsxs)("div",{className:"DnD",children:[d&&Object(U.jsx)(lt,{board:a,cardId:l.cardId,closeDetalisCard:this.closeDetalisCard}),Object(U.jsx)("div",{className:"board-header",children:Object(U.jsxs)("h2",{className:"title-board",children:["(",n,")",Object(U.jsx)(ge,{title:r})]})}),Object(U.jsx)("div",{id:"dnd_container",children:Object(U.jsx)(xe,{lists:i,heightContainer:c,onMouseDownForCard:this.onMouseDownForCard,onMouseDownForList:this.onMouseDownForList,processMovingList:o})})]})}):null}}]),a}(r.a.Component),pt={updBoard:q,listsMoved:function(e,t){return function(){var a=Object(C.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:k.LOADING}),n({type:D.ERROR_CLEAR}),a.prev=2,a.next=5,N.put("/board/".concat(e,"/list"),t);case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),n({type:D.ERROR,payload:["\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043a\u0438.",a.t0.message]});case 10:return a.prev=10,n({type:k.LOADING_END}),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[2,7,10,13]])})));return function(e){return a.apply(this,arguments)}}()},cardsMoved:$},bt=Object(i.b)((function(e){return Object(d.a)({},e.board)}),pt)(Object(u.e)(ut)),ht=a(49),jt=function(e){var t=Object.assign({},e);return Object(U.jsxs)("svg",Object(d.a)(Object(d.a)({xmlns:"http://www.w3.org/2000/svg",version:"1.0",width:"64px",height:"64px",viewBox:"0 0 128 128",xmlSpace:"preserve"},t),{},{children:[Object(U.jsx)("script",{type:"text/ecmascript"}),Object(U.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%"}),Object(U.jsxs)("g",{children:[Object(U.jsx)("circle",{cx:"16",cy:"64",r:"16"}),Object(U.jsx)("circle",{cx:"16",cy:"64",r:"14.344",transform:"rotate(45 64 64)"}),Object(U.jsx)("circle",{cx:"16",cy:"64",r:"12.531",transform:"rotate(90 64 64)"}),Object(U.jsx)("circle",{cx:"16",cy:"64",r:"10.75",transform:"rotate(135 64 64)"}),Object(U.jsx)("circle",{cx:"16",cy:"64",r:"10.063",transform:"rotate(180 64 64)"}),Object(U.jsx)("circle",{cx:"16",cy:"64",r:"8.063",transform:"rotate(225 64 64)"}),Object(U.jsx)("circle",{cx:"16",cy:"64",r:"6.438",transform:"rotate(270 64 64)"}),Object(U.jsx)("circle",{cx:"16",cy:"64",r:"5.375",transform:"rotate(315 64 64)"}),Object(U.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0 64 64;315 64 64;270 64 64;225 64 64;180 64 64;135 64 64;90 64 64;45 64 64",calcMode:"discrete",dur:"720ms",repeatCount:"indefinite"})]})]}))},vt=(a(104),a(105),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){Object(ht.loadProgressBar)({},N)}},{key:"render",value:function(){return this.props.loading?Object(U.jsxs)("div",{className:"loading-box",children:[Object(U.jsx)("span",{className:"loading-line"}),Object(U.jsx)(jt,{})]}):Object(U.jsx)("div",{})}}]),a}(r.a.Component)),Ot=Object(i.b)((function(e){return Object(d.a)({},e.loading)}),null)(vt),ft=(a(106),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleClosedErrorMessage=function(){var t=e.props.clearErrorMessages;t&&t()},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.error,t=e?e.errorMessages:[];return Object(U.jsxs)("div",{className:"error-box",style:{marginLeft:t.length?0:-300},children:[Object(U.jsx)("div",{className:"error-container",children:Object(U.jsx)("div",{className:"message",children:t.map((function(e){return Object(U.jsx)("p",{className:"error-description",children:e},e)}))})}),Object(U.jsx)("div",{className:"error__delete_btn",onClick:this.handleClosedErrorMessage})]})}}]),a}(r.a.Component)),mt=Object(i.b)((function(e){return Object(d.a)({},e)}),(function(e){return{clearErrorMessages:function(){e({type:D.ERROR_CLEAR})}}}))(ft);!function(e){e.AUTORIZATION="AUTORIZATION",e.AUTHORIZED_USER_FILL_THE_DATA="AUTHORIZED_USER_FILL_THE_DATA",e.LOGOUT="LOGOUT"}(dt||(dt={}));a(107);var Ct=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleLogOut=n.handleLogOut.bind(Object(x.a)(n)),n}return Object(j.a)(a,[{key:"handleLogOut",value:function(){(0,this.props.userOutLog)()}},{key:"render",value:function(){return this.props.userIsLogged?Object(U.jsx)("div",{className:"logout-box",children:Object(U.jsx)("button",{className:"logout-button",onClick:this.handleLogOut,children:"Log out"})}):null}}]),a}(r.a.Component),xt=Object(i.b)((function(e){return Object(d.a)({},e.user)}),{userOutLog:function(){return function(e){y(),e({type:dt.LOGOUT}),e({type:B.CLEAR_BOARD}),e({type:I.CLEAR_BOARDS})}}})(Ct),gt=a(50),At=a.n(gt),yt=(a(108),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).formSwitcher=function(){n.setState((function(e){return{formAuthorization:!e.formAuthorization}}))},n.setButtonActive=function(e,t){var a=n.state,r=a.email,s=a.fPassword,c=a.sPassword,i="email"===e&&!(!t&&!r),o="fPassword"===e&&!(!t&&!s),d="sPassword"===e&&!(!t&&!c);n.setState({buttonActive:i&&o&&d})},n.validateEmail=function(){var e=n.state,t=e.email,a=e.error,r="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441.";return/^[\w\-.]+@[\w-]+\.[a-z]{2,4}$/i.test(t)?(n.setState({emailOk:!0,error:a.filter((function(e){return e!==r}))}),!0):(a.find((function(e){return e===r}))||a.push(r),n.setState({emailOk:!1,error:a}),!1)},n.checkPasswordComplex=function(){var e=n.state,t=e.fPasswordOk,a=e.error,r="\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043f\u0440\u043e\u0441\u0442\u043e\u0439";return t?(n.setState({error:a.filter((function(e){return e!==r}))}),!0):(a.find((function(e){return e===r}))||a.push(r),n.setState({fPasswordOk:!1,error:a}),!1)},n.checkPasswordEquality=function(){var e=n.state,t=e.fPassword,a=e.sPassword,r=e.error,s="\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442";return t.length!==a.length&&t!==a?(r.find((function(e){return e===s}))||r.push(s),n.setState({sPpasswordOk:!1,error:r}),!1):(n.setState({sPpasswordOk:!0,error:r.filter((function(e){return e!==s}))}),!0)},n.callBackPasswordStrengBar=function(e,t){var a=n.state.fPasswordIsComplex;n.setState({fPasswordOk:e>=a})},n.state={formAuthorization:!0,buttonActive:!0,name:"Vasja",nameOk:!0,email:"ae1@gmail.com",emailOk:!0,fPassword:"1111",fPasswordIsComplex:0,fPasswordOk:!0,sPassword:"1111",sPpasswordOk:!0,error:[]},n.formSwitcher=n.formSwitcher.bind(Object(x.a)(n)),n.handleInputName=n.handleInputName.bind(Object(x.a)(n)),n.handleUserLogIn=n.handleUserLogIn.bind(Object(x.a)(n)),n.handleUserRegistration=n.handleUserRegistration.bind(Object(x.a)(n)),n.setButtonActive=n.setButtonActive.bind(Object(x.a)(n)),n.callBackPasswordStrengBar=n.callBackPasswordStrengBar.bind(Object(x.a)(n)),n.handleInputOnChange=n.handleInputOnChange.bind(Object(x.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,t=e.email,a=e.fPassword,n=e.sPassword,r=!(""===t||""===a||""===n);this.setState({buttonActive:r})}},{key:"handleInputName",value:function(e){this.setState({name:e.target.value})}},{key:"handleInputOnChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState((function(e){var t;return Object(d.a)(Object(d.a)({},e),{},(t={},Object(Y.a)(t,a,n),Object(Y.a)(t,"error",[]),t))})),this.setButtonActive(a,n)}},{key:"handleUserLogIn",value:function(){var e=Object(C.a)(m.a.mark((function e(t){var a,n,r,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.state.buttonActive&&(a=this.props,n=a.authorizationUser,r=this.state,s=r.email,c=r.fPassword,n(s,c));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleUserRegistration",value:function(){var e=Object(C.a)(m.a.mark((function e(t){var a,n,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.state.buttonActive){e.next=8;break}if(!(this.validateEmail()&&this.checkPasswordComplex()&&this.checkPasswordEquality())){e.next=8;break}return a=this.state,n=a.email,r=a.fPassword,e.next=6,N.post("/user",{email:n,password:r});case 6:(s=e.sent)&&"Created"===s.result?(this.formSwitcher(),this.setState({email:n,fPassword:r}),console.log("Created success!")):console.log("Created false (");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.formAuthorization,a=e.buttonActive,n=e.fPassword,r=e.fPasswordOk,s=e.email,c=e.emailOk,i=e.error,o=e.sPassword,d=e.sPpasswordOk,l=t?"authorization":"registration";return Object(U.jsx)("div",{className:"".concat(l,"-box"),children:Object(U.jsxs)("div",{className:"".concat(l,"-container"),children:[Object(U.jsx)("h4",{className:"".concat(l,"-title"),children:l}),Object(U.jsxs)("form",{className:"".concat(l,"-form"),children:[Object(U.jsx)("label",{htmlFor:"email",children:"Email"}),Object(U.jsx)("input",{type:"email",id:"email",name:"email",className:c?"":"errorValue",defaultValue:s,onChange:this.handleInputOnChange}),Object(U.jsx)("label",{htmlFor:"fPassword",children:"Password"}),Object(U.jsx)("input",{type:"password",id:"fPassword",name:"fPassword",className:r?"":"errorValue",defaultValue:n,onChange:this.handleInputOnChange}),!t&&Object(U.jsx)(At.a,{password:n,className:r?"passwordStrengBar":"passwordStrengBar errorValue",onChangeScore:this.callBackPasswordStrengBar}),!t&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("label",{htmlFor:"sPassword",children:"Repeat password"}),Object(U.jsx)("input",{type:"password",id:"sPassword",name:"sPassword",className:d?"":"errorValue",defaultValue:o,onChange:this.handleInputOnChange}),Object(U.jsx)("div",{className:"textError",children:i.map((function(e,t){return Object(U.jsx)("p",{children:e},t)}))})]}),Object(U.jsx)("input",{type:"submit",onClick:t?this.handleUserLogIn:this.handleUserRegistration,value:t?"Sign in":"Register now",className:"".concat(l,"-submit ").concat(a?"active":"")}),!t&&Object(U.jsxs)("p",{className:"".concat(l,"-already"),children:["Already have an account? ",Object(U.jsx)("span",{onClick:this.formSwitcher,children:"Sign in"})]}),t&&Object(U.jsxs)("p",{className:"".concat(l,"-already"),children:["First time with us? ",Object(U.jsx)("span",{onClick:this.formSwitcher,children:"Register now"})]})]})]})})}}]),a}(r.a.Component)),wt=Object(i.b)(null,{authorizationUser:function(e,t){return function(){var a=Object(C.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.post("/login",{email:e,password:t});case 3:(r=a.sent)&&"Authorized"===r.result?(s=r.token,sessionStorage.setItem("token",s),n({type:dt.AUTORIZATION})):(y(),n({type:dt.LOGOUT})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("Error authorized: ",a.t0);case 10:case"end":return a.stop()}var s}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(yt);b.b.add(p.a);var It=Object(i.b)((function(e){return Object(d.a)({},e.user)}))((function(e){var t=e.userIsLogged;return Object(U.jsxs)(l.a,{children:[Object(U.jsx)(Ot,{}),Object(U.jsx)(mt,{}),Object(U.jsxs)("div",{id:"app-main-page",children:[Object(U.jsxs)("nav",{id:"app-main-nav",children:[Object(U.jsx)(l.b,{to:"/",children:Object(U.jsx)("div",{className:"logo-box",children:Object(U.jsx)("img",{style:{width:"100%",height:"auto"},className:"home-page-img",src:"data:image/png;base64,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",alt:"home"})})}),Object(U.jsx)(l.b,{to:"/",children:Object(U.jsx)(xt,{})})]}),Object(U.jsx)(u.a,{exact:!0,path:"/",component:t?V:wt}),Object(U.jsx)(u.a,{path:"/board/:boardId",component:bt}),Object(U.jsx)(u.a,{path:"/b/:boardId/c/:cardId",component:bt})]})]})})),kt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,112)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},Nt=a(28),Dt=a(52),Et=function(e,t){switch(t.type){case B.UPDATE_BOARD:return Object(d.a)(Object(d.a)({},e),{},{boardContent:t.payload});case B.CLEAR_BOARD:return Object(d.a)(Object(d.a)({},e),{},{boardContent:null});default:return Object(d.a)({},e)}},Bt={boardsList:[]},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.UPDATE_BOARDS:return{boardsList:t.payload};case I.CLEAR_BOARDS:return{boardsList:null};default:return e}},Lt=function(){return{userIsLogged:!!A()}},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt.AUTORIZATION:return Object(d.a)(Object(d.a)({},e),{},{userIsLogged:!0});case dt.LOGOUT:return Object(d.a)(Object(d.a)({},e),{},{userIsLogged:!1});default:return e}},Tt=Object(Nt.b)({board:Et,boards:St,user:Rt,load:E,error:S}),_t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Nt.c,Mt=Object(Nt.d)(Tt,_t(Object(Nt.a)(Dt.a)));c.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(i.a,{store:Mt,children:Object(U.jsx)(o.a,{children:Object(U.jsx)(It,{})})})}),document.getElementById("root")),kt()},25:function(e,t,a){e.exports={button:"Button_button__3Qveq",grey:"Button_grey__xRmu7",blue:"Button_blue__WXsIl",brown:"Button_brown__3u0wG",circle:"Button_circle__2OMbc",simpleButton:"Button_simpleButton__pmhhp",icon:"Button_icon__A90YG"}},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},89:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.c9ba062f.chunk.js.map